<table mat-table [dataSource]="rows" cdkDropList (cdkDropListDropped)="drop($event)">

  <ng-container *ngFor="let column of columns" [matColumnDef]="column.field" >
    
    <th mat-header-cell *matHeaderCellDef [ngSwitch]="column.field"> 
      <ng-template [ngSwitchDefault]>
        {{column.title}}
      </ng-template>
    </th>

    <td mat-cell *matCellDef="let element" [ngSwitch]="column.field"  > 
      <ng-template [ngSwitchDefault]>
        {{element[column.field]}}
      </ng-template>
      <ng-template  [ngSwitchCase]="'status'">
        <mat-checkbox class="switcher" [checked]="element.show" (change)="element.show = !element.show">
          {{element.show?'Фильтр включен':'Фильтр отключен'}}
        </mat-checkbox>
      </ng-template >
      <ng-template [ngSwitchCase]="'btn'">
        <button>edit</button>
        <button >del</button>
      </ng-template>
      <ng-template [ngSwitchCase]="'move'">
        Переместить
        
        
      </ng-template>
    </td>

  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" cdkDrag></tr>
</table>