"use strict";(self.webpackChunkcargodrom_frontend=self.webpackChunkcargodrom_frontend||[]).push([[611],{8611:(ot,_,l)=>{l.r(_),l.d(_,{SettingsModule:()=>nt});var h=l(433),k=l(898),m=l(6895),d=l(5142),t=l(1571),u=l(529),v=l(1352),r=l(8637),p=l(9300),s=l(4004),U=l(297);let b=(()=>{class o extends v.b{constructor(e,n){super(e,n)}companyList$Response(e){const n=new r.c(this.rootUrl,o.CompanyListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyList(e){return this.companyList$Response(e).pipe((0,s.U)(n=>n.body))}companyInfo$Response(e){const n=new r.c(this.rootUrl,o.CompanyInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyInfo(e){return this.companyInfo$Response(e).pipe((0,s.U)(n=>n.body))}companyCreate$Response(e){const n=new r.c(this.rootUrl,o.CompanyCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyCreate(e){return this.companyCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyUpdate$Response(e){const n=new r.c(this.rootUrl,o.CompanyUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyUpdate(e){return this.companyUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyDelete$Response(e){const n=new r.c(this.rootUrl,o.CompanyDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyDelete(e){return this.companyDelete$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentList$Response(e){const n=new r.c(this.rootUrl,o.CompanyDepartmentListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyDepartmentList(e){return this.companyDepartmentList$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentCreate$Response(e){const n=new r.c(this.rootUrl,o.CompanyDepartmentCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyDepartmentCreate(e){return this.companyDepartmentCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentUpdate$Response(e){const n=new r.c(this.rootUrl,o.CompanyDepartmentUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyDepartmentUpdate(e){return this.companyDepartmentUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentDelete$Response(e){const n=new r.c(this.rootUrl,o.CompanyDepartmentDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyDepartmentDelete(e){return this.companyDepartmentDelete$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionList$Response(e){const n=new r.c(this.rootUrl,o.CompanyPositionListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyPositionList(e){return this.companyPositionList$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionInfo$Response(e){const n=new r.c(this.rootUrl,o.CompanyPositionInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyPositionInfo(e){return this.companyPositionInfo$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionCreate$Response(e){const n=new r.c(this.rootUrl,o.CompanyPositionCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyPositionCreate(e){return this.companyPositionCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionUpdate$Response(e){const n=new r.c(this.rootUrl,o.CompanyPositionUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyPositionUpdate(e){return this.companyPositionUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionDelete$Response(e){const n=new r.c(this.rootUrl,o.CompanyPositionDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyPositionDelete(e){return this.companyPositionDelete$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeList$Response(e){const n=new r.c(this.rootUrl,o.CompanyEmployeeListPath,"get");return e&&(n.query("department_id",e.department_id,{}),n.query("position_id",e.position_id,{}),n.query("page",e.page,{}),n.query("limit",e.limit,{})),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyEmployeeList(e){return this.companyEmployeeList$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeInfo$Response(e){const n=new r.c(this.rootUrl,o.CompanyEmployeeInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyEmployeeInfo(e){return this.companyEmployeeInfo$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeCreate$Response(e){const n=new r.c(this.rootUrl,o.CompanyEmployeeCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyEmployeeCreate(e){return this.companyEmployeeCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeUpdate$Response(e){const n=new r.c(this.rootUrl,o.CompanyEmployeeUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyEmployeeUpdate(e){return this.companyEmployeeUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeDelete$Response(e){const n=new r.c(this.rootUrl,o.CompanyEmployeeDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,p.h)(i=>i instanceof u.Zn),(0,s.U)(i=>i))}companyEmployeeDelete(e){return this.companyEmployeeDelete$Response(e).pipe((0,s.U)(n=>n.body))}}return o.CompanyListPath="/company_list",o.CompanyInfoPath="/company_info",o.CompanyCreatePath="/company_create",o.CompanyUpdatePath="/company_update",o.CompanyDeletePath="/company_delete",o.CompanyDepartmentListPath="/company_department_list",o.CompanyDepartmentCreatePath="/company_department_create",o.CompanyDepartmentUpdatePath="/company_department_update",o.CompanyDepartmentDeletePath="/company_department_delete",o.CompanyPositionListPath="/company_position_list",o.CompanyPositionInfoPath="/company_position_info",o.CompanyPositionCreatePath="/company_position_create",o.CompanyPositionUpdatePath="/company_position_update",o.CompanyPositionDeletePath="/company_position_delete",o.CompanyEmployeeListPath="/company_employee_list",o.CompanyEmployeeInfoPath="/company_employee_info",o.CompanyEmployeeCreatePath="/company_employee_create",o.CompanyEmployeeUpdatePath="/company_employee_update",o.CompanyEmployeeDeletePath="/company_employee_delete",o.\u0275fac=function(e){return new(e||o)(t.LFG(U.p),t.LFG(u.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=l(918);const P=function(o){return{odd:o}},T=function(o){return["../employee",o]},D=function(){return["./department?id=1&act=switch_show&show=1"]},q=function(){return["./department?id=1&act=edit"]},M=function(){return["./department?id=1&act=del"]};function A(o,a){if(1&o&&(t.TgZ(0,"tr",10)(1,"td",11),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",12),t._uU(9,"\u041f\u043e\u043b\u0438\u043d\u0430 \u0417\u0430\u0439\u0446\u0435\u0432\u0430"),t.qZA()(),t.TgZ(10,"td")(11,"a",13)(12,"span"),t._uU(13,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.qZA()()(),t.TgZ(14,"td",14)(15,"span",15),t._uU(16,"\u041d\u0435\u0442"),t.qZA(),t._UZ(17,"a",16)(18,"span",17),t.qZA()()),2&o){const e=a.$implicit;t.Q6J("ngClass",t.VKq(8,P,a.odd)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.count_position),t.xp6(2),t.Oqu(e.count_user),t.xp6(2),t.Q6J("routerLink",t.VKq(10,T,e.id)),t.xp6(7),t.Q6J("routerLink",t.DdM(12,D)),t.xp6(2),t.Q6J("routerLink",t.DdM(13,q)),t.xp6(1),t.Q6J("routerLink",t.DdM(14,M))}}let B=(()=>{class o{constructor(e){this.companyService=e,this.departments=[],this.total=0,this.start=0,this.limits=[25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadDepartments()}loadDepartments(){this.companyService.companyDepartmentList().subscribe(e=>{this.departments=e||[],this.total=this.departments.length})}onStartChange(e){this.loadDepartments()}onCountChange(e){this.loadDepartments()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-department"]],decls:26,vars:5,consts:[[1,"main-table","fix-head","table-065dcf359d0addbf0d3ed4570559e2c1"],["data-href","/erp/settings/department?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],["data-href","/erp/settings/department?sort_field=count_position&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/department?sort_field=count_user&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/department?sort_field=director&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[2,"width","134px"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],[3,"ngClass"],[1,"col"],[1,"link-view",3,"routerLink"],["href","?act=add&id=1",1,"btn","add-item-text"],[1,"col","min","right"],["title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide",3,"routerLink"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3)(8,"span"),t._uU(9,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0435\u0439"),t._UZ(10,"span",2),t.qZA()(),t.TgZ(11,"th",4)(12,"span"),t._uU(13,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),t._UZ(14,"span",2),t.qZA()(),t.TgZ(15,"th",5)(16,"span"),t._uU(17,"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),t._UZ(18,"span",2),t.qZA()(),t.TgZ(19,"th",6),t._UZ(20,"span"),t.qZA(),t.TgZ(21,"th",7),t._UZ(22,"span"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,A,19,15,"tr",8),t.qZA()(),t.TgZ(25,"app-paginator",9),t.NdJ("startChange",function(c){return n.onStartChange(c)})("countChange",function(c){return n.onCountChange(c)}),t.qZA()),2&e&&(t.xp6(24),t.Q6J("ngForOf",n.departments),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[m.mk,m.sg,y.J,d.rH,d.yS],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2}),o})();const w=function(o){return{odd:o}};function O(o,a){if(1&o&&(t.TgZ(0,"tr",12)(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",14)(16,"span",15),t._uU(17,"\u041d\u0435\u0442"),t.qZA(),t._UZ(18,"a",16)(19,"span",17),t.qZA()()),2&o){const e=a.$implicit,n=a.odd,i=t.oxw();t.Q6J("ngClass",t.VKq(10,w,n)),t.xp6(2),t.lnq("",e.name_f," ",e.name_i," ",e.name_o,""),t.xp6(2),t.Oqu(i.getCompanyById(e.company_id)),t.xp6(2),t.Oqu(i.getDepartmentById(e.department_id)),t.xp6(2),t.Oqu(i.getPositionById(e.position_id)),t.xp6(2),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.birth_date)}}let F=(()=>{class o{constructor(e){this.companyService=e,this.employees=[],this.departments=[],this.positions=[],this.companies=[],this.total=0,this.start=0,this.limits=[25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadEmployees(),this.loadPositions(),this.loadDepartments(),this.loadCompanies()}loadEmployees(){this.companyService.companyEmployeeList().subscribe(e=>{this.employees=e||[],this.total=this.employees.length,console.table(this.employees)})}loadDepartments(){this.companyService.companyDepartmentList().subscribe(e=>{this.departments=e||[]})}loadPositions(){this.companyService.companyPositionList().subscribe(e=>{this.positions=e||[]})}loadCompanies(){this.companyService.companyList().subscribe(e=>{this.companies=e||[]})}getPositionById(e){return this.positions.find(n=>n.id===e)?.name}getDepartmentById(e){return this.departments.find(n=>n.id===e)?.name}getCompanyById(e){return this.companies.find(n=>n.id===e)?.name}onStartChange(e){this.loadEmployees()}onCountChange(e){this.loadEmployees()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-employee"]],decls:36,vars:5,consts:[[1,"main-table","fix-head","table-98a02492513816a6438bbd36fc9458a2"],["data-href","/erp/settings/employee?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],["data-href","/erp/settings/employee?sort_field=count_position&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=department_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=position_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=phone&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=email&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=birth_date&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],[3,"ngClass"],[1,"col"],[1,"col","min","right"],["data-href","/erp/settings/employee?id=1&act=switch_show&show=1","title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide"],["href","/erp/settings/employee?id=1&act=edit","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/employee?id=1&act=del","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u0424.\u0418.\u041e."),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3)(8,"span"),t._uU(9,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),t._UZ(10,"span",2),t.qZA()(),t.TgZ(11,"th",4)(12,"span"),t._uU(13,"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),t._UZ(14,"span",2),t.qZA()(),t.TgZ(15,"th",5)(16,"span"),t._uU(17,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t._UZ(18,"span",2),t.qZA()(),t.TgZ(19,"th",6)(20,"span"),t._uU(21,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t._UZ(22,"span",2),t.qZA()(),t.TgZ(23,"th",7)(24,"span"),t._uU(25,"E-mail"),t._UZ(26,"span",2),t.qZA()(),t.TgZ(27,"th",8)(28,"span"),t._uU(29,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434."),t._UZ(30,"span",2),t.qZA()(),t.TgZ(31,"th",9),t._UZ(32,"span"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,O,20,12,"tr",10),t.qZA()(),t.TgZ(35,"app-paginator",11),t.NdJ("startChange",function(c){return n.onStartChange(c)})("countChange",function(c){return n.onCountChange(c)}),t.qZA()),2&e&&(t.xp6(34),t.Q6J("ngForOf",n.employees),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[m.mk,m.sg,y.J],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2}),o})();var j=l(8505),C=l(7009);function L(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onRemove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}let I=(()=>{class o{constructor(){this.backLink=[],this.title="",this.isEditMode=!1,this.save=new t.vpe,this.remove=new t.vpe}ngOnInit(){}onSave(){this.save.emit()}onRemove(){this.remove.emit()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-editor-header"]],inputs:{backLink:"backLink",title:"title",isEditMode:"isEditMode"},outputs:{save:"save",remove:"remove"},decls:17,vars:4,consts:[[1,"subheader"],[1,"placer"],[1,"title",3,"routerLink"],[1,"req-fields"],[1,"req"],[1,"div"],[1,"fn"],[1,"btn","v","save",3,"click"],["class","btn v del",3,"click",4,"ngIf"],[1,"btn","v","cancel",3,"routerLink"],[1,"btn","v","del",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._uU(3),t.TgZ(4,"div",3),t._uU(5,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f: "),t.TgZ(6,"span",4),t._uU(7,"\u2022"),t.qZA()()(),t._UZ(8,"div",5),t.TgZ(9,"div",6)(10,"span",7),t.NdJ("click",function(){return n.onSave()}),t.TgZ(11,"span"),t._uU(12,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(13,L,3,0,"span",8),t.TgZ(14,"span",9)(15,"span"),t._uU(16,"\u043e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("routerLink",n.backLink),t.xp6(1),t.hij(" ",n.title," "),t.xp6(10),t.Q6J("ngIf",n.isEditMode),t.xp6(1),t.Q6J("routerLink",n.backLink))},dependencies:[m.O5,d.rH,d.yS]}),o})();function R(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.remove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}const E=function(){return["/pages/settings/position"]};let x=(()=>{class o{constructor(e,n,i,c,f){this.fb=e,this.companyService=n,this.route=i,this.snackBar=c,this.router=f,this.isEditMode=!1,this.position={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.form=this.fb.group({id:[""],name:["",[h.kI.required]]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);this.isEditMode="edit"===e[1],this.isEditMode&&this.getPosition(),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"}getPosition(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyPositionInfo({id:e}).pipe((0,j.b)(n=>{if(!n)throw{error:{error_message:"\u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.position=n,this.form.patchValue(this.position)},error:n=>{this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goToPositions()}})}goToPositions(){this.router.navigate(["/pages/settings/position"])}save(){if(!this.form.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.form.value;"number"==typeof this.position.id?this.updatePosition(e):this.createPosition(e)}createPosition(e){this.companyService.companyPositionCreate({body:e}).pipe().subscribe({next:({})=>{this.goToPositions(),this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}updatePosition(e){this.companyService.companyPositionUpdate({body:e}).pipe().subscribe({next:()=>this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430",void 0,this.snackBarWithShortDuration),error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyPositionDelete({body:{id:this.position.id}}).subscribe({next:()=>{this.snackBar.open(`\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c ${this.position.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.goToPositions()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,{duration:1e3})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.qu),t.Y36(b),t.Y36(d.gz),t.Y36(C.ux),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-position-editor"]],decls:32,vars:8,consts:[[3,"title","backLink","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],["data-id","group_0",1,"form-group"],[1,"form-group-title"],[1,"form-item","form-inline-group"],[1,"form-title"],["type","hidden","formControlName","id"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","",1,"text-control"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"routerLink"],[1,"btn","v","del","button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.qZA(),t.TgZ(8,"div")(9,"div",7),t._UZ(10,"div",8)(11,"input",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",8)(16,"div"),t._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438:"),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div")(22,"div",14),t._UZ(23,"input",15),t.qZA()()()()()()()()()(),t.TgZ(24,"div",16)(25,"span",17),t.NdJ("click",function(){return n.save()}),t.TgZ(26,"span"),t._uU(27,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(28,R,3,0,"span",18),t.TgZ(29,"span",19)(30,"span"),t._uU(31,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("backLink",t.DdM(6,E))("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(26),t.Q6J("ngIf",n.isEditMode),t.xp6(1),t.Q6J("routerLink",t.DdM(7,E)))},dependencies:[m.O5,I,h._Y,h.Fj,h.JJ,h.JL,h.Q7,h.sg,h.u,d.rH]}),o})();var g=l(5412),J=l(4859);const $=["removeDialogRef"],S=function(o){return{odd:o}},Q=function(o){return["./edit",o]};function z(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",7)(1,"td",8),t._uU(2),t.qZA(),t.TgZ(3,"td",9),t._UZ(4,"a",10),t.TgZ(5,"span",11),t.NdJ("click",function(){const c=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.confirmRemove(c))}),t.qZA()()()}if(2&o){const e=a.$implicit;t.Q6J("ngClass",t.VKq(3,S,a.odd)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("routerLink",t.VKq(5,Q,e.id))}}function Y(o,a){if(1&o&&(t.TgZ(0,"h1",12),t._uU(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(2,"div",13),t._uU(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c "),t.TgZ(4,"b"),t._uU(5),t.qZA(),t._uU(6," ? "),t.qZA(),t.TgZ(7,"div",14)(8,"button",15),t._uU(9,"\u0414\u0430"),t.qZA(),t.TgZ(10,"button",16),t._uU(11,"\u041d\u0435\u0442"),t.qZA()()),2&o){const e=a.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(3),t.Q6J("mat-dialog-close",!0)}}let N=(()=>{class o{constructor(e,n,i){this.companyService=e,this.dialog=n,this.snackBar=i,this.positions=[],this.total=0,this.start=0,this.limits=[25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadPositions()}loadPositions(){this.companyService.companyPositionList().subscribe(e=>{this.positions=e||[],this.total=this.positions.length})}onStartChange(e){this.loadPositions()}onCountChange(e){this.loadPositions()}confirmRemove(e){this.dialog.open(this.removeDialogRef,{data:e}).afterClosed().subscribe(n=>{n&&this.removePosition(e)})}removePosition(e){this.companyService.companyPositionDelete({body:{id:e.id}}).subscribe({next:()=>{this.snackBar.open(`\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c ${e.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.loadPositions()},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+i.error.error_message,void 0,{duration:1e3})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(g.uw),t.Y36(C.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-position"]],viewQuery:function(e,n){if(1&e&&t.Gf($,5),2&e){let i;t.iGM(i=t.CRH())&&(n.removeDialogRef=i.first)}},decls:14,vars:5,consts:[[1,"main-table","fix-head","table-4e6cc9770d169fc6e17fab7fb0968f9b"],["data-href","/erp/settings/position?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[3,"ngClass"],[1,"col"],[1,"col","min"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3),t._UZ(8,"span"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,z,6,7,"tr",4),t.qZA()(),t.TgZ(11,"app-paginator",5),t.NdJ("startChange",function(c){return n.onStartChange(c)})("countChange",function(c){return n.onCountChange(c)}),t.qZA(),t.YNc(12,Y,12,2,"ng-template",null,6,t.W1O)),2&e&&(t.xp6(10),t.Q6J("ngForOf",n.positions),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[m.mk,m.sg,g.ZT,g.uh,g.xY,g.H8,y.J,J.lW,d.yS],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']}),o})();const G=function(o){return[o,"add"]};function H(o,a){if(1&o&&(t.TgZ(0,"a",13)(1,"span"),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.Q6J("routerLink",t.VKq(2,G,null==e.activeMenuItem?null:e.activeMenuItem.link)),t.xp6(2),t.Oqu(null==e.activeMenuItem?null:e.activeMenuItem.addButtonTitle)}}const Z=function(o){return[o]};function K(o,a){if(1&o&&(t.TgZ(0,"a",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,Z,e.link)),t.xp6(1),t.Oqu(e.title)}}const V=function(o){return{open:o}},W=function(o){return{display:o}};function X(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.NdJ("click",function(){const c=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.toggleGroup(c))}),t._UZ(2,"span",16),t.TgZ(3,"span",17),t._uU(4),t.qZA(),t._UZ(5,"span",18),t.qZA(),t.TgZ(6,"div",19),t.YNc(7,K,2,4,"a",20),t.qZA()()}if(2&o){const e=a.$implicit;t.Q6J("ngClass",t.VKq(5,V,e.expanded)),t.xp6(2),t.Q6J("ngClass",e.cssClass),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Q6J("ngStyle",t.VKq(7,W,e.expanded?"":"none")),t.xp6(1),t.Q6J("ngForOf",e.items)}}const tt=[{path:"",component:(()=>{class o{constructor(e,n){this.router=e,this.activatedRoute=n,this.settings=[{title:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",cssClass:"settings-common",expanded:!0,items:[{title:"\u041b\u0438\u0447\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",link:"./personal"},{title:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",link:"./company",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"}]},{title:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",cssClass:"settings-company-structure",expanded:!0,items:[{title:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",link:"./department",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"},{title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",link:"./position",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"},{title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",link:"./employee",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}]}],this.routerEventSubscription=e.events.subscribe(i=>{i instanceof d.m2&&this.detectMenuItemAndGroup()})}ngOnInit(){}ngOnDestroy(){this.routerEventSubscription.unsubscribe()}toggleGroup(e){e.expanded=!e.expanded}detectMenuItemAndGroup(){for(const e of this.settings)for(const n of e.items){const i=this.router.createUrlTree([n.link],{relativeTo:this.activatedRoute});if(this.router.isActive(i,{paths:"subset",matrixParams:"ignored",queryParams:"ignored",fragment:"ignored"}))return this.activeMenuItem=n,void(this.activeMenuGroup=e)}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(d.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-settings"]],decls:23,vars:8,consts:[[1,"subheader"],[1,"placer"],[1,"title"],[1,"break-crumbs"],[1,"item-crumbs"],[1,"del-crumbs"],[3,"routerLink"],[1,"div"],["class","btn add",3,"routerLink",4,"ngIf"],[1,"settings"],[1,"left","side-menu"],["class","menu-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"settings-page"],[1,"btn","add",3,"routerLink"],[1,"menu-group",3,"ngClass"],[1,"group-name",3,"click"],[1,"ico",3,"ngClass"],[1,"name"],[1,"chevron"],[1,"group-items",3,"ngStyle"],["class","menu-item","routerLinkActive","open",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","open",1,"menu-item",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"span",4),t._uU(6,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),t.qZA(),t.TgZ(7,"span",5),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",4),t._uU(10),t.qZA(),t.TgZ(11,"span",5),t._uU(12,"/"),t.qZA(),t.TgZ(13,"span",4)(14,"a",6),t._uU(15),t.qZA()()(),t._UZ(16,"div",7),t.YNc(17,H,3,4,"a",8),t.qZA()(),t.TgZ(18,"div",9)(19,"div",10),t.YNc(20,X,8,9,"div",11),t.qZA(),t.TgZ(21,"div",12),t._UZ(22,"router-outlet"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(null==n.activeMenuItem?null:n.activeMenuItem.title),t.xp6(7),t.hij(" ",null==n.activeMenuGroup?null:n.activeMenuGroup.title,""),t.xp6(4),t.Q6J("routerLink",t.VKq(6,Z,null==n.activeMenuItem?null:n.activeMenuItem.link)),t.xp6(1),t.hij(" ",null==n.activeMenuItem?null:n.activeMenuItem.title,""),t.xp6(2),t.Q6J("ngIf",null==n.activeMenuItem?null:n.activeMenuItem.canAdd),t.xp6(3),t.Q6J("ngForOf",n.settings))},dependencies:[m.mk,m.sg,m.O5,m.PC,d.lC,d.yS,d.Od],styles:[".settings{display:flex;flex-grow:1}.settings .left{width:320px;flex-shrink:0}.settings .settings-page{flex-grow:1;padding:20px}.settings .settings-page .table-footer{padding:20px 0 0}.side-menu{background:#4B66AD;color:#fff}.side-menu a{color:#fff;text-decoration:none}.side-menu .menu-group{border-bottom:1px solid #5B77C1}.side-menu .group-name{display:flex;align-items:center;cursor:pointer}.side-menu .group-name .ico{width:56px;height:56px;display:flex;justify-content:center;align-items:center;background-repeat:no-repeat;background-position:center}.settings-common{background-image:url(pic-settings-common.71a443c53900234c.svg)}.settings-company-structure{background-image:url(pic-settings-company-structure.3b7df5efe313f427.svg)}.side-menu .group-name .name{flex-grow:1}.side-menu .group-name .chevron{width:56px;height:56px;background:url(settings-arrow-down.b95565480e6df875.svg) no-repeat center center}.side-menu .menu-group.open{background:#5B77C1}.side-menu .menu-group.open .group-name .ico svg path{fill:#fff}.side-menu .menu-group.open .group-name .chevron{transform:rotate(180deg)}.side-menu .menu-group.open .group-name+.group-items{display:block}.side-menu .group-items{padding:0 0 7px 48px}.side-menu .menu-item{display:block;font-size:13px;line-height:16px;padding:8px 10px 7px 8px;border-radius:6px 0 0 6px;cursor:pointer}.side-menu .menu-item+.menu-item{margin-top:3px}.side-menu .menu-item.open{background:#fff;color:#4b66ad}\n"],encapsulation:2}),o})(),children:[{path:"",redirectTo:"department",pathMatch:"full"},{path:"department",component:B,pathMatch:"full"},{path:"position",component:N,pathMatch:"full"},{path:"employee",component:F,pathMatch:"full"}]},{path:"position/add",component:x,pathMatch:"full"},{path:"position/edit/:id",component:x,pathMatch:"full"}];let et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(tt),d.Bz]}),o})(),nt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,k.q,h.u5,h.UX,et]}),o})()}}]);