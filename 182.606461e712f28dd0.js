"use strict";(self.webpackChunkcargodrom_frontend=self.webpackChunkcargodrom_frontend||[]).push([[182],{6182:(ft,v,d)=>{d.r(v),d.d(v,{SettingsModule:()=>gt});var r=d(433),A=d(6782),h=d(6895),p=d(5142),Z=d(8505),t=d(1571),c=d(529),D=d(1352),l=d(8637),m=d(9300),a=d(4004),P=d(297);let f=(()=>{class i extends D.b{constructor(e,n){super(e,n)}companyList$Response(e){const n=new l.c(this.rootUrl,i.CompanyListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyList(e){return this.companyList$Response(e).pipe((0,a.U)(n=>n.body))}companyInfo$Response(e){const n=new l.c(this.rootUrl,i.CompanyInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyInfo(e){return this.companyInfo$Response(e).pipe((0,a.U)(n=>n.body))}companyCreate$Response(e){const n=new l.c(this.rootUrl,i.CompanyCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyCreate(e){return this.companyCreate$Response(e).pipe((0,a.U)(n=>n.body))}companyUpdate$Response(e){const n=new l.c(this.rootUrl,i.CompanyUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyUpdate(e){return this.companyUpdate$Response(e).pipe((0,a.U)(n=>n.body))}companyDelete$Response(e){const n=new l.c(this.rootUrl,i.CompanyDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyDelete(e){return this.companyDelete$Response(e).pipe((0,a.U)(n=>n.body))}companyDepartmentList$Response(e){const n=new l.c(this.rootUrl,i.CompanyDepartmentListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyDepartmentList(e){return this.companyDepartmentList$Response(e).pipe((0,a.U)(n=>n.body))}companyDepartmentInfo$Response(e){const n=new l.c(this.rootUrl,i.CompanyDepartmentInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyDepartmentInfo(e){return this.companyDepartmentInfo$Response(e).pipe((0,a.U)(n=>n.body))}companyDepartmentCreate$Response(e){const n=new l.c(this.rootUrl,i.CompanyDepartmentCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyDepartmentCreate(e){return this.companyDepartmentCreate$Response(e).pipe((0,a.U)(n=>n.body))}companyDepartmentUpdate$Response(e){const n=new l.c(this.rootUrl,i.CompanyDepartmentUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyDepartmentUpdate(e){return this.companyDepartmentUpdate$Response(e).pipe((0,a.U)(n=>n.body))}companyDepartmentDelete$Response(e){const n=new l.c(this.rootUrl,i.CompanyDepartmentDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyDepartmentDelete(e){return this.companyDepartmentDelete$Response(e).pipe((0,a.U)(n=>n.body))}companyPositionList$Response(e){const n=new l.c(this.rootUrl,i.CompanyPositionListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyPositionList(e){return this.companyPositionList$Response(e).pipe((0,a.U)(n=>n.body))}companyPositionInfo$Response(e){const n=new l.c(this.rootUrl,i.CompanyPositionInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyPositionInfo(e){return this.companyPositionInfo$Response(e).pipe((0,a.U)(n=>n.body))}companyPositionCreate$Response(e){const n=new l.c(this.rootUrl,i.CompanyPositionCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyPositionCreate(e){return this.companyPositionCreate$Response(e).pipe((0,a.U)(n=>n.body))}companyPositionUpdate$Response(e){const n=new l.c(this.rootUrl,i.CompanyPositionUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyPositionUpdate(e){return this.companyPositionUpdate$Response(e).pipe((0,a.U)(n=>n.body))}companyPositionDelete$Response(e){const n=new l.c(this.rootUrl,i.CompanyPositionDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyPositionDelete(e){return this.companyPositionDelete$Response(e).pipe((0,a.U)(n=>n.body))}companyEmployeeList$Response(e){const n=new l.c(this.rootUrl,i.CompanyEmployeeListPath,"get");return e&&(n.query("department_id",e.department_id,{}),n.query("position_id",e.position_id,{}),n.query("page",e.page,{}),n.query("limit",e.limit,{})),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyEmployeeList(e){return this.companyEmployeeList$Response(e).pipe((0,a.U)(n=>n.body))}companyEmployeeInfo$Response(e){const n=new l.c(this.rootUrl,i.CompanyEmployeeInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyEmployeeInfo(e){return this.companyEmployeeInfo$Response(e).pipe((0,a.U)(n=>n.body))}companyEmployeeCreate$Response(e){const n=new l.c(this.rootUrl,i.CompanyEmployeeCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyEmployeeCreate(e){return this.companyEmployeeCreate$Response(e).pipe((0,a.U)(n=>n.body))}companyEmployeeUpdate$Response(e){const n=new l.c(this.rootUrl,i.CompanyEmployeeUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyEmployeeUpdate(e){return this.companyEmployeeUpdate$Response(e).pipe((0,a.U)(n=>n.body))}companyEmployeeDelete$Response(e){const n=new l.c(this.rootUrl,i.CompanyEmployeeDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,m.h)(o=>o instanceof c.Zn),(0,a.U)(o=>o))}companyEmployeeDelete(e){return this.companyEmployeeDelete$Response(e).pipe((0,a.U)(n=>n.body))}}return i.CompanyListPath="/company_list",i.CompanyInfoPath="/company_info",i.CompanyCreatePath="/company_create",i.CompanyUpdatePath="/company_update",i.CompanyDeletePath="/company_delete",i.CompanyDepartmentListPath="/company_department_list",i.CompanyDepartmentInfoPath="/company_department_info",i.CompanyDepartmentCreatePath="/company_department_create",i.CompanyDepartmentUpdatePath="/company_department_update",i.CompanyDepartmentDeletePath="/company_department_delete",i.CompanyPositionListPath="/company_position_list",i.CompanyPositionInfoPath="/company_position_info",i.CompanyPositionCreatePath="/company_position_create",i.CompanyPositionUpdatePath="/company_position_update",i.CompanyPositionDeletePath="/company_position_delete",i.CompanyEmployeeListPath="/company_employee_list",i.CompanyEmployeeInfoPath="/company_employee_info",i.CompanyEmployeeCreatePath="/company_employee_create",i.CompanyEmployeeUpdatePath="/company_employee_update",i.CompanyEmployeeDeletePath="/company_employee_delete",i.\u0275fac=function(e){return new(e||i)(t.LFG(P.p),t.LFG(c.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var b=d(7009);function B(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"span",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onRemove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}let y=(()=>{class i{constructor(){this.backLink=[],this.title="",this.isEditMode=!1,this.save=new t.vpe,this.remove=new t.vpe}ngOnInit(){}onSave(){this.save.emit()}onRemove(){this.remove.emit()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-editor-header"]],inputs:{backLink:"backLink",title:"title",isEditMode:"isEditMode"},outputs:{save:"save",remove:"remove"},decls:17,vars:4,consts:[[1,"subheader"],[1,"placer"],[1,"title",3,"routerLink"],[1,"req-fields"],[1,"req"],[1,"div"],[1,"fn"],[1,"btn","v","save",3,"click"],["class","btn v del",3,"click",4,"ngIf"],[1,"btn","v","cancel",3,"routerLink"],[1,"btn","v","del",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._uU(3),t.TgZ(4,"div",3),t._uU(5,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f: "),t.TgZ(6,"span",4),t._uU(7,"\u2022"),t.qZA()()(),t._UZ(8,"div",5),t.TgZ(9,"div",6)(10,"span",7),t.NdJ("click",function(){return n.onSave()}),t.TgZ(11,"span"),t._uU(12,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(13,B,3,0,"span",8),t.TgZ(14,"span",9)(15,"span"),t._uU(16,"\u043e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("routerLink",n.backLink),t.xp6(1),t.hij(" ",n.title," "),t.xp6(10),t.Q6J("ngIf",n.isEditMode),t.xp6(1),t.Q6J("routerLink",n.backLink))},dependencies:[h.O5,p.rH,p.yS]}),i})();const M=function(){return["/pages/settings/department"]};let E=(()=>{class i{constructor(e,n,o,s,g){this.fb=e,this.companyService=n,this.route=o,this.snackBar=s,this.router=g,this.isEditMode=!1,this.department={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.form=this.fb.group({id:[""],name:["",[r.kI.required]]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);this.isEditMode="edit"===e[1],this.isEditMode&&this.getDepartment(),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"}getDepartment(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyDepartmentInfo({id:e}).pipe((0,Z.b)(n=>{if(!n)throw{error:{error_message:"\u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.department=n,this.form.patchValue(this.department)},error:n=>{this.snackBar.open("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goToDepartments()}})}goToDepartments(){this.router.navigate(["/pages/settings/department"])}save(){if(!this.form.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.form.value;"number"==typeof this.department.id?this.updateDepartment(e):this.createDepartment(e)}createDepartment(e){this.companyService.companyDepartmentCreate({body:e}).pipe().subscribe({next:({})=>{this.goToDepartments(),this.snackBar.open("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}updateDepartment(e){this.companyService.companyDepartmentUpdate({body:e}).pipe().subscribe({next:()=>{this.snackBar.open("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",void 0,this.snackBarWithShortDuration),this.goToDepartments()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyDepartmentDelete({body:{id:this.department.id}}).subscribe({next:()=>{this.snackBar.open(`\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 ${this.department.name} \u0443\u0434\u0430\u043b\u0435\u043d\u043e`,void 0,{duration:1e3}),this.goToDepartments()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f: "+n.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.qu),t.Y36(f),t.Y36(p.gz),t.Y36(b.ux),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-department-editor"]],decls:291,vars:5,consts:[[3,"title","backLink","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],[1,"form-group"],[1,"form-group-title"],["type","hidden","formControlName","id"],[1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","",1,"text-control"],["cellspacing","0",1,"main-table","fixed",2,"display","none","width","1144px","top","0px"],["data-href","/erp/settings/department?act=new&sort_field=nums&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","57.775px"],[1,"sorting-indicator"],["data-href","/erp/settings/department?act=new&sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","299px"],["data-href","/erp/settings/department?act=new&sort_field=position_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","323.725px"],[2,"width","349px"],[2,"width","114px"],[1,"main-table","fix-head","table-61c20c0f4c8ddffee3f3624545fe9ea4"],["data-href","/erp/settings/department?act=new&sort_field=nums&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","1px"],["data-href","/erp/settings/department?act=new&sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","250px"],["data-href","/erp/settings/department?act=new&sort_field=position_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[2,"width","300px"],[2,"width","65px"],["data-id","main",1,"form-item"],[1,"switch","outer"],["type","hidden","name","main","value","1"],["type","checkbox","onchange","$(this).prev().val($(this).is(':checked') ? '1' : '0').trigger('change')","checked",""],[1,"switcher"],["data-on","\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c",1,"bg"],[1,"thumb"],["data-on","\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c",1,"switch-title"],["type","hidden","name","validator","value",'{"hash":"fd9f0dee0fafc63b93de4dfba833a423"}'],[1,"col","min"],["href","/erp/settings/department?act=edit&id=1","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=1","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],[1,"odd"],["id","form","method","post","onsubmit","return ajaxFormPost(this);","action","/erp/settings/department",1,"form"],["href","/erp/settings/department?act=edit&id=324","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=324","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],["href","/erp/settings/department?act=edit&id=325","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=325","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],["href","/erp/settings/department?act=edit&id=326","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=326","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],["href","/erp/settings/department?act=edit&id=334","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=334","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],["href","/erp/settings/department?act=edit&id=335","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=335","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],["href","/erp/settings/department?act=edit&id=336","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=336","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],["href","/erp/settings/department?act=edit&id=337","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link"],["data-href","/erp/settings/department?act=del&id=337","onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"],["colspan","5"],["href","?act=add&id=1",1,"btn","add-item-text"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2"],[1,"btn","v","del","button"],[1,"btn","v","cancel","button","gray"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"input",7),t.TgZ(10,"div",8),t._UZ(11,"div",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",9)(16,"div"),t._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f:"),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div")(22,"div",14),t._UZ(23,"input",15),t.qZA()()()()()()()()(),t.TgZ(24,"div",5)(25,"div",6),t._uU(26,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),t.qZA()(),t.TgZ(27,"table",16)(28,"tbody")(29,"tr")(30,"th",17)(31,"span"),t._UZ(32,"span",18),t.qZA()(),t.TgZ(33,"th",19)(34,"span"),t._uU(35,"\u0424.\u0418.\u041e."),t._UZ(36,"span",18),t.qZA()(),t.TgZ(37,"th",20)(38,"span"),t._uU(39,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t._UZ(40,"span",18),t.qZA()(),t.TgZ(41,"th",21),t._UZ(42,"span"),t.qZA(),t.TgZ(43,"th",22)(44,"span"),t._uU(45,"\u0420\u0435\u0434."),t.qZA()()()()(),t.TgZ(46,"table",23)(47,"thead")(48,"tr")(49,"th",24)(50,"span"),t._UZ(51,"span",18),t.qZA()(),t.TgZ(52,"th",25)(53,"span"),t._uU(54,"\u0424.\u0418.\u041e."),t._UZ(55,"span",18),t.qZA()(),t.TgZ(56,"th",26)(57,"span"),t._uU(58,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t._UZ(59,"span",18),t.qZA()(),t.TgZ(60,"th",27),t._UZ(61,"span"),t.qZA(),t.TgZ(62,"th",28)(63,"span"),t._uU(64,"\u0420\u0435\u0434."),t.qZA()()()(),t.TgZ(65,"tbody")(66,"tr")(67,"td"),t._uU(68,"1"),t.qZA(),t.TgZ(69,"td"),t._uU(70,"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442"),t.qZA(),t._UZ(71,"td"),t.TgZ(72,"td")(73,"div",3)(74,"div",4)(75,"div",29),t._UZ(76,"div",9),t.TgZ(77,"div",10)(78,"div")(79,"div",14)(80,"label",30),t._UZ(81,"input",31)(82,"input",32),t.TgZ(83,"div",33),t._UZ(84,"span",34)(85,"span",35),t.qZA(),t._UZ(86,"span",36),t.qZA()()()()()()(),t._UZ(87,"input",37),t.qZA(),t.TgZ(88,"td",38),t._UZ(89,"a",39)(90,"span",40),t.qZA()(),t.TgZ(91,"tr",41)(92,"td"),t._uU(93,"2"),t.qZA(),t.TgZ(94,"td"),t._uU(95,"string string string"),t.qZA(),t.TgZ(96,"td"),t._uU(97,"\u0413\u043b\u0430\u0432\u0430\u0440\u044c"),t.qZA(),t.TgZ(98,"td")(99,"form",42)(100,"div",3)(101,"div",4)(102,"div",29),t._UZ(103,"div",9),t.TgZ(104,"div",10)(105,"div")(106,"div",14)(107,"label",30),t._UZ(108,"input",31)(109,"input",32),t.TgZ(110,"div",33),t._UZ(111,"span",34)(112,"span",35),t.qZA(),t._UZ(113,"span",36),t.qZA()()()()()()(),t._UZ(114,"input",37),t.qZA()(),t.TgZ(115,"td",38),t._UZ(116,"a",43)(117,"span",44),t.qZA()(),t.TgZ(118,"tr")(119,"td"),t._uU(120,"3"),t.qZA(),t.TgZ(121,"td"),t._uU(122,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0418\u043c\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),t.qZA(),t.TgZ(123,"td"),t._uU(124,"\u0413\u043b\u0430\u0432\u0430\u0440\u044c"),t.qZA(),t.TgZ(125,"td")(126,"form",42)(127,"div",3)(128,"div",4)(129,"div",29),t._UZ(130,"div",9),t.TgZ(131,"div",10)(132,"div")(133,"div",14)(134,"label",30),t._UZ(135,"input",31)(136,"input",32),t.TgZ(137,"div",33),t._UZ(138,"span",34)(139,"span",35),t.qZA(),t._UZ(140,"span",36),t.qZA()()()()()()(),t._UZ(141,"input",37),t.qZA()(),t.TgZ(142,"td",38),t._UZ(143,"a",45)(144,"span",46),t.qZA()(),t.TgZ(145,"tr",41)(146,"td"),t._uU(147,"4"),t.qZA(),t.TgZ(148,"td"),t._uU(149,"\u0424 \u0418 \u041e"),t.qZA(),t.TgZ(150,"td"),t._uU(151,"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440"),t.qZA(),t.TgZ(152,"td")(153,"form",42)(154,"div",3)(155,"div",4)(156,"div",29),t._UZ(157,"div",9),t.TgZ(158,"div",10)(159,"div")(160,"div",14)(161,"label",30),t._UZ(162,"input",31)(163,"input",32),t.TgZ(164,"div",33),t._UZ(165,"span",34)(166,"span",35),t.qZA(),t._UZ(167,"span",36),t.qZA()()()()()()(),t._UZ(168,"input",37),t.qZA()(),t.TgZ(169,"td",38),t._UZ(170,"a",47)(171,"span",48),t.qZA()(),t.TgZ(172,"tr")(173,"td"),t._uU(174,"5"),t.qZA(),t.TgZ(175,"td"),t._uU(176,"\u0410\u043d\u0434\u0440\u043e\u043f\u043e\u0432 \u0415\u0432\u0433\u0435\u043d\u0438\u0439"),t.qZA(),t._UZ(177,"td"),t.TgZ(178,"td")(179,"form",42)(180,"div",3)(181,"div",4)(182,"div",29),t._UZ(183,"div",9),t.TgZ(184,"div",10)(185,"div")(186,"div",14)(187,"label",30),t._UZ(188,"input",31)(189,"input",32),t.TgZ(190,"div",33),t._UZ(191,"span",34)(192,"span",35),t.qZA(),t._UZ(193,"span",36),t.qZA()()()()()()(),t._UZ(194,"input",37),t.qZA()(),t.TgZ(195,"td",38),t._UZ(196,"a",49)(197,"span",50),t.qZA()(),t.TgZ(198,"tr",41)(199,"td"),t._uU(200,"6"),t.qZA(),t.TgZ(201,"td"),t._uU(202,"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u04421"),t.qZA(),t._UZ(203,"td"),t.TgZ(204,"td")(205,"form",42)(206,"div",3)(207,"div",4)(208,"div",29),t._UZ(209,"div",9),t.TgZ(210,"div",10)(211,"div")(212,"div",14)(213,"label",30),t._UZ(214,"input",31)(215,"input",32),t.TgZ(216,"div",33),t._UZ(217,"span",34)(218,"span",35),t.qZA(),t._UZ(219,"span",36),t.qZA()()()()()()(),t._UZ(220,"input",37),t.qZA()(),t.TgZ(221,"td",38),t._UZ(222,"a",51)(223,"span",52),t.qZA()(),t.TgZ(224,"tr")(225,"td"),t._uU(226,"7"),t.qZA(),t.TgZ(227,"td"),t._uU(228,"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u04421"),t.qZA(),t._UZ(229,"td"),t.TgZ(230,"td")(231,"form",42)(232,"div",3)(233,"div",4)(234,"div",29),t._UZ(235,"div",9),t.TgZ(236,"div",10)(237,"div")(238,"div",14)(239,"label",30),t._UZ(240,"input",31)(241,"input",32),t.TgZ(242,"div",33),t._UZ(243,"span",34)(244,"span",35),t.qZA(),t._UZ(245,"span",36),t.qZA()()()()()()(),t._UZ(246,"input",37),t.qZA()(),t.TgZ(247,"td",38),t._UZ(248,"a",53)(249,"span",54),t.qZA()(),t.TgZ(250,"tr",41)(251,"td"),t._uU(252,"8"),t.qZA(),t.TgZ(253,"td"),t._uU(254,"asdas"),t.qZA(),t._UZ(255,"td"),t.TgZ(256,"td")(257,"form",42)(258,"div",3)(259,"div",4)(260,"div",29),t._UZ(261,"div",9),t.TgZ(262,"div",10)(263,"div")(264,"div",14)(265,"label",30),t._UZ(266,"input",31)(267,"input",32),t.TgZ(268,"div",33),t._UZ(269,"span",34)(270,"span",35),t.qZA(),t._UZ(271,"span",36),t.qZA()()()()()()(),t._UZ(272,"input",37),t.qZA()(),t.TgZ(273,"td",38),t._UZ(274,"a",55)(275,"span",56),t.qZA()(),t.TgZ(276,"tr")(277,"td",57)(278,"a",58)(279,"span"),t._uU(280,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.qZA()()()()()()(),t.TgZ(281,"div",59)(282,"span",60)(283,"span"),t._uU(284,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.TgZ(285,"span",61)(286,"span"),t._uU(287,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()(),t.TgZ(288,"span",62)(289,"span"),t._uU(290,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("backLink",t.DdM(4,M))("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form))},dependencies:[y,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.F,r.sg,r.u],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']}),i})();var C=d(918);const O=function(i){return{odd:i}},w=function(i){return["../employee",i]},F=function(){return["./department?id=1&act=switch_show&show=1"]},L=function(i){return["edit",i]},j=function(){return["./department?id=1&act=del"]};function I(i,u){if(1&i&&(t.TgZ(0,"tr",10)(1,"td",11),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",12),t._uU(9,"\u041f\u043e\u043b\u0438\u043d\u0430 \u0417\u0430\u0439\u0446\u0435\u0432\u0430"),t.qZA()(),t.TgZ(10,"td")(11,"a",13)(12,"span"),t._uU(13,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.qZA()()(),t.TgZ(14,"td",14)(15,"span",15),t._uU(16,"\u041d\u0435\u0442"),t.qZA(),t._UZ(17,"a",16)(18,"span",17),t.qZA()()),2&i){const e=u.$implicit;t.Q6J("ngClass",t.VKq(8,O,u.odd)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.count_position),t.xp6(2),t.Oqu(e.count_user),t.xp6(2),t.Q6J("routerLink",t.VKq(10,w,e.id)),t.xp6(7),t.Q6J("routerLink",t.DdM(12,F)),t.xp6(2),t.Q6J("routerLink",t.VKq(13,L,e.id)),t.xp6(1),t.Q6J("routerLink",t.DdM(15,j))}}let J=(()=>{class i{constructor(e){this.companyService=e,this.departments=[],this.total=0,this.start=0,this.limits=[25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadDepartments()}loadDepartments(){this.companyService.companyDepartmentList().subscribe(e=>{this.departments=e||[],this.total=this.departments.length})}onStartChange(e){this.loadDepartments()}onCountChange(e){this.loadDepartments()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-department"]],decls:26,vars:5,consts:[[1,"main-table","fix-head","table-065dcf359d0addbf0d3ed4570559e2c1"],["data-href","/erp/settings/department?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],["data-href","/erp/settings/department?sort_field=count_position&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/department?sort_field=count_user&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/department?sort_field=director&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[2,"width","134px"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],[3,"ngClass"],[1,"col"],[1,"link-view",3,"routerLink"],["href","?act=add&id=1",1,"btn","add-item-text"],[1,"col","min","right"],["title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide",3,"routerLink"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3)(8,"span"),t._uU(9,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0435\u0439"),t._UZ(10,"span",2),t.qZA()(),t.TgZ(11,"th",4)(12,"span"),t._uU(13,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),t._UZ(14,"span",2),t.qZA()(),t.TgZ(15,"th",5)(16,"span"),t._uU(17,"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),t._UZ(18,"span",2),t.qZA()(),t.TgZ(19,"th",6),t._UZ(20,"span"),t.qZA(),t.TgZ(21,"th",7),t._UZ(22,"span"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,I,19,16,"tr",8),t.qZA()(),t.TgZ(25,"app-paginator",9),t.NdJ("startChange",function(s){return n.onStartChange(s)})("countChange",function(s){return n.onCountChange(s)}),t.qZA()),2&e&&(t.xp6(24),t.Q6J("ngForOf",n.departments),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[h.mk,h.sg,C.J,p.rH,p.yS],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2}),i})();var S=d(9549),$=d(5113),R=d(3238);function N(i,u){if(1&i&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function Q(i,u){if(1&i&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Y(i,u){if(1&i&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function z(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.remove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}const k=function(){return["/pages/settings/employee"]};let U=(()=>{class i{constructor(e,n,o,s,g){this.fb=e,this.companyService=n,this.route=o,this.snackBar=s,this.router=g,this.isEditMode=!1,this.employee={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.companies=[],this.departments=[],this.positions=[],this.form=this.fb.group({id:[""],name_f:["",[r.kI.required]],name_i:["",[r.kI.required]],name_o:["",[r.kI.required]],birth_date:[""],company_id:["",[r.kI.required]],department_id:["",[r.kI.required]],position_id:["",[r.kI.required]],employment_date:[""],dismissal_date:[""],email:["a@66.ru",[r.kI.required,r.kI.email]],phone:[""],skype:[""]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);this.isEditMode="edit"===e[1],this.isEditMode&&this.getEmployee(),this.getCompanies(),this.getDepartments(),this.getPositions(),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"}getEmployee(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyEmployeeInfo({id:e}).pipe((0,Z.b)(n=>{if(!n)throw{error:{error_message:"\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.employee=n,this.form.patchValue(this.employee)},error:n=>{this.snackBar.open("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goToEmployees()}})}goToEmployees(){this.router.navigate(["/pages/settings/employee"])}save(){if(!this.form.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.form.value;"number"==typeof this.employee.id?this.updateEmployee(e):this.createEmployee(e)}createEmployee(e){this.companyService.companyEmployeeCreate({body:e}).pipe().subscribe({next:({})=>{this.goToEmployees(),this.snackBar.open("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0441\u043e\u0437\u0434\u0430\u043d",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}updateEmployee(e){this.companyService.companyEmployeeUpdate({body:e}).pipe().subscribe({next:()=>{this.snackBar.open("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d",void 0,this.snackBarWithShortDuration),this.goToEmployees()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyEmployeeDelete({body:{id:this.employee.id}}).subscribe({next:()=>{this.snackBar.open(`\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a ${this.employee.name_f} \u0443\u0434\u0430\u043b\u0435\u043d`,void 0,{duration:1e3}),this.goToEmployees()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+n.error.error_message,void 0,{duration:1e3})})}getCompanies(){this.companyService.companyList().subscribe(e=>this.companies=e)}getDepartments(){this.companyService.companyDepartmentList().subscribe(e=>this.departments=e)}getPositions(){this.companyService.companyPositionList().subscribe(e=>this.positions=e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.qu),t.Y36(f),t.Y36(p.gz),t.Y36(b.ux),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-employee-editor"]],decls:152,vars:11,consts:[[3,"title","backLink","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],[1,"form-group"],[1,"form-group-title"],["type","hidden","formControlName","id"],[1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],[1,"form-item",2,"width","25%"],[1,"req"],[1,"form-input"],["type","text","formControlName","name_f","required","",1,"text-control"],["type","text","formControlName","name_i","required","",1,"text-control"],["data-id","var_name_o",1,"form-item",2,"width","25%"],["type","text","formControlName","name_o",1,"text-control"],["type","date","formControlName","birth_date",1,"text-control"],["data-id","group_inline_2",1,"form-item","form-inline-group"],["data-id","var_company_id",1,"form-item",2,"width","50%"],["appearance","outline",1,"ui-select"],["formControlName","company_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data-id","var_department_id",1,"form-item",2,"width","50%"],["appearance","outline",1,"full-width","ui-select"],["formControlName","department_id"],["data-id","group_inline_3",1,"form-item","form-inline-group"],[1,"form-item",2,"width","50%"],["formControlName","position_id"],[1,"width_50","form-group-row"],["type","date","formControlName","employment_date",1,"text-control"],["type","date","formControlName","dismissal_date",1,"text-control"],["data-id","group_inline_4",1,"form-item","form-inline-group"],["type","text","formControlName","email","required","",1,"text-control"],["data-id","var_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","phone",1,"text-control"],["data-id","var_skype",1,"form-item",2,"width","25%"],["type","text","formControlName","skype",1,"text-control"],[1,"width_25"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"routerLink"],[3,"value"],[1,"btn","v","del","button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0435"),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"input",7),t.TgZ(10,"div",8),t._UZ(11,"div",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",9)(16,"div"),t._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div")(22,"div",14),t._UZ(23,"input",15),t.qZA()()()(),t.TgZ(24,"div",12)(25,"div",9)(26,"div"),t._uU(27,"\u0418\u043c\u044f:"),t.TgZ(28,"span",13),t._uU(29,"*"),t.qZA()()(),t.TgZ(30,"div",10)(31,"div")(32,"div",14),t._UZ(33,"input",16),t.qZA()()()(),t.TgZ(34,"div",17)(35,"div",9)(36,"div"),t._uU(37,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e:"),t.TgZ(38,"span",13),t._uU(39,"*"),t.qZA()()(),t.TgZ(40,"div",10)(41,"div")(42,"div",14),t._UZ(43,"input",18),t.qZA()()()(),t.TgZ(44,"div",12)(45,"div",9)(46,"div"),t._uU(47,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"),t.qZA()(),t.TgZ(48,"div",10)(49,"div")(50,"div",14),t._UZ(51,"input",19),t.qZA()()()()()()(),t.TgZ(52,"div",20),t._UZ(53,"div",9),t.TgZ(54,"div",10)(55,"div",11)(56,"div",21)(57,"div",9)(58,"div"),t._uU(59,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:"),t.TgZ(60,"span",13),t._uU(61,"*"),t.qZA()()(),t.TgZ(62,"div",10)(63,"mat-form-field",22)(64,"mat-select",23)(65,"mat-option",24),t._uU(66,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(67,N,2,2,"mat-option",25),t.qZA()()()(),t.TgZ(68,"div",26)(69,"div",9)(70,"div"),t._uU(71,"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:"),t.TgZ(72,"span",13),t._uU(73,"*"),t.qZA()()(),t.TgZ(74,"div",10)(75,"mat-form-field",27)(76,"mat-select",28)(77,"mat-option",24),t._uU(78,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(79,Q,2,2,"mat-option",25),t.qZA()()()()()()(),t.TgZ(80,"div",29),t._UZ(81,"div",9),t.TgZ(82,"div",10)(83,"div",11)(84,"div",30)(85,"div",9)(86,"div"),t._uU(87,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c:"),t.TgZ(88,"span",13),t._uU(89,"*"),t.qZA()()(),t.TgZ(90,"div",10)(91,"mat-form-field",27)(92,"mat-select",31)(93,"mat-option",24),t._uU(94,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(95,Y,2,2,"mat-option",25),t.qZA()()()(),t.TgZ(96,"div",32)(97,"div",30)(98,"div",9)(99,"div"),t._uU(100,"\u0414\u0430\u0442\u0430 \u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:"),t.qZA()(),t.TgZ(101,"div",10)(102,"div")(103,"div",14),t._UZ(104,"input",33),t.qZA()()()(),t.TgZ(105,"div",30)(106,"div",9)(107,"div"),t._uU(108,"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f:"),t.qZA()(),t.TgZ(109,"div",10)(110,"div")(111,"div",14),t._UZ(112,"input",34),t.qZA()()()()()()()(),t.TgZ(113,"div",35),t._UZ(114,"div",9),t.TgZ(115,"div",10)(116,"div",11)(117,"div",12)(118,"div",9)(119,"div"),t._uU(120,"E-mail:"),t.TgZ(121,"span",13),t._uU(122,"*"),t.qZA()()(),t.TgZ(123,"div",10)(124,"div")(125,"div",14),t._UZ(126,"input",36),t.qZA()()()(),t.TgZ(127,"div",37)(128,"div",9)(129,"div"),t._uU(130,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"),t.qZA()(),t.TgZ(131,"div",10)(132,"div")(133,"div",14),t._UZ(134,"input",38),t.qZA()()()(),t.TgZ(135,"div",39)(136,"div",9)(137,"div"),t._uU(138,"Skype:"),t.qZA()(),t.TgZ(139,"div",10)(140,"div")(141,"div",14),t._UZ(142,"input",40),t.qZA()()()(),t._UZ(143,"div",41),t.qZA()()()()()(),t.TgZ(144,"div",42)(145,"span",43),t.NdJ("click",function(){return n.save()}),t.TgZ(146,"span"),t._uU(147,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(148,z,3,0,"span",44),t.TgZ(149,"span",45)(150,"span"),t._uU(151,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("backLink",t.DdM(9,k))("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(65),t.Q6J("ngForOf",n.companies),t.xp6(12),t.Q6J("ngForOf",n.departments),t.xp6(16),t.Q6J("ngForOf",n.positions),t.xp6(53),t.Q6J("ngIf",n.isEditMode),t.xp6(1),t.Q6J("routerLink",t.DdM(10,k)))},dependencies:[h.sg,h.O5,S.KE,$.gD,R.ey,y,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,p.rH],encapsulation:2}),i})();const W=function(i){return{odd:i}},G=function(i){return["edit",i]};function H(i,u){if(1&i&&(t.TgZ(0,"tr",12)(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td",14)(17,"span",15),t._uU(18,"\u041d\u0435\u0442"),t.qZA(),t._UZ(19,"a",16)(20,"span",17),t.qZA()()),2&i){const e=u.$implicit,n=u.odd,o=t.oxw();t.Q6J("ngClass",t.VKq(13,W,n)),t.xp6(2),t.lnq("",e.name_f," ",e.name_i," ",e.name_o,""),t.xp6(2),t.Oqu(o.getCompanyById(e.company_id)),t.xp6(2),t.Oqu(o.getDepartmentById(e.department_id)),t.xp6(2),t.Oqu(o.getPositionById(e.position_id)),t.xp6(2),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(t.lcZ(15,11,e.birth_date)),t.xp6(5),t.Q6J("routerLink",t.VKq(15,G,e.id))}}let K=(()=>{class i{constructor(e){this.companyService=e,this.employees=[],this.departments=[],this.positions=[],this.companies=[],this.total=0,this.start=0,this.limits=[25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadEmployees(),this.loadPositions(),this.loadDepartments(),this.loadCompanies()}loadEmployees(){this.companyService.companyEmployeeList().subscribe(e=>{this.employees=e||[],this.total=this.employees.length,console.table(this.employees)})}loadDepartments(){this.companyService.companyDepartmentList().subscribe(e=>{this.departments=e||[]})}loadPositions(){this.companyService.companyPositionList().subscribe(e=>{this.positions=e||[]})}loadCompanies(){this.companyService.companyList().subscribe(e=>{this.companies=e||[]})}getPositionById(e){return this.positions.find(n=>n.id===e)?.name}getDepartmentById(e){return this.departments.find(n=>n.id===e)?.name}getCompanyById(e){return this.companies.find(n=>n.id===e)?.name}onStartChange(e){this.loadEmployees()}onCountChange(e){this.loadEmployees()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-employee"]],decls:36,vars:5,consts:[[1,"main-table","fix-head","table-98a02492513816a6438bbd36fc9458a2"],["data-href","/erp/settings/employee?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],["data-href","/erp/settings/employee?sort_field=count_position&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=department_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=position_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=phone&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=email&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=birth_date&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],[3,"ngClass"],[1,"col"],[1,"col","min","right"],["title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u0424.\u0418.\u041e."),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3)(8,"span"),t._uU(9,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),t._UZ(10,"span",2),t.qZA()(),t.TgZ(11,"th",4)(12,"span"),t._uU(13,"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),t._UZ(14,"span",2),t.qZA()(),t.TgZ(15,"th",5)(16,"span"),t._uU(17,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t._UZ(18,"span",2),t.qZA()(),t.TgZ(19,"th",6)(20,"span"),t._uU(21,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t._UZ(22,"span",2),t.qZA()(),t.TgZ(23,"th",7)(24,"span"),t._uU(25,"E-mail"),t._UZ(26,"span",2),t.qZA()(),t.TgZ(27,"th",8)(28,"span"),t._uU(29,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434."),t._UZ(30,"span",2),t.qZA()(),t.TgZ(31,"th",9),t._UZ(32,"span"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,H,21,17,"tr",10),t.qZA()(),t.TgZ(35,"app-paginator",11),t.NdJ("startChange",function(s){return n.onStartChange(s)})("countChange",function(s){return n.onCountChange(s)}),t.qZA()),2&e&&(t.xp6(34),t.Q6J("ngForOf",n.employees),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[h.mk,h.sg,C.J,p.yS,h.uU],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2}),i})();function V(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"span",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.remove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}const T=function(){return["/pages/settings/position"]};let x=(()=>{class i{constructor(e,n,o,s,g){this.fb=e,this.companyService=n,this.route=o,this.snackBar=s,this.router=g,this.isEditMode=!1,this.position={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.form=this.fb.group({id:[""],name:["",[r.kI.required]]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);this.isEditMode="edit"===e[1],this.isEditMode&&this.getPosition(),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"}getPosition(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyPositionInfo({id:e}).pipe((0,Z.b)(n=>{if(!n)throw{error:{error_message:"\u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.position=n,this.form.patchValue(this.position)},error:n=>{this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goToPositions()}})}goToPositions(){this.router.navigate(["/pages/settings/position"])}save(){if(!this.form.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.form.value;"number"==typeof this.position.id?this.updatePosition(e):this.createPosition(e)}createPosition(e){this.companyService.companyPositionCreate({body:e}).pipe().subscribe({next:({})=>{this.goToPositions(),this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}updatePosition(e){this.companyService.companyPositionUpdate({body:e}).pipe().subscribe({next:()=>{this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430",void 0,this.snackBarWithShortDuration),this.goToPositions()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyPositionDelete({body:{id:this.position.id}}).subscribe({next:()=>{this.snackBar.open(`\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c ${this.position.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.goToPositions()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.qu),t.Y36(f),t.Y36(p.gz),t.Y36(b.ux),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-position-editor"]],decls:32,vars:8,consts:[[3,"title","backLink","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],["data-id","group_0",1,"form-group"],[1,"form-group-title"],[1,"form-item","form-inline-group"],[1,"form-title"],["type","hidden","formControlName","id"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","",1,"text-control"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"routerLink"],[1,"btn","v","del","button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.qZA(),t.TgZ(8,"div")(9,"div",7),t._UZ(10,"div",8)(11,"input",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",8)(16,"div"),t._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438:"),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div")(22,"div",14),t._UZ(23,"input",15),t.qZA()()()()()()()()()(),t.TgZ(24,"div",16)(25,"span",17),t.NdJ("click",function(){return n.save()}),t.TgZ(26,"span"),t._uU(27,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(28,V,3,0,"span",18),t.TgZ(29,"span",19)(30,"span"),t._uU(31,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("backLink",t.DdM(6,T))("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(26),t.Q6J("ngIf",n.isEditMode),t.xp6(1),t.Q6J("routerLink",t.DdM(7,T)))},dependencies:[h.O5,y,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,p.rH]}),i})();var _=d(5412),tt=d(4859);const et=["removeDialogRef"],nt=function(i){return{odd:i}},it=function(i){return["./edit",i]};function ot(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"tr",7)(1,"td",8),t._uU(2),t.qZA(),t.TgZ(3,"td",9),t._UZ(4,"a",10),t.TgZ(5,"span",11),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.confirmRemove(s))}),t.qZA()()()}if(2&i){const e=u.$implicit;t.Q6J("ngClass",t.VKq(3,nt,u.odd)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("routerLink",t.VKq(5,it,e.id))}}function ut(i,u){if(1&i&&(t.TgZ(0,"h1",12),t._uU(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(2,"div",13),t._uU(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c "),t.TgZ(4,"b"),t._uU(5),t.qZA(),t._uU(6," ? "),t.qZA(),t.TgZ(7,"div",14)(8,"button",15),t._uU(9,"\u0414\u0430"),t.qZA(),t.TgZ(10,"button",16),t._uU(11,"\u041d\u0435\u0442"),t.qZA()()),2&i){const e=u.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(3),t.Q6J("mat-dialog-close",!0)}}let at=(()=>{class i{constructor(e,n,o){this.companyService=e,this.dialog=n,this.snackBar=o,this.positions=[],this.total=0,this.start=0,this.limits=[10,25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadPositions()}loadPositions(){this.companyService.companyPositionList().subscribe(e=>{const n=e||[];n.sort((u,e)=>{const n=u.name.toLocaleLowerCase(),o=e.name.toLocaleLowerCase(),s=n.localeCompare(o);return s}),this.total=n.length,this.positions=n.slice(this.start,this.start+this.count)})}onStartChange(e){this.start=e,this.loadPositions()}onCountChange(e){this.start=0,this.count=e,this.loadPositions()}confirmRemove(e){this.dialog.open(this.removeDialogRef,{data:e}).afterClosed().subscribe(n=>{n&&this.removePosition(e)})}removePosition(e){this.companyService.companyPositionDelete({body:{id:e.id}}).subscribe({next:()=>{this.snackBar.open(`\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c ${e.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.loadPositions()},error:o=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+o.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f),t.Y36(_.uw),t.Y36(b.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-position"]],viewQuery:function(e,n){if(1&e&&t.Gf(et,5),2&e){let o;t.iGM(o=t.CRH())&&(n.removeDialogRef=o.first)}},decls:14,vars:5,consts:[[1,"main-table","fix-head","table-4e6cc9770d169fc6e17fab7fb0968f9b"],["data-href","/erp/settings/position?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[3,"ngClass"],[1,"col"],[1,"col","min"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3),t._UZ(8,"span"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,ot,6,7,"tr",4),t.qZA()(),t.TgZ(11,"app-paginator",5),t.NdJ("startChange",function(s){return n.onStartChange(s)})("countChange",function(s){return n.onCountChange(s)}),t.qZA(),t.YNc(12,ut,12,2,"ng-template",null,6,t.W1O)),2&e&&(t.xp6(10),t.Q6J("ngForOf",n.positions),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[h.mk,h.sg,_.ZT,_.uh,_.xY,_.H8,C.J,tt.lW,p.yS],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']}),i})();const rt=function(i){return[i,"add"]};function st(i,u){if(1&i&&(t.TgZ(0,"a",13)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.Q6J("routerLink",t.VKq(2,rt,null==e.activeMenuItem?null:e.activeMenuItem.link)),t.xp6(2),t.Oqu(null==e.activeMenuItem?null:e.activeMenuItem.addButtonTitle)}}const q=function(i){return[i]};function pt(i,u){if(1&i&&(t.TgZ(0,"a",21),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Q6J("routerLink",t.VKq(2,q,e.link)),t.xp6(1),t.Oqu(e.title)}}const dt=function(i){return{open:i}},ct=function(i){return{display:i}};function lt(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.toggleGroup(s))}),t._UZ(2,"span",16),t.TgZ(3,"span",17),t._uU(4),t.qZA(),t._UZ(5,"span",18),t.qZA(),t.TgZ(6,"div",19),t.YNc(7,pt,2,4,"a",20),t.qZA()()}if(2&i){const e=u.$implicit;t.Q6J("ngClass",t.VKq(5,dt,e.expanded)),t.xp6(2),t.Q6J("ngClass",e.cssClass),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Q6J("ngStyle",t.VKq(7,ct,e.expanded?"":"none")),t.xp6(1),t.Q6J("ngForOf",e.items)}}const mt=[{path:"",component:(()=>{class i{constructor(e,n){this.router=e,this.activatedRoute=n,this.settings=[{title:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",cssClass:"settings-common",expanded:!0,items:[{title:"\u041b\u0438\u0447\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",link:"./personal"},{title:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",link:"./company",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"}]},{title:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",cssClass:"settings-company-structure",expanded:!0,items:[{title:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",link:"./department",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"},{title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",link:"./position",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"},{title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",link:"./employee",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}]}],this.routerEventSubscription=e.events.subscribe(o=>{o instanceof p.m2&&this.detectMenuItemAndGroup()})}ngOnInit(){}ngOnDestroy(){this.routerEventSubscription.unsubscribe()}toggleGroup(e){e.expanded=!e.expanded}detectMenuItemAndGroup(){for(const e of this.settings)for(const n of e.items){const o=this.router.createUrlTree([n.link],{relativeTo:this.activatedRoute});if(this.router.isActive(o,{paths:"subset",matrixParams:"ignored",queryParams:"ignored",fragment:"ignored"}))return this.activeMenuItem=n,void(this.activeMenuGroup=e)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.F0),t.Y36(p.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-settings"]],decls:23,vars:8,consts:[[1,"subheader"],[1,"placer"],[1,"title"],[1,"break-crumbs"],[1,"item-crumbs"],[1,"del-crumbs"],[3,"routerLink"],[1,"div"],["class","btn add",3,"routerLink",4,"ngIf"],[1,"settings"],[1,"left","side-menu"],["class","menu-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"settings-page"],[1,"btn","add",3,"routerLink"],[1,"menu-group",3,"ngClass"],[1,"group-name",3,"click"],[1,"ico",3,"ngClass"],[1,"name"],[1,"chevron"],[1,"group-items",3,"ngStyle"],["class","menu-item","routerLinkActive","open",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","open",1,"menu-item",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"span",4),t._uU(6,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),t.qZA(),t.TgZ(7,"span",5),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",4),t._uU(10),t.qZA(),t.TgZ(11,"span",5),t._uU(12,"/"),t.qZA(),t.TgZ(13,"span",4)(14,"a",6),t._uU(15),t.qZA()()(),t._UZ(16,"div",7),t.YNc(17,st,3,4,"a",8),t.qZA()(),t.TgZ(18,"div",9)(19,"div",10),t.YNc(20,lt,8,9,"div",11),t.qZA(),t.TgZ(21,"div",12),t._UZ(22,"router-outlet"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(null==n.activeMenuItem?null:n.activeMenuItem.title),t.xp6(7),t.hij(" ",null==n.activeMenuGroup?null:n.activeMenuGroup.title,""),t.xp6(4),t.Q6J("routerLink",t.VKq(6,q,null==n.activeMenuItem?null:n.activeMenuItem.link)),t.xp6(1),t.hij(" ",null==n.activeMenuItem?null:n.activeMenuItem.title,""),t.xp6(2),t.Q6J("ngIf",null==n.activeMenuItem?null:n.activeMenuItem.canAdd),t.xp6(3),t.Q6J("ngForOf",n.settings))},dependencies:[h.mk,h.sg,h.O5,h.PC,p.lC,p.yS,p.Od],styles:[".settings{display:flex;flex-grow:1}.settings .left{width:320px;flex-shrink:0}.settings .settings-page{flex-grow:1;padding:20px}.settings .settings-page .table-footer{padding:20px 0 0}.side-menu{background:#4B66AD;color:#fff}.side-menu a{color:#fff;text-decoration:none}.side-menu .menu-group{border-bottom:1px solid #5B77C1}.side-menu .group-name{display:flex;align-items:center;cursor:pointer}.side-menu .group-name .ico{width:56px;height:56px;display:flex;justify-content:center;align-items:center;background-repeat:no-repeat;background-position:center}.settings-common{background-image:url(pic-settings-common.71a443c53900234c.svg)}.settings-company-structure{background-image:url(pic-settings-company-structure.3b7df5efe313f427.svg)}.side-menu .group-name .name{flex-grow:1}.side-menu .group-name .chevron{width:56px;height:56px;background:url(settings-arrow-down.b95565480e6df875.svg) no-repeat center center}.side-menu .menu-group.open{background:#5B77C1}.side-menu .menu-group.open .group-name .ico svg path{fill:#fff}.side-menu .menu-group.open .group-name .chevron{transform:rotate(180deg)}.side-menu .menu-group.open .group-name+.group-items{display:block}.side-menu .group-items{padding:0 0 7px 48px}.side-menu .menu-item{display:block;font-size:13px;line-height:16px;padding:8px 10px 7px 8px;border-radius:6px 0 0 6px;cursor:pointer}.side-menu .menu-item+.menu-item{margin-top:3px}.side-menu .menu-item.open{background:#fff;color:#4b66ad}\n"],encapsulation:2}),i})(),children:[{path:"",redirectTo:"department",pathMatch:"full"},{path:"department",component:J,pathMatch:"full"},{path:"position",component:at,pathMatch:"full"},{path:"employee",component:K,pathMatch:"full"}]},{path:"position/add",component:x,pathMatch:"full"},{path:"position/edit/:id",component:x,pathMatch:"full"},{path:"department/add",component:E,pathMatch:"full"},{path:"department/edit/:id",component:E,pathMatch:"full"},{path:"employee/add",component:U,pathMatch:"full"},{path:"employee/edit/:id",component:U,pathMatch:"full"}];let ht=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.Bz.forChild(mt),p.Bz]}),i})(),gt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,A.q,r.u5,r.UX,ht]}),i})()}}]);