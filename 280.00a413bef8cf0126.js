"use strict";(self.webpackChunkcargodrom_frontend=self.webpackChunkcargodrom_frontend||[]).push([[280],{4280:(Un,X,m)=>{m.r(X),m.d(X,{SettingsModule:()=>$n});var u=m(9417),q=m(1022),c=m(177),l=m(9192),w=m(1874),Q=m(5736),t=m(7705),b=m(2804),g=m(4136),f=m(5416);let x=(()=>{class n extends Q.K{constructor(e,o,i,r,s,d){super(e,i,r,s,d),this.companyService=o,this.employees=[],this.companies=[],this.departments=[],this.positions=[]}loadEmployees(){this.companyService.companyEmployeeList().subscribe(e=>{this.employees=e?e.items:[]})}loadCompanies(){this.companyService.companyList().subscribe(e=>this.companies=e?e.items.sort((0,w.G)("name","asc","case-insensitive")):[])}loadDepartments(){this.companyService.companyDepartmentList().subscribe(e=>this.departments=e?e.items.sort((0,w.G)("name","asc","case-insensitive")):[])}loadPositions(){this.companyService.companyPositionList().subscribe(e=>this.positions=e?e.items.sort((0,w.G)("name","asc","case-insensitive")):[])}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(c.aZ),t.rXU(b.B),t.rXU(g.V9),t.rXU(l.nX),t.rXU(f.UG),t.rXU(l.Ix))}}static{this.\u0275dir=t.FsC({type:n,features:[t.Vt3]})}}return n})();var P=m(40),N=m(882),G=m(2798),T=m(6600),j=m(7157),E=m(9323),S=m(3541);function W(n,a){1&n&&t.eu8(0)}function H(n,a){1&n&&t.eu8(0)}function Z(n,a){1&n&&t.eu8(0)}function K(n,a){1&n&&t.eu8(0)}function tt(n,a){if(1&n&&(t.j41(0,"mat-option",133),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.E5c(" ",e.name_f," ",e.name_i," ",e.name_o," ")}}function et(n,a){if(1&n&&(t.j41(0,"mat-option",133),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.E5c(" ",e.name_f," ",e.name_i," ",e.name_o," ")}}function nt(n,a){if(1&n&&(t.j41(0,"mat-option",133),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function it(n,a){if(1&n&&(t.j41(0,"mat-option",133),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.code),t.R7$(1),t.SpI(" ",e.name," ")}}function ot(n,a){1&n&&t.eu8(0)}function rt(n,a){1&n&&t.eu8(0)}function at(n,a){if(1&n&&(t.j41(0,"mat-option",133),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.E5c(" ",e.name_f," ",e.name_i," ",e.name_o," ")}}function ut(n,a){if(1&n&&(t.j41(0,"mat-option",133),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function st(n,a){if(1&n&&(t.j41(0,"mat-option",133),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.code),t.R7$(1),t.SpI(" ",e.name," ")}}function lt(n,a){if(1&n){const e=t.RV6();t.j41(0,"span",134),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.remove())}),t.j41(1,"span"),t.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()}}function ct(n,a){if(1&n&&(t.j41(0,"div",136),t.EFF(1),t.k0s()),2&n){const e=t.XpG().name,o=t.XpG();t.R7$(1),t.JRh(o.getError(e))}}function dt(n,a){if(1&n&&t.DNE(0,ct,2,1,"div",135),2&n){const e=a.name,o=t.XpG();t.Y8G("ngIf",o.isFormSubmitted&&o.hasError(e))}}const pt=function(){return{name:"name"}},mt=function(){return{name:"inn"}},_t=function(){return{name:"phone"}},gt=function(){return{name:"email"}},ft=function(){return{name:"noresident_phone"}},ht=function(){return{name:"noresident_email"}};let Y=(()=>{class n extends x{constructor(e,o,i,r,s,d,_){super(d,i,r,s,o,_),this.fb=e,this.entity="\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",this.editTitle="\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",this.newTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",this.savedMessage=`${this.entity} \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d`,this.removedMessage=`${this.entity} \u0443\u0434\u0430\u043b\u0435\u043d`,this.createdMessage=`${this.entity} \u0441\u043e\u0437\u0434\u0430\u043d`,this.notFoundMessage=`${this.entity} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`,this.form=this.fb.group({id:["",[]],tax_system:["",[]],name:["",[u.k0.required]],name_short:["",[]],jur_address:["",[]],post_address:["",[]],inn:["",[P.wo]],kpp:["",[]],ogrn:["",[]],okpo:["",[]],email:["",[P.Bj]],phone:["",[]],website:["",[]],skype:["",[]],responsible_person_id:["",[]],responsible_person_position:["",[]],responsible_person_base:["",[]],responsible_person_fio:["",[]],chief_accountant_id:["",[]],bank_name:["",[]],bank_rs:["",[]],bank_ks:["",[]],bank_bik:["",[]],bank_kpp:["",[]],bank_currency:["",[]],noresident_name:["",[]],noresident_address:["",[]],noresident_phone:["",[]],noresident_email:["",[P.Bj]],noresident_skype:["",[]],noresident_website:["",[]],noresident_signatory_id:["",[]],noresident_signatory_position:["",[]],noresident_signatory_fio:["",[]],noresident_bank_name:["",[]],noresident_bank_address:["",[]],noresident_bank_currency:["",[]],noresident_bank_rs:["",[]],noresident_bank_rs_name:["",[]],noresident_bank_swift:["",[]],noresident_bank_im:["",[]],base_currency:[""]})}ngOnInit(){super.ngOnInit(),this.loadTaxSystems(),this.loadCurrencies(),this.loadEmployees()}create(e){return this.companyService.companyCreate(e)}read(e){return this.companyService.companyInfo(e)}update(e){return this.companyService.companyUpdate(e)}delete(e){return this.companyService.companyDelete(e)}getNameForHeader(e){return e.name}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(f.UG),t.rXU(b.B),t.rXU(g.V9),t.rXU(l.nX),t.rXU(c.aZ),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-company-editor"]],features:[t.Vt3],decls:466,vars:30,consts:[[3,"title","isEditMode","name","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-placer"],[1,"form-items"],["data-id","group_0",1,"form-group"],[1,"form-group-title"],["data-id","title_0",1,"form-sub-title"],["data-id","group_inline_1",1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],["data-id","var_name",1,"form-item",2,"width","50%"],[1,"req"],[1,"form-input"],["type","hidden","formControlName","id",1,"text-control"],["type","text","formControlName","name","required","","appFocusInitial","",1,"text-control"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-id","var_name_short",1,"form-item",2,"width","50%"],["type","text","formControlName","name_short",1,"text-control"],["data-id","group_inline_2",1,"form-item","form-inline-group"],["data-id","var_jur_address",1,"form-item",2,"width","50%"],["type","text","formControlName","jur_address",1,"text-control"],["data-id","var_post_address",1,"form-item",2,"width","50%"],["type","text","formControlName","post_address",1,"text-control"],["data-id","group_inline_3",1,"form-item","form-inline-group"],["data-id","var_inn",1,"form-item",2,"width","25%"],["type","text","formControlName","inn",1,"text-control"],["data-id","var_kpp",1,"form-item",2,"width","25%"],["type","text","formControlName","kpp",1,"text-control"],["data-id","var_ogrn",1,"form-item",2,"width","25%"],["type","text","formControlName","ogrn",1,"text-control"],["data-id","var_okpo",1,"form-item",2,"width","25%"],["type","text","formControlName","okpo",1,"text-control"],["data-id","group_inline_4",1,"form-item","form-inline-group"],["data-id","var_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","phone","appPhoneMask","",1,"text-control"],["data-id","var_email",1,"form-item",2,"width","25%"],["type","text","formControlName","email",1,"text-control"],["data-id","var_website",1,"form-item",2,"width","25%"],["type","text","formControlName","website",1,"text-control"],["data-id","var_skype",1,"form-item",2,"width","25%"],["type","text","formControlName","skype",1,"text-control"],["data-id","line_0",1,"form-line"],["data-id","title_1",1,"form-sub-title"],["data-id","group_inline_5",1,"form-item","form-inline-group"],["data-id","var_responsible_person_fio",1,"form-item",2,"width","50%"],["appearance","outline",1,"ui-select",2,"margin-bottom","0px","margin-top","0px","margin-right","0px","width","100%"],["formControlName","responsible_person_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data-id","var_responsible_person_position",1,"form-item",2,"width","50%"],["type","text","formControlName","responsible_person_position",1,"text-control"],["data-id","group_inline_6",1,"form-item","form-inline-group"],["data-id","var_responsible_person_base",1,"form-item",2,"width","100%"],["type","text","formControlName","responsible_person_base",1,"text-control"],["data-id","line_1",1,"form-line"],["data-id","title_2",1,"form-sub-title"],["data-id","group_inline_7",1,"form-item","form-inline-group"],["data-id","var_chief_accountant_fio",1,"form-item",2,"width","100%"],["formControlName","chief_accountant_id"],["appearance","outline",1,"ui-select",2,"width","100%"],["formControlName","tax_system"],["data-id","line_2",1,"form-line"],["data-id","title_3",1,"form-sub-title"],["data-id","group_inline_8",1,"form-item","form-inline-group"],["data-id","var_bank_name",1,"form-item",2,"width","50%"],["type","text","formControlName","bank_name",1,"text-control"],["data-id","var_bank_rs",1,"form-item",2,"width","25%"],["type","text","formControlName","bank_rs",1,"text-control"],["data-id","var_bank_currency",1,"form-item",2,"width","25%"],["formControlName","bank_currency"],["data-id","group_inline_9",1,"form-item","form-inline-group"],["data-id","var_bank_ks",1,"form-item",2,"width","50%"],["type","text","formControlName","bank_ks",1,"text-control"],["data-id","var_bank_bik",1,"form-item",2,"width","25%"],["type","text","formControlName","bank_bik",1,"text-control"],["data-id","var_bank_kpp",1,"form-item",2,"width","25%"],["type","text","formControlName","bank_kpp",1,"text-control"],["data-id","group_10",1,"form-group"],["data-id","title_4",1,"form-sub-title"],["data-id","group_inline_11",1,"form-item","form-inline-group"],["data-id","var_noresident_name",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_name",1,"text-control"],["data-id","var_noresident_address",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_address",1,"text-control"],["data-id","group_inline_12",1,"form-item","form-inline-group"],["data-id","var_noresident_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_phone","appPhoneMask","",1,"text-control"],["data-id","var_noresident_email",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_email",1,"text-control"],["data-id","var_noresident_website",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_website",1,"text-control"],["data-id","var_noresident_skype",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_skype",1,"text-control"],["data-id","line_3",1,"form-line"],["data-id","title_5",1,"form-sub-title"],["data-id","group_inline_13",1,"form-item","form-inline-group"],["data-id","var_noresident_signatory_fio",1,"form-item",2,"width","50%"],["formControlName","noresident_signatory_id"],["data-id","var_noresident_signatory_position",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_signatory_position",1,"text-control"],["data-id","line_4",1,"form-line"],["data-id","title_6",1,"form-sub-title"],["data-id","group_inline_14",1,"form-item","form-inline-group"],["data-id","var_noresident_bank_name",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_name",1,"text-control"],["data-id","var_noresident_bank_address",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_address",1,"text-control"],["data-id","group_inline_15",1,"form-item","form-inline-group"],[1,"width_50","form-group-row"],["data-id","var_noresident_bank_rs",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_bank_rs",1,"text-control"],["data-id","var_noresident_bank_currency",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_bank_currency",1,"text-control"],["data-id","var_noresident_bank_rs_name",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_rs_name",1,"text-control"],["data-id","group_inline_16",1,"form-item","form-inline-group"],["data-id","var_noresident_bank_swift",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_swift",1,"text-control"],["data-id","var_noresident_bank_im",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_im",1,"text-control"],["data-id","group_17",1,"form-group"],["data-id","group_inline_18",1,"form-item","form-inline-group"],["data-id","var_tax_system",1,"form-item",2,"width","50%"],["data-id","var_base_currency",1,"form-item",2,"width","50%"],["formControlName","base_currency"],[1,"form-button-placer"],["type","submit",1,"hidden"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],["error",""],[3,"value"],[1,"btn","v","del","button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){if(1&o&&(t.j41(0,"app-editor-header",0),t.bIt("save",function(){return i.save()})("remove",function(){return i.remove()}),t.k0s(),t.j41(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(){return i.save()}),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u043e\u0432 \u0420\u0424"),t.k0s(),t.j41(8,"div")(9,"div",7),t.EFF(10,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),t.k0s(),t.j41(11,"div",8),t.nrm(12,"div",9),t.j41(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",9)(17,"div"),t.EFF(18,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u0435:"),t.j41(19,"span",13),t.EFF(20,"*"),t.k0s()()(),t.j41(21,"div",10)(22,"div")(23,"div",14),t.nrm(24,"input",15)(25,"input",16),t.DNE(26,W,1,0,"ng-container",17),t.k0s()()()(),t.j41(27,"div",18)(28,"div",9)(29,"div"),t.EFF(30,"\u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435:"),t.k0s()(),t.j41(31,"div",10)(32,"div")(33,"div",14),t.nrm(34,"input",19),t.k0s()()()()()()(),t.j41(35,"div",20),t.nrm(36,"div",9),t.j41(37,"div",10)(38,"div",11)(39,"div",21)(40,"div",9)(41,"div"),t.EFF(42,"\u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441:"),t.k0s()(),t.j41(43,"div",10)(44,"div")(45,"div",14),t.nrm(46,"input",22),t.k0s()()()(),t.j41(47,"div",23)(48,"div",9)(49,"div"),t.EFF(50,"\u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441:"),t.k0s()(),t.j41(51,"div",10)(52,"div")(53,"div",14),t.nrm(54,"input",24),t.k0s()()()()()()(),t.j41(55,"div",25),t.nrm(56,"div",9),t.j41(57,"div",10)(58,"div",11)(59,"div",26)(60,"div",9)(61,"div"),t.EFF(62,"\u0418\u041d\u041d:"),t.k0s()(),t.j41(63,"div",10)(64,"div")(65,"div",14),t.nrm(66,"input",27),t.DNE(67,H,1,0,"ng-container",17),t.k0s()()()(),t.j41(68,"div",28)(69,"div",9)(70,"div"),t.EFF(71,"\u041a\u041f\u041f:"),t.k0s()(),t.j41(72,"div",10)(73,"div")(74,"div",14),t.nrm(75,"input",29),t.k0s()()()(),t.j41(76,"div",30)(77,"div",9)(78,"div"),t.EFF(79,"\u041e\u0413\u0420\u041d:"),t.k0s()(),t.j41(80,"div",10)(81,"div")(82,"div",14),t.nrm(83,"input",31),t.k0s()()()(),t.j41(84,"div",32)(85,"div",9)(86,"div"),t.EFF(87,"\u041e\u041a\u041f\u041e:"),t.k0s()(),t.j41(88,"div",10)(89,"div")(90,"div",14),t.nrm(91,"input",33),t.k0s()()()()()()(),t.j41(92,"div",34),t.nrm(93,"div",9),t.j41(94,"div",10)(95,"div",11)(96,"div",35)(97,"div",9)(98,"div"),t.EFF(99,"\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"),t.k0s()(),t.j41(100,"div",10)(101,"div")(102,"div",14),t.nrm(103,"input",36),t.DNE(104,Z,1,0,"ng-container",17),t.k0s()()()(),t.j41(105,"div",37)(106,"div",9)(107,"div"),t.EFF(108,"e-mail:"),t.k0s()(),t.j41(109,"div",10)(110,"div")(111,"div",14),t.nrm(112,"input",38),t.DNE(113,K,1,0,"ng-container",17),t.k0s()()()(),t.j41(114,"div",39)(115,"div",9)(116,"div"),t.EFF(117,"\u0432\u0435\u0431\u0441\u0430\u0439\u0442:"),t.k0s()(),t.j41(118,"div",10)(119,"div")(120,"div",14),t.nrm(121,"input",40),t.k0s()()()(),t.j41(122,"div",41)(123,"div",9)(124,"div"),t.EFF(125,"Skype:"),t.k0s()(),t.j41(126,"div",10)(127,"div")(128,"div",14),t.nrm(129,"input",42),t.k0s()()()()()()(),t.nrm(130,"div",43),t.j41(131,"div",44),t.EFF(132,"\u041b\u0438\u0446\u043e, \u0438\u043c\u0435\u044e\u0449\u0435\u0435 \u043f\u0440\u0430\u0432\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),t.k0s(),t.j41(133,"div",45),t.nrm(134,"div",9),t.j41(135,"div",10)(136,"div",11)(137,"div",46)(138,"div",9)(139,"div"),t.EFF(140,"\u0424.\u0418.\u041e.:"),t.k0s()(),t.j41(141,"div",10)(142,"div")(143,"div",14)(144,"mat-form-field",47)(145,"mat-select",48)(146,"mat-option",49),t.EFF(147,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(148,tt,2,4,"mat-option",50),t.k0s()()()()()(),t.j41(149,"div",51)(150,"div",9)(151,"div"),t.EFF(152,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c:"),t.k0s()(),t.j41(153,"div",10)(154,"div")(155,"div",14),t.nrm(156,"input",52),t.k0s()()()()()()(),t.j41(157,"div",53),t.nrm(158,"div",9),t.j41(159,"div",10)(160,"div",11)(161,"div",54)(162,"div",9)(163,"div"),t.EFF(164,"\u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435:"),t.k0s()(),t.j41(165,"div",10)(166,"div")(167,"div",14),t.nrm(168,"input",55),t.k0s()()()()()()(),t.nrm(169,"div",56),t.j41(170,"div",57),t.EFF(171,"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440"),t.k0s(),t.j41(172,"div",58),t.nrm(173,"div",9),t.j41(174,"div",10)(175,"div",11)(176,"div",59)(177,"div",9)(178,"div"),t.EFF(179,"\u0424.\u0418.\u041e.:"),t.k0s()(),t.j41(180,"div",10)(181,"mat-form-field",47)(182,"mat-select",60)(183,"mat-option",49),t.EFF(184,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(185,et,2,4,"mat-option",50),t.k0s()()()()()()(),t.nrm(186,"div",56),t.j41(187,"div",57),t.EFF(188,"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u043e\u0431\u043b\u0430\u0436\u0435\u043d\u0438\u044f"),t.k0s(),t.j41(189,"div",58),t.nrm(190,"div",9),t.j41(191,"div",10)(192,"div",11)(193,"div",59)(194,"div",9)(195,"div"),t.EFF(196,"\u0432\u0438\u0434:"),t.k0s()(),t.j41(197,"div",10)(198,"mat-form-field",61)(199,"mat-select",62)(200,"mat-option",49),t.EFF(201,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(202,nt,2,2,"mat-option",50),t.k0s()()()()()()(),t.nrm(203,"div",63),t.j41(204,"div",64),t.EFF(205,"\u0411\u0430\u043d\u043a"),t.k0s(),t.j41(206,"div",65),t.nrm(207,"div",9),t.j41(208,"div",10)(209,"div",11)(210,"div",66)(211,"div",9)(212,"div"),t.EFF(213,"\u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430:"),t.k0s()(),t.j41(214,"div",10)(215,"div")(216,"div",14),t.nrm(217,"input",67),t.k0s()()()(),t.j41(218,"div",68)(219,"div",9)(220,"div"),t.EFF(221,"\u0440\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442:"),t.k0s()(),t.j41(222,"div",10)(223,"div")(224,"div",14),t.nrm(225,"input",69),t.k0s()()()(),t.j41(226,"div",70)(227,"div",9)(228,"div"),t.EFF(229,"\u0432\u0430\u043b\u044e\u0442\u0430 \u0441\u0447\u0435\u0442\u0430:"),t.k0s()(),t.j41(230,"div",10)(231,"mat-form-field",47)(232,"mat-select",71)(233,"mat-option",49),t.EFF(234,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(235,it,2,2,"mat-option",50),t.k0s()()()()()()(),t.j41(236,"div",72),t.nrm(237,"div",9),t.j41(238,"div",10)(239,"div",11)(240,"div",73)(241,"div",9)(242,"div"),t.EFF(243,"\u041a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442:"),t.k0s()(),t.j41(244,"div",10)(245,"div")(246,"div",14),t.nrm(247,"input",74),t.k0s()()()(),t.j41(248,"div",75)(249,"div",9)(250,"div"),t.EFF(251,"\u0431\u0438\u043a:"),t.k0s()(),t.j41(252,"div",10)(253,"div")(254,"div",14),t.nrm(255,"input",76),t.k0s()()()(),t.j41(256,"div",77)(257,"div",9)(258,"div"),t.EFF(259,"\u041a\u041f\u041f:"),t.k0s()(),t.j41(260,"div",10)(261,"div")(262,"div",14),t.nrm(263,"input",78),t.k0s()()()()()()()()(),t.j41(264,"div",79)(265,"div",6),t.EFF(266,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u041d\u0415\u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u043e\u0432 \u0420\u0424"),t.k0s(),t.j41(267,"div")(268,"div",80),t.EFF(269,"Company"),t.k0s(),t.j41(270,"div",81),t.nrm(271,"div",9),t.j41(272,"div",10)(273,"div",11)(274,"div",82)(275,"div",9)(276,"div"),t.EFF(277,"full name:"),t.k0s()(),t.j41(278,"div",10)(279,"div")(280,"div",14),t.nrm(281,"input",83),t.k0s()()()(),t.j41(282,"div",84)(283,"div",9)(284,"div"),t.EFF(285,"address:"),t.k0s()(),t.j41(286,"div",10)(287,"div")(288,"div",14),t.nrm(289,"input",85),t.k0s()()()()()()(),t.j41(290,"div",86),t.nrm(291,"div",9),t.j41(292,"div",10)(293,"div",11)(294,"div",87)(295,"div",9)(296,"div"),t.EFF(297,"phone / fax:"),t.k0s()(),t.j41(298,"div",10)(299,"div")(300,"div",14),t.nrm(301,"input",88),t.DNE(302,ot,1,0,"ng-container",17),t.k0s()()()(),t.j41(303,"div",89)(304,"div",9)(305,"div"),t.EFF(306,"e-mail:"),t.k0s()(),t.j41(307,"div",10)(308,"div")(309,"div",14),t.nrm(310,"input",90),t.DNE(311,rt,1,0,"ng-container",17),t.k0s()()()(),t.j41(312,"div",91)(313,"div",9)(314,"div"),t.EFF(315,"Website:"),t.k0s()(),t.j41(316,"div",10)(317,"div")(318,"div",14),t.nrm(319,"input",92),t.k0s()()()(),t.j41(320,"div",93)(321,"div",9)(322,"div"),t.EFF(323,"Skype:"),t.k0s()(),t.j41(324,"div",10)(325,"div")(326,"div",14),t.nrm(327,"input",94),t.k0s()()()()()()(),t.nrm(328,"div",95),t.j41(329,"div",96),t.EFF(330,"Signatory"),t.k0s(),t.j41(331,"div",97),t.nrm(332,"div",9),t.j41(333,"div",10)(334,"div",11)(335,"div",98)(336,"div",9)(337,"div"),t.EFF(338,"full name:"),t.k0s()(),t.j41(339,"div",10)(340,"div")(341,"div",14)(342,"mat-form-field",47)(343,"mat-select",99)(344,"mat-option",49),t.EFF(345,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(346,at,2,4,"mat-option",50),t.k0s()()()()()(),t.j41(347,"div",100)(348,"div",9)(349,"div"),t.EFF(350,"position:"),t.k0s()(),t.j41(351,"div",10)(352,"div")(353,"div",14),t.nrm(354,"input",101),t.k0s()()()()()()(),t.nrm(355,"div",102),t.j41(356,"div",103),t.EFF(357,"Banking Details"),t.k0s(),t.j41(358,"div",104),t.nrm(359,"div",9),t.j41(360,"div",10)(361,"div",11)(362,"div",105)(363,"div",9)(364,"div"),t.EFF(365,"bank name:"),t.k0s()(),t.j41(366,"div",10)(367,"div")(368,"div",14),t.nrm(369,"input",106),t.k0s()()()(),t.j41(370,"div",107)(371,"div",9)(372,"div"),t.EFF(373,"bank address:"),t.k0s()(),t.j41(374,"div",10)(375,"div")(376,"div",14),t.nrm(377,"input",108),t.k0s()()()()()()(),t.j41(378,"div",109),t.nrm(379,"div",9),t.j41(380,"div",10)(381,"div",11)(382,"div",110)(383,"div",111)(384,"div",9)(385,"div"),t.EFF(386,"account Number:"),t.k0s()(),t.j41(387,"div",10)(388,"div")(389,"div",14),t.nrm(390,"input",112),t.k0s()()()(),t.j41(391,"div",113)(392,"div",9)(393,"div"),t.EFF(394,"account currency:"),t.k0s()(),t.j41(395,"div",10)(396,"div")(397,"div",14),t.nrm(398,"input",114),t.k0s()()()()(),t.j41(399,"div",115)(400,"div",9)(401,"div"),t.EFF(402,"account name:"),t.k0s()(),t.j41(403,"div",10)(404,"div")(405,"div",14),t.nrm(406,"input",116),t.k0s()()()()()()(),t.j41(407,"div",117),t.nrm(408,"div",9),t.j41(409,"div",10)(410,"div",11)(411,"div",118)(412,"div",9)(413,"div"),t.EFF(414,"swift code:"),t.k0s()(),t.j41(415,"div",10)(416,"div")(417,"div",14),t.nrm(418,"input",119),t.k0s()()()(),t.j41(419,"div",120)(420,"div",9)(421,"div"),t.EFF(422,"intermediary bank:"),t.k0s()(),t.j41(423,"div",10)(424,"div")(425,"div",14),t.nrm(426,"input",121),t.k0s()()()()()()()()(),t.j41(427,"div",122)(428,"div",6),t.EFF(429,"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044f"),t.k0s(),t.j41(430,"div")(431,"div",123),t.nrm(432,"div",9),t.j41(433,"div",10)(434,"div",11)(435,"div",124)(436,"div",9)(437,"div"),t.EFF(438,"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u043e\u0431\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),t.k0s()(),t.j41(439,"div",10)(440,"mat-form-field",47)(441,"mat-select",62)(442,"mat-option",49),t.EFF(443,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(444,ut,2,2,"mat-option",50),t.k0s()()()(),t.j41(445,"div",125)(446,"div",9)(447,"div"),t.EFF(448,"\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430 \u0441\u0447\u0435\u0442\u043e\u0432:"),t.k0s()(),t.j41(449,"div",10)(450,"mat-form-field",47)(451,"mat-select",126)(452,"mat-option",49),t.EFF(453,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(454,st,2,2,"mat-option",50),t.k0s()()()()()()()()()(),t.j41(455,"div",127),t.nrm(456,"input",128),t.j41(457,"span",129),t.bIt("click",function(){return i.save()}),t.j41(458,"span"),t.EFF(459,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.DNE(460,lt,3,0,"span",130),t.j41(461,"span",131),t.bIt("click",function(){return i.goBack()}),t.j41(462,"span"),t.EFF(463,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()()()(),t.DNE(464,dt,1,1,"ng-template",null,132,t.C5r)),2&o){const r=t.sdS(465);t.Y8G("title",i.title)("isEditMode",i.isEditMode)("name",i.nameForHeader),t.R7$(2),t.Y8G("formGroup",i.form),t.R7$(24),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(24,pt)),t.R7$(41),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(25,mt)),t.R7$(37),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(26,_t)),t.R7$(9),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(27,gt)),t.R7$(35),t.Y8G("ngForOf",i.employees),t.R7$(37),t.Y8G("ngForOf",i.employees),t.R7$(17),t.Y8G("ngForOf",i.taxSystems),t.R7$(33),t.Y8G("ngForOf",i.currencies),t.R7$(67),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(28,ft)),t.R7$(9),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(29,ht)),t.R7$(35),t.Y8G("ngForOf",i.employees),t.R7$(98),t.Y8G("ngForOf",i.taxSystems),t.R7$(10),t.Y8G("ngForOf",i.currencies),t.R7$(6),t.Y8G("ngIf",i.isEditMode)}},dependencies:[c.Sq,c.bT,c.T3,N.rl,G.VO,T.wT,j.S,E.S,S.A,u.qT,u.me,u.BC,u.cb,u.YS,u.j4,u.JD]})}}return n})();var F=m(7767),h=m(535),p=m(5351),k=m(8834),M=m(2105);const vt=function(n){return{odd:n}},bt=function(n){return[n]};function Ct(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",9)(1,"td",10),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.nrm(11,"td"),t.j41(12,"td")(13,"form",11)(14,"div",12)(15,"div",13)(16,"div",14),t.nrm(17,"div",15),t.j41(18,"div",16)(19,"div")(20,"div",17)(21,"label",18)(22,"input",19),t.bIt("ngModelChange",function(i){const s=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.onGeneralChange(i,s))}),t.k0s(),t.j41(23,"div",20),t.nrm(24,"span",21)(25,"span",22),t.k0s(),t.nrm(26,"span",23),t.k0s()()()()()()()()(),t.j41(27,"td",24),t.nrm(28,"a",25)(29,"a",26),t.j41(30,"span",27),t.EFF(31,"\u041d\u0435\u0442"),t.k0s(),t.nrm(32,"a",28),t.j41(33,"span",29),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.confirmRemove(r))}),t.k0s()()()}if(2&n){const e=a.$implicit;t.Y8G("ngClass",t.eq3(8,vt,a.odd)),t.R7$(2),t.JRh(e.name),t.R7$(2),t.SpI("",e.phone," "),t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(e.inn),t.R7$(2),t.JRh(e.responsible_person_fio),t.R7$(12),t.Y8G("ngModel",1===e.general),t.R7$(10),t.Y8G("routerLink",t.eq3(10,bt,e.id))}}function kt(n,a){if(1&n&&(t.j41(0,"h1",30),t.EFF(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"),t.k0s(),t.j41(2,"div",31),t.EFF(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," ? "),t.k0s(),t.j41(7,"div",32)(8,"button",33),t.EFF(9,"\u0414\u0430"),t.k0s(),t.j41(10,"button",34),t.EFF(11,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(5),t.JRh(e.name),t.R7$(3),t.Y8G("mat-dialog-close",!0)}}function Et(n,a){if(1&n&&t.EFF(0),2&n){const e=a.employee;t.E5c(" ",null==e?null:e.name_f," ",null==e?null:e.name_i," ",null==e?null:e.name_o,"\n")}}let Ft=(()=>{class n extends F.X{constructor(e,o,i,r,s,d,_){super(r,s,o,i,d,_),this.companyService=e,this.removedMessage="\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0430",this.sortField="name"}ngOnInit(){super.ngOnInit(),this.loadRows()}load(e){return this.companyService.companyList(e)}delete(e){return this.companyService.companyDelete(e)}onGeneralChange(e,o){const i={...o,general:e?1:0};this.companyService.companyUpdate({body:i}).subscribe({next:()=>this.loadRows(),error:r=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430: "+r?.error?.error_message,void 0,this.snackBarWithLongDuration)})}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(b.B),t.rXU(p.bZ),t.rXU(f.UG),t.rXU(l.nX),t.rXU(l.Ix),t.rXU(h.E),t.rXU(g.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-company"]],features:[t.Jv_([h.E]),t.Vt3],decls:37,vars:17,consts:[[1,"main-table","fix-head","table-00bea6b89e723964a80f4b0d828e09b7"],[1,"col","column-sortable",3,"ngClass","click"],[1,"sorting-indicator"],[1,"col","column-sortable"],[1,"right",2,"width","150px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],["fio",""],[3,"ngClass"],[1,"col"],[1,"form"],[1,"form-placer"],[1,"form-items"],["data-id","main",1,"form-item"],[1,"form-title"],[1,"form-data"],[1,"form-input"],[1,"switch","outer"],["type","checkbox","name","general",3,"ngModel","ngModelChange"],[1,"switcher"],["data-on","\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439",1,"bg"],[1,"thumb"],["data-on","\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439",1,"switch-title"],[1,"col","min","right"],["data-href","/erp/settings/company?id=2&act=save_txt","title","TXT",1,"link-pic","ajax","link-txt","fn-link"],["data-href","/erp/settings/company?id=2&act=save_pdf","title","PDF",1,"link-pic","ajax","link-pdf","fn-link"],["data-href","/erp/settings/company?id=2&act=switch_show&show=1","title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(o,i){1&o&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.bIt("click",function(){return i.sort("name")}),t.j41(4,"span"),t.EFF(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),t.nrm(6,"span",2),t.k0s()(),t.j41(7,"th",1),t.bIt("click",function(){return i.sort("phone")}),t.j41(8,"span"),t.EFF(9,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.nrm(10,"span",2),t.k0s()(),t.j41(11,"th",1),t.bIt("click",function(){return i.sort("email")}),t.j41(12,"span"),t.EFF(13,"E-mail"),t.nrm(14,"span",2),t.k0s()(),t.j41(15,"th",1),t.bIt("click",function(){return i.sort("inn")}),t.j41(16,"span"),t.EFF(17,"\u0418\u041d\u041d"),t.nrm(18,"span",2),t.k0s()(),t.j41(19,"th",1),t.bIt("click",function(){return i.sort("responsible_person_fio")}),t.j41(20,"span"),t.EFF(21,"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),t.nrm(22,"span",2),t.k0s()(),t.j41(23,"th",3)(24,"span"),t.nrm(25,"span",2),t.k0s()(),t.j41(26,"th",1),t.bIt("click",function(){return i.sort("general")}),t.nrm(27,"span"),t.k0s(),t.j41(28,"th",4),t.nrm(29,"span"),t.k0s()()(),t.j41(30,"tbody"),t.DNE(31,Ct,34,12,"tr",5),t.k0s()(),t.j41(32,"app-paginator",6),t.bIt("startChange",function(s){return i.onStartChange(s)})("countChange",function(s){return i.onCountChange(s)}),t.k0s(),t.DNE(33,kt,12,2,"ng-template",null,7,t.C5r),t.DNE(35,Et,1,3,"ng-template",null,8,t.C5r)),2&o&&(t.R7$(3),t.Y8G("ngClass",i.getSortClass("name")),t.BMQ("title",i.getColTitle("name")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("phone")),t.BMQ("title",i.getColTitle("phone")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("email")),t.BMQ("title",i.getColTitle("email")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("inn")),t.BMQ("title",i.getColTitle("inn")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("responsible_person_fio")),t.BMQ("title",i.getColTitle("responsible_person_id")),t.R7$(7),t.Y8G("ngClass",i.getSortClass("general")),t.BMQ("title",i.getColTitle("general")),t.R7$(5),t.Y8G("ngForOf",i.rows),t.R7$(1),t.Y8G("total",i.total)("count",i.count)("start",i.start)("limits",i.limits))},dependencies:[c.YU,c.Sq,p.tx,p.BI,p.Yi,p.E7,k.$z,M.h,u.qT,u.Zm,u.BC,u.cb,u.vS,u.cV,l.Wk],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']})}}return n})();function yt(n,a){if(1&n){const e=t.RV6();t.j41(0,"thead")(1,"tr")(2,"th",9),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.sort("num"))}),t.j41(3,"span"),t.nrm(4,"span",10),t.k0s()(),t.j41(5,"th",11),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.sort("fio"))}),t.j41(6,"span"),t.EFF(7,"\u0424.\u0418.\u041e."),t.nrm(8,"span",10),t.k0s()(),t.j41(9,"th",12),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.sort("position_name"))}),t.j41(10,"span"),t.EFF(11,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t.nrm(12,"span",10),t.k0s()(),t.j41(13,"th",13),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.sort("department_leader"))}),t.nrm(14,"span"),t.k0s(),t.j41(15,"th",14)(16,"span"),t.EFF(17,"\u0420\u0435\u0434."),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngClass",e.getSortClass("num")),t.BMQ("title",e.getColTitle("num")),t.R7$(3),t.Y8G("ngClass",e.getSortClass("fio")),t.BMQ("title",e.getColTitle("fio")),t.R7$(4),t.Y8G("ngClass",e.getSortClass("position_name")),t.BMQ("title",e.getColTitle("position_name")),t.R7$(4),t.Y8G("ngClass",e.getSortClass("department_leader")),t.BMQ("title",e.getColTitle("department_leader"))}}const xt=function(n){return{odd:n}},jt=function(n){return["../..","employee",n]};function Mt(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",15)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"div",16)(9,"div",17)(10,"div",18),t.nrm(11,"div",19),t.j41(12,"div",20)(13,"div")(14,"div",21)(15,"label",22)(16,"input",23),t.bIt("ngModelChange",function(i){const s=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.onDepartmentLeaderChange(s,i))}),t.k0s(),t.j41(17,"div",24),t.nrm(18,"span",25)(19,"span",26),t.k0s(),t.nrm(20,"span",27),t.k0s()()()()()()()(),t.j41(21,"td",28),t.nrm(22,"a",29),t.j41(23,"span",30),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.confirmRemove(r))}),t.k0s()()()}if(2&n){const e=a.$implicit,i=a.index;t.Y8G("ngClass",t.eq3(8,xt,a.odd)),t.R7$(2),t.JRh(i+1),t.R7$(2),t.E5c("",e.name_f," ",e.name_i," ",e.name_o,""),t.R7$(2),t.JRh(e.position_name),t.R7$(10),t.Y8G("ngModel",1===e.department_leader),t.R7$(6),t.Y8G("routerLink",t.eq3(10,jt,e.id))}}function Dt(n,a){if(1&n&&(t.j41(0,"h1",31),t.EFF(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.k0s(),t.j41(2,"div",32),t.EFF(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6,"? "),t.k0s(),t.j41(7,"div",33)(8,"button",34),t.EFF(9,"\u0414\u0430"),t.k0s(),t.j41(10,"button",35),t.EFF(11,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(5),t.E5c("",e.name_f," ",e.name_i," ",e.name_o,""),t.R7$(3),t.Y8G("mat-dialog-close",!0)}}const Ot=function(){return["../../employee","add"]},Pt=function(n){return{department_id:n}};let Gt=(()=>{class n extends F.X{constructor(e,o,i,r,s,d,_){super(r,s,o,i,d,_),this.companyService=e,this.removedMessage="\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0443\u0434\u0430\u043b\u0435\u043d",this.sortField="fio",this.nameField="fio",this.registerAlias("fio",["name_f","name_i","name_o"])}load(e){const o={...e,department_id:this.departmentId};return this.companyService.companyEmployeeList(o)}delete(e){return this.companyService.companyEmployeeDelete(e)}onDepartmentLeaderChange(e,o){const i={...e,department_leader:o?1:0};this.companyService.companyEmployeeUpdate({body:i}).subscribe(()=>this.loadRows())}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(b.B),t.rXU(p.bZ),t.rXU(f.UG),t.rXU(l.nX),t.rXU(l.Ix),t.rXU(h.E),t.rXU(g.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-department-employee"]],inputs:{departmentId:"departmentId"},features:[t.Jv_([h.E]),t.Vt3],decls:14,vars:7,consts:[[1,"form-group"],[1,"form-group-title"],[1,"main-table","fix-head","table-61c20c0f4c8ddffee3f3624545fe9ea4"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"odd"],["colspan","5"],[1,"btn","add-item-text",3,"routerLink","queryParams"],["removeDialogRef",""],[1,"col","column-sortable",2,"width","1px",3,"ngClass","click"],[1,"sorting-indicator"],[1,"column-sortable",2,"width","250px",3,"ngClass","click"],[1,"column-sortable",3,"ngClass","click"],[1,"column-sortable",2,"width","300px",3,"ngClass","click"],[2,"width","65px"],[3,"ngClass"],[1,"form-placer"],[1,"form-items"],["data-id","main",1,"form-item"],[1,"form-title"],[1,"form-data"],[1,"form-input"],[1,"switch","outer"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"switcher"],["data-on","\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c",1,"bg"],[1,"thumb"],["data-on","\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c",1,"switch-title"],[1,"col","min"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),t.k0s()(),t.j41(3,"table",2),t.DNE(4,yt,18,8,"thead",3),t.j41(5,"tbody"),t.DNE(6,Mt,24,12,"tr",4),t.j41(7,"tr",5)(8,"td",6)(9,"a",7)(10,"span"),t.EFF(11,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.k0s()()()()()(),t.DNE(12,Dt,12,4,"ng-template",null,8,t.C5r)),2&o&&(t.R7$(4),t.Y8G("ngIf",i.rows.length>0),t.R7$(2),t.Y8G("ngForOf",i.rows),t.R7$(3),t.Y8G("routerLink",t.lJ4(4,Ot))("queryParams",t.eq3(5,Pt,i.departmentId)))},dependencies:[c.YU,c.Sq,c.bT,p.tx,p.BI,p.Yi,p.E7,k.$z,u.Zm,u.BC,u.vS,l.Wk],styles:[".form-group[_ngcontent-%COMP%]{margin-top:25px}",'.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']})}}return n})();function Tt(n,a){1&n&&t.eu8(0)}function Bt(n,a){if(1&n&&t.nrm(0,"app-department-employee",24),2&n){const e=t.XpG();t.Y8G("departmentId",e.departmentId)}}function $t(n,a){if(1&n){const e=t.RV6();t.j41(0,"span",25),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.remove())}),t.j41(1,"span"),t.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()}}function wt(n,a){if(1&n&&(t.j41(0,"div",27),t.EFF(1),t.k0s()),2&n){const e=t.XpG().name,o=t.XpG();t.R7$(1),t.JRh(o.getError(e))}}function St(n,a){if(1&n&&t.DNE(0,wt,2,1,"div",26),2&n){const e=a.name,o=t.XpG();t.Y8G("ngIf",o.isFormSubmitted&&o.hasError(e))}}const Rt=function(){return{name:"name"}};let U=(()=>{class n extends x{constructor(e,o,i,r,s,d,_){super(d,r,s,i,o,_),this.fb=e,this.entity="\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",this.editTitle="\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0438",this.newTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",this.savedMessage=`${this.entity} \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e`,this.removedMessage=`${this.entity} \u0443\u0434\u0430\u043b\u0435\u043d\u043e`,this.createdMessage=`${this.entity} \u0441\u043e\u0437\u0434\u0430\u043d\u043e`,this.notFoundMessage=`${this.entity} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e`,this.form=this.fb.group({id:[""],name:["",[u.k0.required]]})}ngOnInit(){super.ngOnInit(),this.isEditMode&&(this.departmentId=Number(this.route.snapshot.paramMap.get("id")))}create(e){return this.companyService.companyDepartmentCreate(e)}read(e){return this.companyService.companyDepartmentInfo(e)}update(e){return this.companyService.companyDepartmentUpdate(e)}delete(e){return this.companyService.companyDepartmentDelete(e)}getNameForHeader(e){return e.name}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(f.UG),t.rXU(l.nX),t.rXU(b.B),t.rXU(g.V9),t.rXU(c.aZ),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-department-editor"]],features:[t.Vt3],decls:37,vars:9,consts:[[3,"title","isEditMode","name","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-placer"],[1,"form-items"],[1,"form-group"],[1,"form-group-title"],["type","hidden","formControlName","id"],[1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","","appFocusInitial","",1,"text-control"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"departmentId",4,"ngIf"],[1,"form-button-placer"],["type","submit",1,"hidden"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],["error",""],[3,"departmentId"],[1,"btn","v","del","button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){if(1&o&&(t.j41(0,"app-editor-header",0),t.bIt("save",function(){return i.save()})("remove",function(){return i.remove()}),t.k0s(),t.j41(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(){return i.save()}),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.k0s(),t.j41(8,"div"),t.nrm(9,"input",7),t.j41(10,"div",8),t.nrm(11,"div",9),t.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",9)(16,"div"),t.EFF(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f:"),t.j41(18,"span",13),t.EFF(19,"*"),t.k0s()()(),t.j41(20,"div",10)(21,"div")(22,"div",14),t.nrm(23,"input",15),t.DNE(24,Tt,1,0,"ng-container",16),t.k0s()()()()()()()()(),t.DNE(25,Bt,1,1,"app-department-employee",17),t.k0s(),t.j41(26,"div",18),t.nrm(27,"input",19),t.j41(28,"span",20),t.bIt("click",function(){return i.save()}),t.j41(29,"span"),t.EFF(30,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.DNE(31,$t,3,0,"span",21),t.j41(32,"span",22),t.bIt("click",function(){return i.goBack()}),t.j41(33,"span"),t.EFF(34,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()()()(),t.DNE(35,St,1,1,"ng-template",null,23,t.C5r)),2&o){const r=t.sdS(36);t.Y8G("title",i.title)("isEditMode",i.isEditMode)("name",i.nameForHeader),t.R7$(2),t.Y8G("formGroup",i.form),t.R7$(22),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(8,Rt)),t.R7$(1),t.Y8G("ngIf",i.departmentId),t.R7$(6),t.Y8G("ngIf",i.isEditMode)}},dependencies:[c.bT,c.T3,j.S,E.S,u.qT,u.me,u.BC,u.cb,u.YS,u.j4,u.JD,Gt],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']})}}return n})();const It=function(n){return{col:n}};function Xt(n,a){if(1&n){const e=t.RV6();t.j41(0,"th",7),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.sort(r.field))}),t.j41(1,"span"),t.EFF(2),t.nrm(3,"span",8),t.k0s()()}if(2&n){const e=a.$implicit,o=a.first,i=t.XpG();t.Y8G("ngClass",t.eq3(4,It,o))("ngClass",i.getSortClass(e.field)),t.BMQ("title",i.getColTitle(e.field)),t.R7$(2),t.JRh(e.title)}}const Nt=function(n){return{odd:n}},Yt=function(n){return["..","employee",n]},Ut=function(){return["..","employee","add"]},Vt=function(n){return{department_id:n}},At=function(){return[]},Lt=function(n){return[n]};function Jt(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",9)(1,"td",10),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"a",11),t.EFF(9),t.k0s()(),t.j41(10,"td")(11,"a",12)(12,"span"),t.EFF(13,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.k0s()()(),t.j41(14,"td",13)(15,"span",14),t.EFF(16,"\u041d\u0435\u0442"),t.k0s(),t.nrm(17,"a",15),t.j41(18,"span",16),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.confirmRemove(r))}),t.k0s()()()}if(2&n){const e=a.$implicit;t.Y8G("ngClass",t.eq3(10,Nt,a.odd)),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.count_position),t.R7$(2),t.JRh(e.count_user),t.R7$(2),t.Y8G("routerLink",t.eq3(12,Yt,e.leader_user_id)),t.R7$(1),t.SpI(" ",e.leader_user," "),t.R7$(2),t.Y8G("routerLink",t.lJ4(14,Ut))("queryParams",t.eq3(15,Vt,e.id)),t.R7$(4),t.Y8G("routerLink",t.lJ4(17,At)),t.R7$(2),t.Y8G("routerLink",t.eq3(18,Lt,e.id))}}function zt(n,a){if(1&n&&(t.j41(0,"h1",17),t.EFF(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),t.k0s(),t.j41(2,"div",18),t.EFF(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," ? "),t.k0s(),t.j41(7,"div",19)(8,"button",20),t.EFF(9,"\u0414\u0430"),t.k0s(),t.j41(10,"button",21),t.EFF(11,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(5),t.JRh(e.name),t.R7$(3),t.Y8G("mat-dialog-close",!0)}}let qt=(()=>{class n extends F.X{constructor(e,o,i,r,s,d,_){super(r,s,o,i,d,_),this.companyService=e,this.columns=[{field:"name",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"},{field:"count_position",title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0435\u0439"},{field:"count_user",title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"},{field:"leader_user",title:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"}],this.sortField=this.columns[0].field,this.nameField="name",this.removedMessage="\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e"}load(e){return this.companyService.companyDepartmentList(e)}delete(e){return this.companyService.companyDepartmentDelete(e)}ngOnInit(){super.ngOnInit(),this.loadRows()}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(b.B),t.rXU(p.bZ),t.rXU(f.UG),t.rXU(l.nX),t.rXU(l.Ix),t.rXU(h.E),t.rXU(g.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-department"]],features:[t.Jv_([h.E]),t.Vt3],decls:13,vars:6,consts:[[1,"main-table","fix-head","table-065dcf359d0addbf0d3ed4570559e2c1"],["class","column-sortable",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"width","134px"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[1,"column-sortable",3,"ngClass","click"],[1,"sorting-indicator"],[3,"ngClass"],[1,"col"],[1,"link-view",3,"routerLink"],[1,"btn","add-item-text",3,"routerLink","queryParams"],[1,"col","min","right"],["title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide",3,"routerLink"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(o,i){1&o&&(t.j41(0,"table",0)(1,"thead")(2,"tr"),t.DNE(3,Xt,4,6,"th",1),t.j41(4,"th",2),t.nrm(5,"span"),t.k0s(),t.j41(6,"th",3),t.nrm(7,"span"),t.k0s()()(),t.j41(8,"tbody"),t.DNE(9,Jt,19,20,"tr",4),t.k0s()(),t.j41(10,"app-paginator",5),t.bIt("startChange",function(s){return i.onStartChange(s)})("countChange",function(s){return i.onCountChange(s)}),t.k0s(),t.DNE(11,zt,12,2,"ng-template",null,6,t.C5r)),2&o&&(t.R7$(3),t.Y8G("ngForOf",i.columns),t.R7$(6),t.Y8G("ngForOf",i.rows),t.R7$(1),t.Y8G("total",i.total)("count",i.count)("start",i.start)("limits",i.limits))},dependencies:[c.YU,c.Sq,p.tx,p.BI,p.Yi,p.E7,k.$z,M.h,l.Wk],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2})}}return n})();var R=m(8141),Qt=m(3812);function Wt(n,a){1&n&&t.eu8(0)}function Ht(n,a){1&n&&t.eu8(0)}function Zt(n,a){1&n&&t.eu8(0)}function Kt(n,a){if(1&n&&(t.j41(0,"mat-option",50),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI("",e.name," ")}}function te(n,a){1&n&&t.eu8(0)}function ee(n,a){if(1&n&&(t.j41(0,"mat-option",50),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function ne(n,a){1&n&&t.eu8(0)}function ie(n,a){if(1&n&&(t.j41(0,"mat-option",50),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI("",e.name," ")}}function oe(n,a){1&n&&t.eu8(0)}function re(n,a){1&n&&t.eu8(0)}function ae(n,a){1&n&&t.eu8(0)}function ue(n,a){if(1&n){const e=t.RV6();t.j41(0,"span",51),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.registerUser())}),t.j41(1,"span"),t.EFF(2,"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"),t.k0s()()}}function se(n,a){if(1&n){const e=t.RV6();t.j41(0,"span",52),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.remove())}),t.j41(1,"span"),t.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()}}function le(n,a){if(1&n&&(t.j41(0,"div",54),t.EFF(1),t.k0s()),2&n){const e=t.XpG().name,o=t.XpG();t.R7$(1),t.JRh(o.getError(e))}}function ce(n,a){if(1&n&&t.DNE(0,le,2,1,"div",53),2&n){const e=a.name,o=t.XpG();t.Y8G("ngIf",o.isFormSubmitted&&o.hasError(e))}}const de=function(){return{name:"name_f"}},pe=function(){return{name:"name_i"}},me=function(){return{name:"name_o"}},_e=function(){return{name:"company_id"}},ge=function(){return{name:"department_id"}},fe=function(){return{name:"position_id"}},he=function(){return{name:"email"}},ve=function(){return{name:"phone"}};let V=(()=>{class n extends x{constructor(e,o,i,r,s,d,_,C){super(d,r,s,i,o,_),this.fb=e,this.userSevrice=C,this.entity="\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",this.editTitle="\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0435",this.newTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",this.savedMessage=`${this.entity} \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d`,this.removedMessage=`${this.entity} \u0443\u0434\u0430\u043b\u0435\u043d`,this.createdMessage=`${this.entity} \u0441\u043e\u0437\u0434\u0430\u043d`,this.notFoundMessage=`${this.entity} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`,this.form=this.fb.group({id:[""],name_f:["",[u.k0.required]],name_i:["",[u.k0.required]],name_o:[""],birth_date:[""],company_id:["",[u.k0.required]],department_id:["",[u.k0.required]],position_id:["",[u.k0.required]],employment_date:[""],dismissal_date:[""],email:["",[P.Bj]],phone:[""],skype:[""]})}ngOnInit(){if(super.ngOnInit(),!this.isEditMode){const e=this.route.snapshot.queryParamMap.get("department_id");e&&this.form.patchValue({department_id:Number(e)})}this.loadCompanies(),this.loadDepartments(),this.loadPositions()}create(e){return this.companyService.companyEmployeeCreate(e)}read(e){return this.companyService.companyEmployeeInfo(e)}update(e){return this.companyService.companyEmployeeUpdate(e)}delete(e){return this.companyService.companyEmployeeDelete(e)}getNameForHeader(e){return`${e.name_f} ${e.name_i} ${e.name_o}`}registerUser(){this.data.id&&this.userSevrice.userCreateInvite({body:{id:this.data.id}}).pipe((0,R.M)(e=>{})).subscribe({next:e=>{this.snackBar.open("\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043d\u043e ",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f : "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(f.UG),t.rXU(l.nX),t.rXU(b.B),t.rXU(Qt.V),t.rXU(c.aZ),t.rXU(l.Ix),t.rXU(g.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-employee-editor"]],features:[t.Vt3],decls:160,vars:34,consts:[[3,"title","isEditMode","name","isSend","save","remove","send"],[1,"edit-form"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-placer"],[1,"form-items"],[1,"form-group"],[1,"form-group-title"],["type","hidden","formControlName","id"],[1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],[1,"form-item",2,"width","25%"],[1,"req"],[1,"form-input"],["type","text","formControlName","name_f","appFocusInitial","","required","",1,"text-control"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","formControlName","name_i","required","",1,"text-control"],["data-id","var_name_o",1,"form-item",2,"width","25%"],["type","text","formControlName","name_o",1,"text-control"],["type","date","formControlName","birth_date",1,"text-control"],["data-id","group_inline_2",1,"form-item","form-inline-group"],["data-id","var_company_id",1,"form-item",2,"width","50%"],["appearance","outline",1,"ui-select"],["formControlName","company_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data-id","var_department_id",1,"form-item",2,"width","50%"],["appearance","outline",1,"full-width","ui-select"],["formControlName","department_id"],["data-id","group_inline_3",1,"form-item","form-inline-group"],[1,"form-item",2,"width","50%"],["formControlName","position_id"],[1,"width_50","form-group-row"],["type","date","formControlName","employment_date",1,"text-control"],["type","date","formControlName","dismissal_date",1,"text-control"],["data-id","group_inline_4",1,"form-item","form-inline-group"],["type","text","formControlName","email",1,"text-control"],["data-id","var_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","phone","appPhoneMask","",1,"text-control"],["data-id","var_skype",1,"form-item",2,"width","25%"],["type","text","formControlName","skype",1,"text-control"],[1,"width_25"],[1,"form-button-placer"],["type","submit",1,"hidden"],["class","btn v send  button",3,"click",4,"ngIf"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],["error",""],[3,"value"],[1,"btn","v","send","button",3,"click"],[1,"btn","v","del","button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){if(1&o&&(t.j41(0,"app-editor-header",0),t.bIt("save",function(){return i.save()})("remove",function(){return i.remove()})("send",function(){return i.registerUser()}),t.k0s(),t.j41(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(){return i.save()}),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0435"),t.k0s(),t.j41(8,"div"),t.nrm(9,"input",7),t.j41(10,"div",8),t.nrm(11,"div",9),t.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",9)(16,"div"),t.EFF(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),t.j41(18,"span",13),t.EFF(19,"*"),t.k0s()()(),t.j41(20,"div",10)(21,"div")(22,"div",14),t.nrm(23,"input",15),t.DNE(24,Wt,1,0,"ng-container",16),t.k0s()()()(),t.j41(25,"div",12)(26,"div",9)(27,"div"),t.EFF(28,"\u0418\u043c\u044f:"),t.j41(29,"span",13),t.EFF(30,"*"),t.k0s()()(),t.j41(31,"div",10)(32,"div")(33,"div",14),t.nrm(34,"input",17),t.DNE(35,Ht,1,0,"ng-container",16),t.k0s()()()(),t.j41(36,"div",18)(37,"div",9)(38,"div"),t.EFF(39,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e:"),t.k0s()(),t.j41(40,"div",10)(41,"div")(42,"div",14),t.nrm(43,"input",19),t.DNE(44,Zt,1,0,"ng-container",16),t.k0s()()()(),t.j41(45,"div",12)(46,"div",9)(47,"div"),t.EFF(48,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"),t.k0s()(),t.j41(49,"div",10)(50,"div")(51,"div",14),t.nrm(52,"input",20),t.k0s()()()()()()(),t.j41(53,"div",21),t.nrm(54,"div",9),t.j41(55,"div",10)(56,"div",11)(57,"div",22)(58,"div",9)(59,"div"),t.EFF(60,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:"),t.j41(61,"span",13),t.EFF(62,"*"),t.k0s()()(),t.j41(63,"div",10)(64,"mat-form-field",23)(65,"mat-select",24)(66,"mat-option",25),t.EFF(67,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(68,Kt,2,2,"mat-option",26),t.k0s()(),t.DNE(69,te,1,0,"ng-container",16),t.k0s()(),t.j41(70,"div",27)(71,"div",9)(72,"div"),t.EFF(73,"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:"),t.j41(74,"span",13),t.EFF(75,"*"),t.k0s()()(),t.j41(76,"div",10)(77,"mat-form-field",28)(78,"mat-select",29)(79,"mat-option",25),t.EFF(80,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(81,ee,2,2,"mat-option",26),t.k0s()(),t.DNE(82,ne,1,0,"ng-container",16),t.k0s()()()()(),t.j41(83,"div",30),t.nrm(84,"div",9),t.j41(85,"div",10)(86,"div",11)(87,"div",31)(88,"div",9)(89,"div"),t.EFF(90,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c:"),t.j41(91,"span",13),t.EFF(92,"*"),t.k0s()()(),t.j41(93,"div",10)(94,"mat-form-field",28)(95,"mat-select",32)(96,"mat-option",25),t.EFF(97,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(98,ie,2,2,"mat-option",26),t.k0s()(),t.DNE(99,oe,1,0,"ng-container",16),t.k0s()(),t.j41(100,"div",33)(101,"div",31)(102,"div",9)(103,"div"),t.EFF(104,"\u0414\u0430\u0442\u0430 \u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:"),t.k0s()(),t.j41(105,"div",10)(106,"div")(107,"div",14),t.nrm(108,"input",34),t.k0s()()()(),t.j41(109,"div",31)(110,"div",9)(111,"div"),t.EFF(112,"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f:"),t.k0s()(),t.j41(113,"div",10)(114,"div")(115,"div",14),t.nrm(116,"input",35),t.k0s()()()()()()()(),t.j41(117,"div",36),t.nrm(118,"div",9),t.j41(119,"div",10)(120,"div",11)(121,"div",12)(122,"div",9)(123,"div"),t.EFF(124,"E-mail:"),t.k0s()(),t.j41(125,"div",10)(126,"div")(127,"div",14),t.nrm(128,"input",37),t.DNE(129,re,1,0,"ng-container",16),t.k0s()()()(),t.j41(130,"div",38)(131,"div",9)(132,"div"),t.EFF(133,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"),t.k0s()(),t.j41(134,"div",10)(135,"div")(136,"div",14),t.nrm(137,"input",39),t.DNE(138,ae,1,0,"ng-container",16),t.k0s()()()(),t.j41(139,"div",40)(140,"div",9)(141,"div"),t.EFF(142,"Skype:"),t.k0s()(),t.j41(143,"div",10)(144,"div")(145,"div",14),t.nrm(146,"input",41),t.k0s()()()(),t.nrm(147,"div",42),t.k0s()()()()()(),t.j41(148,"div",43),t.nrm(149,"input",44),t.DNE(150,ue,3,0,"span",45),t.j41(151,"span",46),t.bIt("click",function(){return i.save()}),t.j41(152,"span"),t.EFF(153,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.DNE(154,se,3,0,"span",47),t.j41(155,"span",48),t.bIt("click",function(){return i.goBack()}),t.j41(156,"span"),t.EFF(157,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()()()(),t.DNE(158,ce,1,1,"ng-template",null,49,t.C5r)),2&o){const r=t.sdS(159);t.Y8G("title",i.title)("isEditMode",i.isEditMode)("name",i.nameForHeader)("isSend",!0),t.R7$(2),t.Y8G("formGroup",i.form),t.R7$(22),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(26,de)),t.R7$(11),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(27,pe)),t.R7$(9),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(28,me)),t.R7$(24),t.Y8G("ngForOf",i.companies),t.R7$(1),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(29,_e)),t.R7$(12),t.Y8G("ngForOf",i.departments),t.R7$(1),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(30,ge)),t.R7$(16),t.Y8G("ngForOf",i.positions),t.R7$(1),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(31,fe)),t.R7$(30),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(32,he)),t.R7$(9),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(33,ve)),t.R7$(12),t.Y8G("ngIf",!i.data.has_password&&i.isEditMode),t.R7$(4),t.Y8G("ngIf",i.isEditMode)}},dependencies:[c.Sq,c.bT,c.T3,N.rl,G.VO,T.wT,j.S,E.S,S.A,u.qT,u.me,u.BC,u.cb,u.YS,u.j4,u.JD],encapsulation:2})}}return n})();const be=function(n){return{odd:n}},Ce=function(n){return[n]};function ke(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",8)(1,"td",9),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.nI1(15,"date"),t.k0s(),t.j41(16,"td",10)(17,"span",11),t.EFF(18,"\u041d\u0435\u0442"),t.k0s(),t.nrm(19,"a",12),t.j41(20,"span",13),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.confirmRemove(r))}),t.k0s()()()}if(2&n){const e=a.$implicit;t.Y8G("ngClass",t.eq3(13,be,a.odd)),t.R7$(2),t.E5c("",e.name_f," ",e.name_i," ",e.name_o,""),t.R7$(2),t.JRh(e.company_name),t.R7$(2),t.JRh(e.department_name),t.R7$(2),t.JRh(e.position_name),t.R7$(2),t.JRh(e.phone),t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(t.bMT(15,11,e.birth_date)),t.R7$(5),t.Y8G("routerLink",t.eq3(15,Ce,e.id))}}function Ee(n,a){if(1&n&&(t.j41(0,"h1",14),t.EFF(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.k0s(),t.j41(2,"div",15),t.EFF(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," ? "),t.k0s(),t.j41(7,"div",16)(8,"button",17),t.EFF(9,"\u0414\u0430"),t.k0s(),t.j41(10,"button",18),t.EFF(11,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(5),t.E5c("",e.name_f," ",e.name_i," ",e.name_o,""),t.R7$(3),t.Y8G("mat-dialog-close",!0)}}let Fe=(()=>{class n extends F.X{constructor(e,o,i,r,s,d,_){super(r,s,o,i,d,_),this.companyService=e,this.trackById=(C,O)=>O.id,this.removedMessage="\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0443\u0434\u0430\u043b\u0435\u043d",this.sortField="fio",this.registerAlias("fio",["name_f","name_i","name_o"])}ngOnInit(){super.ngOnInit(),this.loadRows()}load(e){return console.log(1234),this.companyService.companyEmployeeList(e)}delete(e){return this.companyService.companyEmployeeDelete(e)}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(b.B),t.rXU(p.bZ),t.rXU(f.UG),t.rXU(l.nX),t.rXU(l.Ix),t.rXU(h.E),t.rXU(g.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-employee"]],features:[t.Jv_([h.E]),t.Vt3],decls:38,vars:20,consts:[[1,"main-table","fix-head","table-98a02492513816a6438bbd36fc9458a2"],[1,"col","column-sortable",3,"ngClass","click"],[1,"sorting-indicator"],[1,"column-sortable",3,"ngClass","click"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[3,"ngClass"],[1,"col"],[1,"col","min","right"],["title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(o,i){1&o&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.bIt("click",function(){return i.sort("fio")}),t.j41(4,"span"),t.EFF(5,"\u0424.\u0418.\u041e."),t.nrm(6,"span",2),t.k0s()(),t.j41(7,"th",3),t.bIt("click",function(){return i.sort("company_name")}),t.j41(8,"span"),t.EFF(9,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),t.nrm(10,"span",2),t.k0s()(),t.j41(11,"th",3),t.bIt("click",function(){return i.sort("department_name")}),t.j41(12,"span"),t.EFF(13,"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),t.nrm(14,"span",2),t.k0s()(),t.j41(15,"th",3),t.bIt("click",function(){return i.sort("position_name")}),t.j41(16,"span"),t.EFF(17,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t.nrm(18,"span",2),t.k0s()(),t.j41(19,"th",3),t.bIt("click",function(){return i.sort("phone")}),t.j41(20,"span"),t.EFF(21,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.nrm(22,"span",2),t.k0s()(),t.j41(23,"th",3),t.bIt("click",function(){return i.sort("email")}),t.j41(24,"span"),t.EFF(25,"E-mail"),t.nrm(26,"span",2),t.k0s()(),t.j41(27,"th",3),t.bIt("click",function(){return i.sort("birth_date")}),t.j41(28,"span"),t.EFF(29,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434."),t.nrm(30,"span",2),t.k0s()(),t.j41(31,"th",4),t.nrm(32,"span"),t.k0s()()(),t.j41(33,"tbody"),t.DNE(34,ke,21,17,"tr",5),t.k0s()(),t.j41(35,"app-paginator",6),t.bIt("startChange",function(s){return i.onStartChange(s)})("countChange",function(s){return i.onCountChange(s)}),t.k0s(),t.DNE(36,Ee,12,4,"ng-template",null,7,t.C5r)),2&o&&(t.R7$(3),t.Y8G("ngClass",i.getSortClass("fio")),t.BMQ("title",i.getColTitle("fio")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("company_name")),t.BMQ("title",i.getColTitle("company_name")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("department_name")),t.BMQ("title",i.getColTitle("department_name")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("position_name")),t.BMQ("title",i.getColTitle("position_name")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("phone")),t.BMQ("title",i.getColTitle("phone")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("email")),t.BMQ("title",i.getColTitle("email")),t.R7$(4),t.Y8G("ngClass",i.getSortClass("birth_date")),t.BMQ("title",i.getColTitle("birth_date")),t.R7$(7),t.Y8G("ngForOf",i.rows)("ngForTrackBy",i.trackById),t.R7$(1),t.Y8G("total",i.total)("count",i.count)("start",i.start)("limits",i.limits))},dependencies:[c.YU,c.Sq,p.tx,p.BI,p.Yi,p.E7,k.$z,M.h,l.Wk,c.vh],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2})}}return n})(),ye=(()=>{class n{constructor(e,o){this.fb=e,this.snackBar=o,this.form=e.group({fio:[""],email:[""],phone:[""]})}ngOnInit(){this.loadPersonalSettings()}loadPersonalSettings(){this.sorry()}save(){this.sorry()}sorry(){this.snackBar.open("Sorry, No API for personal settings implemented yet",void 0,{duration:1e3})}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(f.UG))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-personal-settings"]],decls:37,vars:1,consts:[[1,"form",3,"formGroup"],[1,"form-placer","simple"],[1,"form-items"],["data-id","title_0",1,"form-sub-title"],["data-id","group_inline_0",1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],["data-id","var_fio",1,"form-item",2,"width","50%"],[1,"form-input"],["type","text","formControlName","fio","appFocusInitial","",1,"text-control"],["data-id","var_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","phone","appPhoneMask","",1,"text-control"],["data-id","var_email",1,"form-item",2,"width","25%"],["type","text","formControlName","email",1,"text-control"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"]],template:function(o,i){1&o&&(t.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),t.EFF(4,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),t.k0s(),t.j41(5,"div",4),t.nrm(6,"div",5),t.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",5)(11,"div"),t.EFF(12,"\u0424\u0418\u041e:"),t.k0s()(),t.j41(13,"div",6)(14,"div")(15,"div",9),t.nrm(16,"input",10),t.k0s()()()(),t.j41(17,"div",11)(18,"div",5)(19,"div"),t.EFF(20,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"),t.k0s()(),t.j41(21,"div",6)(22,"div")(23,"div",9),t.nrm(24,"input",12),t.k0s()()()(),t.j41(25,"div",13)(26,"div",5)(27,"div"),t.EFF(28,"E-mail:"),t.k0s()(),t.j41(29,"div",6)(30,"div")(31,"div",9),t.nrm(32,"input",14),t.k0s()()()()()()()(),t.j41(33,"div",15)(34,"span",16),t.bIt("click",function(){return i.save()}),t.j41(35,"span"),t.EFF(36,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()()()()()),2&o&&t.Y8G("formGroup",i.form)},dependencies:[E.S,S.A,u.qT,u.me,u.BC,u.cb,u.j4,u.JD]})}}return n})();var B=m(2765);function xe(n,a){1&n&&t.eu8(0)}function je(n,a){if(1&n){const e=t.RV6();t.j41(0,"th")(1,"div",20)(2,"div",21),t.EFF(3),t.j41(4,"label")(5,"mat-checkbox",23),t.bIt("change",function(i){const s=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.onChangeCheckboxCol(i,s.field))}),t.k0s()()()()()}if(2&n){const e=a.$implicit,o=t.XpG();t.R7$(3),t.SpI(" ",e.name," "),t.R7$(2),t.Y8G("indeterminate",o.isIndeterminateCol(e.field))("ngClass",o.isIndeterminateCol(e.field)?"mat-mdc-checkbox-indeterminate":"")("checked",o.isCheckedCol(e.field))}}function Me(n,a){if(1&n){const e=t.RV6();t.j41(0,"label")(1,"mat-checkbox",36),t.bIt("change",function(i){const s=t.eBV(e).$implicit,d=t.XpG().$implicit,_=t.XpG();return t.Njj(_.onChangeCheckboxRow(i,s,d))}),t.k0s(),t.EFF(2),t.k0s()}if(2&n){const e=a.$implicit,o=t.XpG().$implicit,i=t.XpG();t.R7$(1),t.Y8G("checked",i.isCheckedRow(o.value.values,e))("indeterminate",i.isIndeterminateRow(o.value.values,e))("ngClass",i.isIndeterminateRow(o.value.values,e)?"mat-mdc-checkbox-indeterminate":""),t.R7$(1),t.SpI(" ",i.data.permission.rule[e]," ")}}function De(n,a){if(1&n){const e=t.RV6();t.j41(0,"label")(1,"input",38),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG().$implicit,d=t.XpG().$implicit,_=t.XpG();return t.Njj(_.onChangeRadioBtnRow(d,s.field,r))}),t.k0s(),t.nrm(2,"i"),t.k0s()}if(2&n){const e=a.$implicit,o=t.XpG().$implicit;t.R7$(1),t.Y8G("formControlName",o.field)("value",e)}}function Oe(n,a){if(1&n&&(t.j41(0,"td")(1,"div",20)(2,"div",21)(3,"div",37),t.EFF(4,"+"),t.k0s(),t.DNE(5,De,3,2,"label",24),t.k0s()()()),2&n){const e=t.XpG().$implicit;t.R7$(5),t.Y8G("ngForOf",e.value.rules)}}function Pe(n,a){if(1&n){const e=t.RV6();t.qex(0,33),t.j41(1,"tr",34)(2,"td")(3,"div",35),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.loge())}),t.j41(4,"div",21),t.EFF(5),t.DNE(6,Me,3,4,"label",24),t.k0s()()(),t.DNE(7,Oe,6,1,"td",24),t.k0s(),t.bVm()}if(2&n){const e=a.$implicit,o=a.index,i=t.XpG();t.Y8G("formGroupName",o),t.R7$(5),t.SpI(" ",e.value.name," "),t.R7$(1),t.Y8G("ngForOf",e.value.rules),t.R7$(1),t.Y8G("ngForOf",null==i.data||null==i.data.permission?null:i.data.permission.columns)}}function Ge(n,a){if(1&n){const e=t.RV6();t.j41(0,"span",39),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.remove())}),t.j41(1,"span"),t.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()}}function Te(n,a){if(1&n&&(t.j41(0,"div",41),t.EFF(1),t.k0s()),2&n){const e=t.XpG().name,o=t.XpG();t.R7$(1),t.JRh(o.getError(e))}}function Be(n,a){if(1&n&&t.DNE(0,Te,2,1,"div",40),2&n){const e=a.name,o=t.XpG();t.Y8G("ngIf",o.isFormSubmitted&&o.hasError(e))}}const $e=function(){return{name:"name"}};let A=(()=>{class n extends x{constructor(e,o,i,r,s,d,_){super(d,i,r,s,o,_),this.fb=e,this.entity="\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",this.editTitle="\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",this.newTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",this.savedMessage=`${this.entity} \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430`,this.removedMessage=`${this.entity} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,this.createdMessage=`${this.entity} \u0441\u043e\u0437\u0434\u0430\u043d\u0430`,this.notFoundMessage=`${this.entity} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430`,this.form=this.fb.group({id:[""],name:["",[u.k0.required]],permission:this.fb.array([this.createRow()])})}patchForm(){this.form.patchValue({id:this.data.id,name:this.data.name}),this.loadRowsData(this.data.permission.row)}create(e){return this.companyService.companyPositionCreate(e)}read(e){return this.companyService.companyPositionInfo(e)}update(e){return this.companyService.companyPositionUpdate(e)}delete(e){return this.companyService.companyPositionDelete(e)}getNameForHeader(e){return e.name}loge(){console.log(this.form.value)}get permission(){return this.form.get("permission")}createRow(){return this.fb.group({name:["",[]],rules:[[],[]],field:[""],values:this.fb.group({request:["",[]],rate:["",[]],order:["",[]],tariff:["",[]],contractor:["",[]],report:["",[]],customer:["",[]],data:["",[]]})})}loadRowsData(e){for(console.log("loadRowsData",e);this.permission.length;)this.permission.removeAt(0);e.forEach(o=>{const i=this.fb.group({name:[o.name],field:[o.field],rules:[o.rules],values:this.fb.group(o.values)});this.permission.push(i)})}isCheckedRow(e,o){return Object.values(e).every(i=>i==o)}isIndeterminateRow(e,o){const i=Object.values(e);return!i.every(r=>r==o)&&i.some(r=>r==o)}onChangeCheckboxRow({checked:e},o,i){const r=e?o:"";i.controls.values.patchValue({request:r,rate:r,order:r,tariff:r,contractor:r,report:r,customer:r,data:r})}onChangeRadioBtnRow(e,o,i){e.value.values[o]===i&&e.controls.values.patchValue({[o]:""})}onChangeCheckboxFullPermission({checked:e}){const o=e?"all":"";this.permission.controls.forEach(i=>{i.controls.values.patchValue({request:o,rate:o,order:o,tariff:o,contractor:o,report:o,customer:o,data:o})})}isIndeterminateFullPermission(){const e=[];return this.permission.controls.forEach(o=>{e.push(this.isCheckedRow(o.value.values,"all"))}),!e.every(o=>!0===o)&&e.some(o=>!0===o)}isCheckedFullPermission(){const e=[];return this.permission.controls.forEach(o=>{e.push(this.isCheckedRow(o.value.values,"all"))}),e.every(o=>!0===o)}onChangeCheckboxCol({checked:e},o){const i=e?"all":"";this.permission.controls.forEach(r=>{r.controls.values.patchValue({[o]:i})})}isIndeterminateCol(e){return!this.permission.value.every(o=>"all"===o.values[e])&&this.permission.value.some(o=>"all"===o.values[e])}isCheckedCol(e){return this.permission.value.every(o=>"all"===o.values[e])}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(f.UG),t.rXU(b.B),t.rXU(g.V9),t.rXU(l.nX),t.rXU(c.aZ),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-position-editor"]],features:[t.Vt3],decls:54,vars:15,consts:[[3,"title","isEditMode","name","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-placer"],[1,"form-items"],["data-id","group_0",1,"form-group"],[1,"form-group-title"],[1,"form-item","form-inline-group"],[1,"form-title"],["type","hidden","formControlName","id"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","","appFocusInitial","",1,"text-control"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-id","group_1",1,"form-group"],[1,"form-group-title",2,"margin-top","24px"],["formArrayName","permission",1,"table-list"],[1,"td-block"],[1,"column"],[2,"display","flex","align-items","center","margin","auto 0"],[3,"indeterminate","ngClass","checked","change"],[4,"ngFor","ngForOf"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-button-placer"],["type","submit",1,"hidden"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],[1,"form",3,"formGroup"],["error",""],[3,"formGroupName"],["formGroupName","values"],[1,"td-block",3,"click"],[3,"checked","indeterminate","ngClass","change"],[2,"color","white"],["type","radio",3,"formControlName","value","click"],[1,"btn","v","del","button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){if(1&o&&(t.j41(0,"app-editor-header",0),t.bIt("save",function(){return i.save()})("remove",function(){return i.remove()}),t.k0s(),t.j41(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(){return i.save()}),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.k0s(),t.j41(8,"div")(9,"div",7),t.nrm(10,"div",8)(11,"input",9),t.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",8)(16,"div"),t.EFF(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438:"),t.j41(18,"span",13),t.EFF(19,"*"),t.k0s()()(),t.j41(20,"div",10)(21,"div")(22,"div",14),t.nrm(23,"input",15),t.DNE(24,xe,1,0,"ng-container",16),t.k0s()()()()()()()()()(),t.j41(25,"div",3)(26,"div",4)(27,"div",17)(28,"div",18),t.EFF(29,"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),t.k0s(),t.j41(30,"table",19)(31,"thead")(32,"tr")(33,"th")(34,"div",20)(35,"div",21)(36,"label",22)(37,"mat-checkbox",23),t.bIt("change",function(s){return i.onChangeCheckboxFullPermission(s)}),t.k0s(),t.EFF(38),t.k0s()()()(),t.DNE(39,je,6,4,"th",24),t.k0s()(),t.j41(40,"tbody"),t.DNE(41,Pe,8,4,"ng-container",25),t.k0s()()()()(),t.j41(42,"div",26),t.nrm(43,"input",27),t.j41(44,"span",28),t.bIt("click",function(){return i.save()}),t.j41(45,"span"),t.EFF(46,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.DNE(47,Ge,3,0,"span",29),t.j41(48,"span",30),t.bIt("click",function(){return i.goBack()}),t.j41(49,"span"),t.EFF(50,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()()(),t.nrm(51,"form",31),t.k0s(),t.DNE(52,Be,1,1,"ng-template",null,32,t.C5r)),2&o){const r=t.sdS(53);t.Y8G("title",i.title)("isEditMode",i.isEditMode)("name",i.nameForHeader),t.R7$(2),t.Y8G("formGroup",i.form),t.R7$(22),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(14,$e)),t.R7$(13),t.Y8G("indeterminate",i.isIndeterminateFullPermission())("ngClass",i.isIndeterminateFullPermission()?"mat-mdc-checkbox-indeterminate":"")("checked",i.isCheckedFullPermission()),t.R7$(1),t.SpI(" ","\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"," "),t.R7$(1),t.Y8G("ngForOf",null==i.data||null==i.data.permission?null:i.data.permission.columns),t.R7$(2),t.Y8G("ngForOf",i.permission.controls),t.R7$(6),t.Y8G("ngIf",i.isEditMode),t.R7$(4),t.Y8G("formGroup",i.form)}},dependencies:[c.YU,c.Sq,c.bT,c.T3,B.So,j.S,E.S,u.qT,u.me,u.Fm,u.BC,u.cb,u.YS,u.j4,u.JD,u.$R,u.v8],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:320px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   .column[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child   .column[_ngcontent-%COMP%]{margin:0;flex-direction:column;align-items:normal;color:#2c3640;font-weight:700;font-size:15px;line-height:22px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   .column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child   .column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;line-height:14px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   .column[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child   .column[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:5px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{background-color:#fff;border-top:1px solid #E0E5EB;border-left:1px solid #E0E5EB;border-bottom:1px solid #E0E5EB}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{gap:5px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .td-block[_ngcontent-%COMP%]{height:64px;min-width:60px}tr[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{flex-direction:column;gap:15px;margin:0 auto}.form-placer[_ngcontent-%COMP%]{padding-bottom:0}.form-placer[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%] + i[_ngcontent-%COMP%]{margin:0}table.table-list[_ngcontent-%COMP%]{width:100%;border-spacing:inherit;box-shadow:0 2px 8px #242d4314}table.table-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .td-block[_ngcontent-%COMP%]{padding:20px 8px}"]})}}return n})();const we=function(n){return{odd:n}},Se=function(n){return[n]};function Re(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",7)(1,"td",8),t.EFF(2),t.k0s(),t.j41(3,"td",9),t.nrm(4,"a",10),t.j41(5,"span",11),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.confirmRemove(r))}),t.k0s()()()}if(2&n){const e=a.$implicit;t.Y8G("ngClass",t.eq3(3,we,a.odd)),t.R7$(2),t.JRh(e.name),t.R7$(2),t.Y8G("routerLink",t.eq3(5,Se,e.id))}}function Ie(n,a){if(1&n&&(t.j41(0,"h1",12),t.EFF(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t.k0s(),t.j41(2,"div",13),t.EFF(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," ? "),t.k0s(),t.j41(7,"div",14)(8,"button",15),t.EFF(9,"\u0414\u0430"),t.k0s(),t.j41(10,"button",16),t.EFF(11,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(5),t.JRh(e.name),t.R7$(3),t.Y8G("mat-dialog-close",!0)}}let Xe=(()=>{class n extends F.X{constructor(e,o,i,r,s,d,_){super(r,s,o,i,d,_),this.companyService=e,this.removedMessage="\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430",this.sortField="name"}load(e){return console.log(123),this.companyService.companyPositionList(e)}delete(e){return this.companyService.companyPositionDelete(e)}ngOnInit(){super.ngOnInit(),this.loadRows()}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(b.B),t.rXU(p.bZ),t.rXU(f.UG),t.rXU(l.nX),t.rXU(l.Ix),t.rXU(h.E),t.rXU(g.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-position"]],features:[t.Jv_([h.E]),t.Vt3],decls:14,vars:7,consts:[[1,"main-table","fix-head","table-4e6cc9770d169fc6e17fab7fb0968f9b"],[1,"col","column-sortable",3,"ngClass","click"],[1,"sorting-indicator"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[3,"ngClass"],[1,"col"],[1,"col","min"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(o,i){1&o&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.bIt("click",function(){return i.sort("name")}),t.j41(4,"span"),t.EFF(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.nrm(6,"span",2),t.k0s()(),t.j41(7,"th",3),t.nrm(8,"span"),t.k0s()()(),t.j41(9,"tbody"),t.DNE(10,Re,6,7,"tr",4),t.k0s()(),t.j41(11,"app-paginator",5),t.bIt("startChange",function(s){return i.onStartChange(s)})("countChange",function(s){return i.onCountChange(s)}),t.k0s(),t.DNE(12,Ie,12,2,"ng-template",null,6,t.C5r)),2&o&&(t.R7$(3),t.Y8G("ngClass",i.getSortClass("name")),t.BMQ("title",i.getColTitle("name")),t.R7$(7),t.Y8G("ngForOf",i.rows),t.R7$(1),t.Y8G("total",i.total)("count",i.count)("start",i.start)("limits",i.limits))},dependencies:[c.YU,c.Sq,p.tx,p.BI,p.Yi,p.E7,k.$z,M.h,l.Wk],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']})}}return n})();var y=m(1413),v=m(6977),Ne=m(4412);let D=(()=>{class n{constructor(e,o){this.apiSettingsService=e,this.route=o,this._menuGroups=[],this._tableRows$=new Ne.t([]),this._destroy$=new y.B}getMenuGroups(){return this._menuGroups}loadMenuGroups(){return this.apiSettingsService.settingsFilterFormParam().pipe((0,R.M)(e=>{this._menuGroups=this.buildMenuGroups(e.tables)}))}buildMenuGroups(e){return[this.createCommonSettingsGroup(),this.createCompanyStructureGroup(),this.createSystemGroup(),this.createTableFiltersGroup(e),this.createDirectoriesGroup()]}createCommonSettingsGroup(){return{title:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",cssClass:"settings-common",expanded:!1,items:[{title:"\u041b\u0438\u0447\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",link:"./personal"},{title:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",link:"./company",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"}]}}createCompanyStructureGroup(){return{title:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",cssClass:"settings-company-structure",expanded:!1,items:[{title:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",link:"./department",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"},{title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",link:"./position",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"},{title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",link:"./employee",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}]}}createSystemGroup(){return{title:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430",cssClass:"settings-system",expanded:!1,items:[{title:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",link:"./general-settings",canAdd:!1},{title:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",link:"./notifications",canAdd:!1}]}}createTableFiltersGroup(e){return{title:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0430\u0445",cssClass:"settings-table-filter",expanded:!1,items:this.transformTablesToMenuItems(e)}}createDirectoriesGroup(){return{title:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",cssClass:"settings-directory",expanded:!1,items:[{title:"\u0413\u0440\u0443\u043f\u043f\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",link:"./client-group",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"}]}}transformTablesToMenuItems(e){return e.map(o=>({title:o.name,link:`./table-filter/${o.id}`,canAdd:!1}))}loadTableRows(e){this.apiSettingsService.settingsFilterList({table:e}).pipe((0,v.Q)(this._destroy$)).subscribe(o=>{null!=o.items&&this._tableRows$.next(o.items)})}getTableRows$(){return this._tableRows$.asObservable()}updateTableRows(e){this._tableRows$.next(e)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._tableRows$.complete()}static{this.\u0275fac=function(o){return new(o||n)(t.KVO(g.h$),t.KVO(l.nX))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ye=function(n){return[n,"add"]};function Ue(n,a){if(1&n&&(t.j41(0,"a",15)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG(2);t.Y8G("routerLink",t.eq3(2,Ye,null==e.activeMenuItem?null:e.activeMenuItem.link)),t.R7$(2),t.JRh(null==e.activeMenuItem?null:e.activeMenuItem.addButtonTitle)}}function Ve(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.openPopap(null==i.activeMenuItem?null:i.activeMenuItem.popap))}),t.EFF(1),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(1),t.SpI(" ",null==e.activeMenuItem?null:e.activeMenuItem.addButtonTitle," ")}}function Ae(n,a){if(1&n&&(t.qex(0),t.DNE(1,Ue,3,4,"a",13),t.DNE(2,Ve,2,1,"button",14),t.bVm()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",!(null!=e.activeMenuItem&&e.activeMenuItem.addPopap)),t.R7$(1),t.Y8G("ngIf",null==e.activeMenuItem?null:e.activeMenuItem.addPopap)}}const L=function(n){return[n]};function Le(n,a){if(1&n&&(t.j41(0,"a",24),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("routerLink",t.eq3(2,L,e.link)),t.R7$(1),t.JRh(e.title)}}const Je=function(n){return{open:n}},ze=function(n){return{display:n}};function qe(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",17)(1,"div",18),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.toggleGroup(r))}),t.nrm(2,"span",19),t.j41(3,"span",20),t.EFF(4),t.k0s(),t.nrm(5,"span",21),t.k0s(),t.j41(6,"div",22),t.DNE(7,Le,2,4,"a",23),t.k0s()()}if(2&n){const e=a.$implicit;t.Y8G("ngClass",t.eq3(5,Je,e.expanded)),t.R7$(2),t.Y8G("ngClass",e.cssClass),t.R7$(2),t.JRh(e.title),t.R7$(2),t.Y8G("ngStyle",t.eq3(7,ze,e.expanded?"":"none")),t.R7$(1),t.Y8G("ngForOf",e.items)}}let Qe=(()=>{class n{constructor(e,o,i,r){this.router=e,this.activatedRoute=o,this.mySettingService=i,this.dialog=r,this._destroy$=new y.B,this.settings=[],this.routerEventSubscription=e.events.subscribe(s=>{s instanceof l.wF&&this.detectMenuItemAndGroup()})}ngOnInit(){this.mySettingService.loadMenuGroups().subscribe({next:()=>{this.settings=this.mySettingService.getMenuGroups(),this.detectMenuItemAndGroup()},error:e=>console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043c\u0435\u043d\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a",e)})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete(),this.routerEventSubscription.unsubscribe()}openPopap(e){this.dialog.open(e).afterClosed().subscribe(i=>{i&&this.mySettingService.loadTableRows(i)})}toggleGroup(e){e.expanded=!e.expanded}detectMenuItemAndGroup(){for(const e of this.settings)for(const o of e.items){const i=this.router.createUrlTree([o.link],{relativeTo:this.activatedRoute});if(this.router.isActive(i,{paths:"subset",matrixParams:"ignored",queryParams:"ignored",fragment:"ignored"}))return this.activeMenuItem=o,this.activeMenuGroup=e,void(this.activeMenuGroup.expanded=!0)}}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(l.Ix),t.rXU(l.nX),t.rXU(D),t.rXU(p.bZ))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-settings"]],decls:23,vars:8,consts:[[1,"subheader"],[1,"placer"],[1,"title"],[1,"break-crumbs"],[1,"item-crumbs"],[1,"del-crumbs"],[3,"routerLink"],[1,"div"],[4,"ngIf"],[1,"settings"],[1,"left","side-menu"],["class","menu-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"settings-page"],["class","btn add",3,"routerLink",4,"ngIf"],["class","btn add","type","button",3,"click",4,"ngIf"],[1,"btn","add",3,"routerLink"],["type","button",1,"btn","add",3,"click"],[1,"menu-group",3,"ngClass"],[1,"group-name",3,"click"],[1,"ico",3,"ngClass"],[1,"name"],[1,"chevron"],[1,"group-items",3,"ngStyle"],["class","menu-item","routerLinkActive","open",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","open",1,"menu-item",3,"routerLink"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.j41(4,"div",3)(5,"span",4),t.EFF(6,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),t.k0s(),t.j41(7,"span",5),t.EFF(8,"/"),t.k0s(),t.j41(9,"span",4),t.EFF(10),t.k0s(),t.j41(11,"span",5),t.EFF(12,"/"),t.k0s(),t.j41(13,"span",4)(14,"a",6),t.EFF(15),t.k0s()()(),t.nrm(16,"div",7),t.DNE(17,Ae,3,2,"ng-container",8),t.k0s()(),t.j41(18,"div",9)(19,"div",10),t.DNE(20,qe,8,9,"div",11),t.k0s(),t.j41(21,"div",12),t.nrm(22,"router-outlet"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(null==i.activeMenuItem?null:i.activeMenuItem.title),t.R7$(7),t.SpI(" ",null==i.activeMenuGroup?null:i.activeMenuGroup.title,""),t.R7$(4),t.Y8G("routerLink",t.eq3(6,L,null==i.activeMenuItem?null:i.activeMenuItem.link)),t.R7$(1),t.SpI(" ",null==i.activeMenuItem?null:i.activeMenuItem.title,""),t.R7$(2),t.Y8G("ngIf",null==i.activeMenuItem?null:i.activeMenuItem.canAdd),t.R7$(3),t.Y8G("ngForOf",i.settings))},dependencies:[c.YU,c.Sq,c.bT,c.B3,l.n3,l.Wk,l.wQ],styles:[".settings{display:flex;flex-grow:1}.settings .left{width:320px;flex-shrink:0}.settings .settings-page{flex-grow:1;padding:20px}.settings .settings-page .table-footer{padding:20px 0 0}.side-menu{background:#4B66AD;color:#fff}.side-menu a{color:#fff;text-decoration:none}.side-menu .menu-group{border-bottom:1px solid #5B77C1}.side-menu .group-name{display:flex;align-items:center;cursor:pointer}.side-menu .group-name .ico{width:56px;height:56px;display:flex;justify-content:center;align-items:center;background-repeat:no-repeat;background-position:center}.side-menu .group-name .name{flex-grow:1}.side-menu .group-name .chevron{width:56px;height:56px;background:url(settings-arrow-down.b95565480e6df875.svg) no-repeat center center}.side-menu .menu-group.open{background:#5B77C1}.side-menu .menu-group.open .group-name .ico svg path{fill:#fff}.side-menu .menu-group.open .group-name .chevron{transform:rotate(180deg)}.side-menu .menu-group.open .group-name+.group-items{display:block}.side-menu .group-items{padding:0 0 7px 48px}.side-menu .menu-item{display:block;font-size:13px;line-height:16px;padding:8px 10px 7px 8px;border-radius:6px 0 0 6px;cursor:pointer}.side-menu .menu-item+.menu-item{margin-top:3px}.side-menu .menu-item.open{background:#fff;color:#4b66ad}.menu-group .ico{opacity:.5}.menu-group.open .ico{opacity:1}.menu-group.open{border-bottom:1px solid #4B66AD}.settings-common{background-image:url(general-settings.5338cdc5cdb0411f.svg)}.settings-company-structure{background-image:url(organization-structure.df000a064618f9ff.svg)}.settings-directory{background-image:url(directories.82d5993236d0c57f.svg)}.settings-table-filter{background-image:url(pic-filter-w.64d878a49e311931.svg)}.settings-system{background-image:url(system.ffdcc9fff2f47e17.svg)}\n"],encapsulation:2})}}return n})();const We=function(n){return{odd:n}},He=function(n){return[n]};function Ze(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",7)(1,"td",8),t.EFF(2),t.k0s(),t.j41(3,"td",9),t.nrm(4,"a",10),t.j41(5,"span",11),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.confirmRemove(r))}),t.k0s()()()}if(2&n){const e=a.$implicit;t.Y8G("ngClass",t.eq3(3,We,a.odd)),t.R7$(2),t.JRh(e.name),t.R7$(2),t.Y8G("routerLink",t.eq3(5,He,e.id))}}function Ke(n,a){if(1&n&&(t.j41(0,"h1",12),t.EFF(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"),t.k0s(),t.j41(2,"div",13),t.EFF(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," ? "),t.k0s(),t.j41(7,"div",14)(8,"button",15),t.EFF(9,"\u0414\u0430"),t.k0s(),t.j41(10,"button",16),t.EFF(11,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(5),t.JRh(e.name),t.R7$(3),t.Y8G("mat-dialog-close",!0)}}let tn=(()=>{class n extends F.X{constructor(e,o,i,r,s,d,_){super(r,s,o,i,d,_),this.customerService=e,this.removedMessage="\u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",this.sortField="name"}ngOnInit(){super.ngOnInit(),this.loadRows()}load(e){return this.customerService.customerGroupList(e)}delete(e){return this.customerService.customerGroupDelete(e)}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(g.m6),t.rXU(p.bZ),t.rXU(f.UG),t.rXU(l.nX),t.rXU(l.Ix),t.rXU(h.E),t.rXU(g.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-client-group"]],features:[t.Jv_([h.E]),t.Vt3],decls:14,vars:7,consts:[[1,"main-table","fix-head","table-4e6cc9770d169fc6e17fab7fb0968f9b"],[1,"col","column-sortable",3,"ngClass","click"],[1,"sorting-indicator"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[3,"ngClass"],[1,"col"],[1,"col","min"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(o,i){1&o&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.bIt("click",function(){return i.sort("name")}),t.j41(4,"span"),t.EFF(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.nrm(6,"span",2),t.k0s()(),t.j41(7,"th",3),t.nrm(8,"span"),t.k0s()()(),t.j41(9,"tbody"),t.DNE(10,Ze,6,7,"tr",4),t.k0s()(),t.j41(11,"app-paginator",5),t.bIt("startChange",function(s){return i.onStartChange(s)})("countChange",function(s){return i.onCountChange(s)}),t.k0s(),t.DNE(12,Ke,12,2,"ng-template",null,6,t.C5r)),2&o&&(t.R7$(3),t.Y8G("ngClass",i.getSortClass("name")),t.BMQ("title",i.getColTitle("name")),t.R7$(7),t.Y8G("ngForOf",i.rows),t.R7$(1),t.Y8G("total",i.total)("count",i.count)("start",i.start)("limits",i.limits))},dependencies:[c.YU,c.Sq,p.tx,p.BI,p.Yi,p.E7,k.$z,M.h,l.Wk],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']})}}return n})();var en=m(4165);function nn(n,a){1&n&&t.eu8(0)}function on(n,a){if(1&n){const e=t.RV6();t.j41(0,"span",23),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.remove())}),t.j41(1,"span"),t.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()}}function rn(n,a){if(1&n&&(t.j41(0,"div",25),t.EFF(1),t.k0s()),2&n){const e=t.XpG().name,o=t.XpG();t.R7$(1),t.JRh(o.getError(e))}}function an(n,a){if(1&n&&t.DNE(0,rn,2,1,"div",24),2&n){const e=a.name,o=t.XpG();t.Y8G("ngIf",o.isFormSubmitted&&o.hasError(e))}}const un=function(){return{name:"name"}};let J=(()=>{class n extends x{constructor(e,o,i,r,s,d,_,C){super(d,i,r,s,o,_),this.fb=e,this.customerService=C,this.entity="\u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",this.editTitle="\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0433\u0440\u0443\u043f\u043f\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",this.newTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",this.savedMessage=`${this.entity} \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430`,this.removedMessage=`${this.entity} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,this.createdMessage=`${this.entity} \u0441\u043e\u0437\u0434\u0430\u043d\u0430`,this.notFoundMessage=`${this.entity} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430`,this.form=this.fb.group({id:[""],name:["",[u.k0.required]]})}create(e){return this.customerService.customerGroupCreate(e)}read(e){return this.customerService.customerGroupInfo(e)}update(e){return this.customerService.customerGroupUpdate(e)}delete(e){return this.customerService.customerGroupDelete(e)}getNameForHeader(e){return e.name}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(f.UG),t.rXU(g.Bl),t.rXU(g.V9),t.rXU(l.nX),t.rXU(c.aZ),t.rXU(l.Ix),t.rXU(en.m))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-client-group-editor"]],features:[t.Vt3],decls:36,vars:8,consts:[[3,"title","isEditMode","name","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-placer"],[1,"form-items"],["data-id","group_0",1,"form-group"],[1,"form-group-title"],[1,"form-item","form-inline-group"],[1,"form-title"],["type","hidden","formControlName","id"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","","appFocusInitial","",1,"text-control"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-button-placer"],["type","submit",1,"hidden"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],["error",""],[1,"btn","v","del","button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){if(1&o&&(t.j41(0,"app-editor-header",0),t.bIt("save",function(){return i.save()})("remove",function(){return i.remove()}),t.k0s(),t.j41(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(){return i.save()}),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.k0s(),t.j41(8,"div")(9,"div",7),t.nrm(10,"div",8)(11,"input",9),t.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",8)(16,"div"),t.EFF(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b:"),t.j41(18,"span",13),t.EFF(19,"*"),t.k0s()()(),t.j41(20,"div",10)(21,"div")(22,"div",14),t.nrm(23,"input",15),t.DNE(24,nn,1,0,"ng-container",16),t.k0s()()()()()()()()()(),t.j41(25,"div",17),t.nrm(26,"input",18),t.j41(27,"span",19),t.bIt("click",function(){return i.save()}),t.j41(28,"span"),t.EFF(29,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.DNE(30,on,3,0,"span",20),t.j41(31,"span",21),t.bIt("click",function(){return i.goBack()}),t.j41(32,"span"),t.EFF(33,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()()()(),t.DNE(34,an,1,1,"ng-template",null,22,t.C5r)),2&o){const r=t.sdS(35);t.Y8G("title",i.title)("isEditMode",i.isEditMode)("name",i.nameForHeader),t.R7$(2),t.Y8G("formGroup",i.form),t.R7$(22),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(7,un)),t.R7$(6),t.Y8G("ngIf",i.isEditMode)}},dependencies:[c.bT,c.T3,j.S,E.S,u.qT,u.me,u.BC,u.cb,u.YS,u.j4,u.JD]})}}return n})();var $=m(1391),z=m(1798),sn=m(9631);function ln(n,a){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function cn(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6),t.EFF(2,"\u0442\u0438\u043f \u043f\u043e\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430: "),t.k0s(),t.j41(3,"div",7)(4,"mat-select",16)(5,"mat-option",11),t.EFF(6,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(7,ln,2,2,"mat-option",17),t.k0s()()()),2&n){const e=t.XpG();t.R7$(7),t.Y8G("ngForOf",e.filterTypes)}}function dn(n,a){if(1&n&&(t.qex(0),t.j41(1,"mat-option",18),t.EFF(2),t.k0s(),t.bVm()),2&n){const e=a.$implicit;t.R7$(1),t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}let pn=(()=>{class n{constructor(e,o,i,r,s,d,_,C,O){this.dialogRef=e,this.fb=o,this.settingsSertvice=i,this.snackBar=r,this.route=s,this.mySettingService=d,this.router=_,this.loader=C,this.data=O,this.filterTypes=[],this.filterPlaces=[],this.snackBarWithShortDuration={duration:2e3},this.snackBarWithLongDuration={duration:4e3},this._destroy$=new y.B,this.form=this.fb.group({id:[,[]],table:[,[u.k0.required]],name:[,[u.k0.required]],type:[,[u.k0.required]],show:[!0,[u.k0.required]],place:[,[u.k0.required]]})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}ngOnInit(){console.log("popap data",this.data),this.form.patchValue(this.data.filter),this.tableNameDefinition(),this.getData()}get currentPlace(){return this.filterPlaces.find(e=>e.id==this.form.value.place)}get currentType(){return this.filterTypes.find(e=>e.id==this.form.value.type)}get filteredPlace(){return this.filterPlaces.filter(e=>"header"!=e.id||this.table.header&&this.currentType.header)}saveFilter(e){console.log(e),this.settingsSertvice.settingsFilterSave({body:e}).pipe((0,v.Q)(this._destroy$)).subscribe({next:o=>{this.snackBar.open("\u0424\u0438\u043b\u044c\u0442\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u043d\u0435\u043d",void 0,this.snackBarWithShortDuration)},error:o=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430: ${{err:o}}`,void 0,this.snackBarWithShortDuration)},complete:()=>{this.onCancel()}})}tableNameDefinition(){const o=this.router.url.split("/").filter(r=>""!==r),i=o[o.length-1];console.log(i),this.form.patchValue({table:i})}getData(){this.loader.wrapRequests({opt:this.settingsSertvice.settingsFilterFormParam({table:this.form.value.table})}).pipe((0,R.M)(e=>{console.log(e)}),(0,v.Q)(this._destroy$)).subscribe({next:e=>{this.filterTypes=e.opt.types,this.filterPlaces=e.opt.places,this.table=e.opt.tables.find(o=>o.id==this.form.value.table)},error:e=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0434\u043b\u044f \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u043e\u0432 \u0444\u043e\u0440\u043c\u044b: ${e}`,void 0,this.snackBarWithShortDuration)}})}onCancel(){this.dialogRef.close()}onSubmit(){this.saveFilter(this.form.value)}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(p.CP),t.rXU(u.ok),t.rXU(g.h$),t.rXU(f.UG),t.rXU(l.nX),t.rXU(D),t.rXU(l.Ix),t.rXU(z.Z),t.rXU(p.Vh))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-add-popup"]],decls:27,vars:4,consts:[["mat-dialog-title","",2,"padding","0 40px 10px"],[2,"padding","0","width","25vw"],[3,"formGroup","ngSubmit"],[1,"form-block"],[1,"form-row","bg",2,"display","flex","flex-direction","column","gap","25px","padding","20px 40px"],[1,"form-item"],[1,"form-label"],[1,"form-data"],["matInput","","type","text","formControlName","name"],["class","form-item",4,"ngIf"],["formControlName","place"],["value",""],[4,"ngFor","ngForOf"],["formControlName","show",1,"switcher"],["align","end",2,"padding","20px 40px"],["mat-raised-button","",2,"background","#DB563B","color","white","margin-right","auto",3,"click"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,i){1&o&&(t.j41(0,"h2",0),t.EFF(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"),t.k0s(),t.j41(2,"mat-dialog-content",1)(3,"form",2),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t.EFF(8,"\u043d\u0430\u0438\u043c\u0435\u043d\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430: "),t.k0s(),t.j41(9,"div",7),t.nrm(10,"input",8),t.k0s()(),t.DNE(11,cn,8,1,"div",9),t.j41(12,"div",5)(13,"div",6),t.EFF(14,"\u043c\u0435\u0441\u0442\u043e: "),t.k0s(),t.j41(15,"div",7)(16,"mat-select",10)(17,"mat-option",11),t.EFF(18,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(19,dn,3,2,"ng-container",12),t.k0s()()(),t.j41(20,"div",5)(21,"div",7)(22,"mat-checkbox",13),t.EFF(23),t.k0s()()()()()()(),t.j41(24,"mat-dialog-actions",14)(25,"button",15),t.bIt("click",function(){return i.onSubmit()}),t.EFF(26,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()()),2&o&&(t.R7$(3),t.Y8G("formGroup",i.form),t.R7$(8),t.Y8G("ngIf",!i.data.filter.type_fixed),t.R7$(8),t.Y8G("ngForOf",i.filteredPlace),t.R7$(4),t.SpI(" ",i.form.value.show?"\u0424\u0438\u043b\u044c\u0442\u0440 \u0432\u043a\u043b\u044e\u0447\u0435\u043d":"\u0424\u0438\u043b\u044c\u0442\u0440 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"," "))},dependencies:[c.Sq,c.bT,p.BI,p.Yi,p.E7,G.VO,T.wT,sn.fg,B.So,k.$z,u.qT,u.me,u.BC,u.cb,u.j4,u.JD],encapsulation:2})}}return n})();var mn=m(5270);function _n(n,a){if(1&n&&t.EFF(0),2&n){const e=t.XpG().$implicit;t.SpI(" ",e.title," ")}}function gn(n,a){if(1&n&&(t.j41(0,"div",4),t.DNE(1,_n,1,1,"ng-template",5),t.k0s()),2&n){const e=a.$implicit;t.HbH(null==e?null:e.class),t.Y8G("ngSwitch",e.field)}}function fn(n,a){if(1&n&&t.EFF(0),2&n){const e=t.XpG().$implicit,o=t.XpG().$implicit;t.SpI(" ",o[e.field]," ")}}function hn(n,a){if(1&n){const e=t.RV6();t.j41(0,"mat-checkbox",8),t.bIt("change",function(){t.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG();return t.Njj(r.onFilterShowChange(i))}),t.EFF(1),t.k0s()}if(2&n){const e=t.XpG(2).$implicit;t.Y8G("checked",e.show),t.R7$(1),t.SpI(" ",e.show?"\u0424\u0438\u043b\u044c\u0442\u0440 \u0432\u043a\u043b\u044e\u0447\u0435\u043d":"\u0424\u0438\u043b\u044c\u0442\u0440 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"," ")}}function vn(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG();return t.Njj(r.openFilterEditor(i))}),t.k0s()}}function bn(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",10),t.bIt("mouseenter",function(i){t.eBV(e);const r=t.XpG(3);return t.Njj(r.onDragHandleMouseEnter(i))})("mouseleave",function(i){t.eBV(e);const r=t.XpG(3);return t.Njj(r.onDragHandleMouseLeave(i))}),t.nrm(1,"span",11),t.EFF(2," \u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c "),t.k0s()}}function Cn(n,a){if(1&n&&(t.j41(0,"div",4),t.DNE(1,fn,1,1,"ng-template",5),t.DNE(2,hn,2,2,"ng-template",7),t.DNE(3,vn,1,0,"ng-template",7),t.DNE(4,bn,3,0,"ng-template",7),t.k0s()),2&n){const e=a.$implicit;t.HbH(null==e?null:e.class),t.Y8G("ngSwitch",e.field),t.R7$(2),t.Y8G("ngSwitchCase","status"),t.R7$(1),t.Y8G("ngSwitchCase","btn"),t.R7$(1),t.Y8G("ngSwitchCase","move")}}function kn(n,a){if(1&n&&(t.j41(0,"div",6),t.DNE(1,Cn,5,6,"div",2),t.k0s()),2&n){const e=a.$implicit,o=t.XpG();t.HbH(e.show?"":"no-active_filter"),t.Y8G("cdkDragData",e)("cdkDragDisabled",o.dragDisabled),t.R7$(1),t.Y8G("ngForOf",o.columns)}}let I=(()=>{class n{constructor(e,o,i,r,s,d,_,C,O,wn,Sn,Rn,In,Xn,Nn){this.fb=e,this.loaderService=o,this.contractorService=i,this.customerService=r,this.requestService=s,this.transportService=d,this.directionService=_,this.orderService=C,this.route=O,this.tableService=wn,this.router=Sn,this.settingsSertvice=Rn,this.dialog=In,this.mySettingService=Xn,this.snackBar=Nn,this.snackBarWithShortDuration={duration:2e3},this.snackBarWithLongDuration={duration:4e3},this.isEditMode=!1,this.rows=[],this.columns=En,this.displayedColumns=this.columns.map(Yn=>Yn.field),this._destroy$=new y.B,this.dragDisabled=!0}ngOnInit(){this.subscribeTableRows(),this.getTableRows(),this.router.events.subscribe(e=>{e instanceof l.wF&&this.getTableRows()})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}openFilterEditor(e){this.dialog.open(pn,{data:{filter:e}}).afterClosed().subscribe(i=>{console.log("close dialog"),this.getTableRows()})}onDeletefilter(e){this.deleteFilter(e)}getTableRows(){const e=this.route.snapshot.url.map(o=>o.path);this.mySettingService.loadTableRows(e[1])}subscribeTableRows(){this.mySettingService.getTableRows$().pipe((0,v.Q)(this._destroy$)).subscribe(e=>{this.rows=e,console.log(e)})}onDragHandleMouseEnter(e){this.dragDisabled=!1,e.stopPropagation()}onDragHandleMouseLeave(e){this.dragDisabled=!0,e.stopPropagation()}drop(e){const o=[...this.rows];(0,$.HD)(o,e.previousIndex,e.currentIndex),this.rows=o,this.saveFilterSequenc()}onFilterShowChange(e){e.show=!e.show,this.saveFilter({id:e.id,show:e.show})}saveFilterSequenc(){let e=[];this.rows.forEach(o=>{e.push(o.id)}),this.settingsSertvice.settingsFilterSaveOrder({body:{ids:e}}).pipe((0,v.Q)(this._destroy$)).subscribe({next:o=>{this.snackBar.open("\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0438\u0440\u043e\u0432 \u0441\u043e\u0445\u0440\u0430\u043d\u043d\u0435\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:o=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432: ${{err:o}}`,void 0,this.snackBarWithShortDuration)}})}deleteFilter(e){this.settingsSertvice.settingsFilterDelete({body:{id:[e]}}).pipe((0,v.Q)(this._destroy$)).subscribe({next:o=>{this.snackBar.open("\u0424\u0438\u043b\u044c\u0442\u0440 \u0443\u0434\u0430\u043b\u0435\u043d",void 0,this.snackBarWithShortDuration)},error:o=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430: ${{err:o}}`,void 0,this.snackBarWithShortDuration)}})}saveFilter(e){this.settingsSertvice.settingsFilterSave({body:e}).pipe((0,v.Q)(this._destroy$)).subscribe({next:o=>{this.snackBar.open("\u0424\u0438\u043b\u044c\u0442\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u043d\u0435\u043d",void 0,this.snackBarWithShortDuration)},error:o=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430: ${{err:o}}`,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(z.Z),t.rXU(g.LX),t.rXU(g.m6),t.rXU(g.By),t.rXU(g.TD),t.rXU(g.H7),t.rXU(g.QE),t.rXU(l.nX),t.rXU(mn.U),t.rXU(l.Ix),t.rXU(g.h$),t.rXU(p.bZ),t.rXU(D),t.rXU(f.UG))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-settings-filter-list"]],decls:4,vars:2,consts:[["cdkDropList","",1,"flex-table",3,"cdkDropListDropped"],[1,"flex-row","header"],["class","flex-cell",3,"class","ngSwitch",4,"ngFor","ngForOf"],["class","flex-row draggable-row body","cdkDrag","","cdkDragBoundary",".flex-table",3,"class","cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],[1,"flex-cell",3,"ngSwitch"],[3,"ngSwitchDefault"],["cdkDrag","","cdkDragBoundary",".flex-table",1,"flex-row","draggable-row","body",3,"cdkDragData","cdkDragDisabled"],[3,"ngSwitchCase"],[1,"switcher",3,"checked","change"],[1,"icon","edit",3,"click"],["cdkDragHandle","",1,"drag-handle",3,"mouseenter","mouseleave"],[1,"move-icon"]],template:function(o,i){1&o&&(t.j41(0,"div",0),t.bIt("cdkDropListDropped",function(s){return i.drop(s)}),t.j41(1,"div",1),t.DNE(2,gn,2,3,"div",2),t.k0s(),t.DNE(3,kn,2,5,"div",3),t.k0s()),2&o&&(t.R7$(2),t.Y8G("ngForOf",i.columns),t.R7$(1),t.Y8G("ngForOf",i.rows))},dependencies:[c.Sq,c.ux,c.e1,c.fG,B.So,$.O7,$.T1,$.Fb],styles:[".flex-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;border:1px solid #e0e0e0;overflow:hidden;font-weight:400;font-size:13px;line-height:16px}.flex-row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #e0e0e0}.flex-row.no-active_filter[_ngcontent-%COMP%]{background:#F7F9FC}.flex-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.flex-row.header[_ngcontent-%COMP%]{background-color:#83909e;color:#fff}.flex-row[_ngcontent-%COMP%]   .flex-cell[_ngcontent-%COMP%]:nth-child(1){width:20%}.flex-row[_ngcontent-%COMP%]   .flex-cell[_ngcontent-%COMP%]:nth-child(2){width:35%}.flex-row[_ngcontent-%COMP%]   .flex-cell[_ngcontent-%COMP%]:nth-child(3){width:20%}.flex-row[_ngcontent-%COMP%]   .flex-cell[_ngcontent-%COMP%]:nth-child(4){width:20%}.flex-row[_ngcontent-%COMP%]   .flex-cell[_ngcontent-%COMP%]:nth-child(5){width:10%}.flex-row[_ngcontent-%COMP%]   .flex-cell[_ngcontent-%COMP%]:nth-child(6){min-width:40px}.flex-cell[_ngcontent-%COMP%]{padding:12px 16px;display:flex;align-items:center;min-height:48px;box-sizing:border-box}.body[_ngcontent-%COMP%]   .flex-cell.border[_ngcontent-%COMP%]{border-left:1px solid #E0E5EB;border-right:1px solid #E0E5EB}.draggable-row[_ngcontent-%COMP%]{background:white}.draggable-row.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.draggable-row.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.draggable-row.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#666;display:flex}.drag-handle[_ngcontent-%COMP%]:hover{color:#333}.drag-handle[_ngcontent-%COMP%]   .move-icon[_ngcontent-%COMP%]{background-image:url(pic-btn-matrix.11826cb85f875eae.svg);width:14px;height:14px;display:block;margin-right:5px}"]})}}return n})();const En=[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430",field:"name",subcolumns:[{value:"value"}]},{title:"\u0422\u0438\u043f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",field:"type_text",subcolumns:[{value:"value"}]},{title:"\u041f\u043e\u043b\u0435 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445",field:"field",subcolumns:[{value:"value"}]},{title:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",subcolumns:[{value:"value"}]},{title:"",field:"move",class:"border",subcolumns:[{value:"value"}]},{title:"",field:"btn",subcolumns:[{value:"value"}]}];var Fn=m(9110);function yn(n,a){if(1&n&&(t.j41(0,"mat-option",17),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.code),t.R7$(1),t.JRh(e.name)}}function xn(n,a){if(1&n&&(t.j41(0,"mat-option",17),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function jn(n,a){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=a.$implicit,o=t.XpG();t.Y8G("value",e.id)("disabled",e.id==o.form.value.currency_2||e.id==o.form.value.currency_3),t.R7$(1),t.JRh(e.name)}}function Mn(n,a){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=a.$implicit,o=t.XpG();t.Y8G("value",e.id)("disabled",e.id==o.form.value.currency_1||e.id==o.form.value.currency_3),t.R7$(1),t.SpI(" ",e.name," ")}}function Dn(n,a){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=a.$implicit,o=t.XpG();t.Y8G("value",e.id)("disabled",e.id==o.form.value.currency_2||e.id==o.form.value.currency_1),t.R7$(1),t.SpI(" ",e.name," ")}}function Pn(n,a){if(1&n){const e=t.RV6();t.j41(0,"mat-checkbox",9),t.bIt("change",function(i){const s=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.onEventChange(i,s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=a.$implicit,o=t.XpG();t.Aen(o.isEventSelected(e.id)?"font-weight: bold;":""),t.Y8G("checked",o.isEventSelected(e.id)),t.R7$(1),t.JRh(e.name)}}function Gn(n,a){if(1&n){const e=t.RV6();t.j41(0,"mat-checkbox",9),t.bIt("change",function(i){const s=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.onTypeChange(i,s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=a.$implicit,o=t.XpG();t.Y8G("checked",o.isTypeSelected(e.id)),t.R7$(1),t.JRh(e.name)}}const Tn=[{path:"",component:Qe,children:[{path:"",redirectTo:"company",pathMatch:"full"},{path:"department",component:qt,pathMatch:"full",title:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"},{path:"position",component:Xe,pathMatch:"full",title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"},{path:"employee",component:Fe,pathMatch:"full",title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"},{path:"company",component:Ft,pathMatch:"full",title:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"},{path:"personal",component:ye,pathMatch:"full",title:"\u041b\u0438\u0447\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},{path:"client-group",component:tn,pathMatch:"full",title:"\u0413\u0440\u0443\u043f\u043f\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{path:"table-filter/:table",component:I,pathMatch:"full",title:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0430\u0445"},{path:"general-settings",component:(()=>{class n{constructor(e,o,i,r,s,d,_,C){this.fb=e,this.settingsSertvice=o,this.snackBar=i,this.route=r,this.mySettingService=s,this.router=d,this.systemService=_,this.currencyService=C,this.language=[],this.currency=[],this.timezone=[],this.snackBarWithShortDuration={duration:2e3},this.snackBarWithLongDuration={duration:4e3},this._destroy$=new y.B,this.form=this.fb.group({lang:[,[u.k0.required]],timezone:[,[u.k0.required]],currency_1:[,[u.k0.required]],currency_2:[,[u.k0.required]],currency_3:[,[u.k0.required]]})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}ngOnInit(){this.getSettings(),this.initCurrencySubscription()}initCurrencySubscription(){this.currencyService.currencies$.pipe((0,v.Q)(this._destroy$)).subscribe(e=>{this.currency=e})}getSettings(){this.settingsSertvice.settingsGet().pipe((0,v.Q)(this._destroy$)).subscribe({next:e=>{e.language&&(this.language=e.language),e.timezone_list&&(this.timezone=e.timezone_list),this.form.patchValue(e),console.log(e)},error:e=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a: ${e}`,void 0,this.snackBarWithShortDuration)}})}onSubmit(){this.postSettings()}postSettings(){this.settingsSertvice.settingsUpdate({body:this.form.value}).pipe((0,v.Q)(this._destroy$)).subscribe({next:e=>{this.snackBar.open("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0434\u043b\u044f \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u043e\u0432 \u0444\u043e\u0440\u043c\u044b: ${e}`,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(g.h$),t.rXU(f.UG),t.rXU(l.nX),t.rXU(D),t.rXU(l.Ix),t.rXU(g.V9),t.rXU(Fn.P))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-general-settings"]],decls:49,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"form-block"],[1,"form-row"],[1,"form-item-layout",2,"width","75%"],[1,"form-item",2,"width","67%"],[1,"form-label"],[1,"form-data"],["formControlName","timezone"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-item",2,"width","33%"],["formControlName","lang"],["formControlName","currency_1"],[3,"value","disabled",4,"ngFor","ngForOf"],["formControlName","currency_2"],["formControlName","currency_3"],["type","submit",1,"save","long"],[3,"value"],[3,"value","disabled"]],template:function(o,i){1&o&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.EFF(6,"\u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u043f\u043e\u044f\u0441:"),t.k0s(),t.j41(7,"div",6)(8,"mat-select",7)(9,"mat-option",8),t.EFF(10,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(11,yn,2,2,"mat-option",9),t.k0s()()(),t.j41(12,"div",10)(13,"div",5),t.EFF(14,"\u044f\u0437\u044b\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430:"),t.k0s(),t.j41(15,"div",6)(16,"mat-select",11)(17,"mat-option",8),t.EFF(18,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(19,xn,2,2,"mat-option",9),t.k0s()()()()(),t.j41(20,"div",2)(21,"div",3)(22,"div",10)(23,"div",5),t.EFF(24,"\u0432\u0430\u043b\u044e\u0442\u0430 \u21161:"),t.k0s(),t.j41(25,"div",6)(26,"mat-select",12)(27,"mat-option",8),t.EFF(28,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(29,jn,2,3,"mat-option",13),t.k0s()()(),t.j41(30,"div",10)(31,"div",5),t.EFF(32,"\u0432\u0430\u043b\u044e\u0442\u0430 \u21162:"),t.k0s(),t.j41(33,"div",6)(34,"mat-select",14)(35,"mat-option",8),t.EFF(36,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(37,Mn,2,3,"mat-option",13),t.k0s()()(),t.j41(38,"div",10)(39,"div",5),t.EFF(40,"\u0432\u0430\u043b\u044e\u0442\u0430 \u21163:"),t.k0s(),t.j41(41,"div",6)(42,"mat-select",15)(43,"mat-option",8),t.EFF(44,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(45,Dn,2,3,"mat-option",13),t.k0s()()()()(),t.j41(46,"div",2)(47,"button",16),t.EFF(48,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()()()()),2&o&&(t.Y8G("formGroup",i.form),t.R7$(11),t.Y8G("ngForOf",i.timezone),t.R7$(8),t.Y8G("ngForOf",i.language),t.R7$(10),t.Y8G("ngForOf",i.currency),t.R7$(8),t.Y8G("ngForOf",i.currency),t.R7$(8),t.Y8G("ngForOf",i.currency))},dependencies:[c.Sq,G.VO,T.wT,u.qT,u.BC,u.cb,u.j4,u.JD],encapsulation:2})}}return n})(),pathMatch:"full",title:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},{path:"branding",component:I,pathMatch:"full",title:"\u0411\u0440\u0435\u043d\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{path:"notifications",component:(()=>{class n{constructor(e,o,i,r,s,d,_){this.fb=e,this.settingsSertvice=o,this.snackBar=i,this.route=r,this.mySettingService=s,this.router=d,this.systemService=_,this.events=[],this.types=[],this.snackBarWithShortDuration={duration:2e3},this.snackBarWithLongDuration={duration:4e3},this._destroy$=new y.B,this.form=this.fb.group({notify_type:[[],[u.k0.required]],notify_event:[[],[u.k0.required]]})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}ngOnInit(){this.getSettings()}onSubmit(){this.postSettings()}getSettings(){this.settingsSertvice.settingsGet().pipe((0,v.Q)(this._destroy$)).subscribe({next:e=>{e.notify_events_list&&(this.events=e.notify_events_list),e.notify_types_list&&(this.types=e.notify_types_list),this.form.patchValue(e),console.log(e)},error:e=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a: ${{err:e}}`,void 0,this.snackBarWithShortDuration)}})}postSettings(){this.settingsSertvice.settingsUpdate({body:this.form.value}).pipe((0,v.Q)(this._destroy$)).subscribe({next:e=>{this.snackBar.open("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u043d\u0435\u043d\u044b",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0434\u043b\u044f \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u043e\u0432 \u0444\u043e\u0440\u043c\u044b: ${{err:e}}`,void 0,this.snackBarWithShortDuration)}})}onEventChange(e,o){const i=this.form.get("notify_event")?.value;e.checked?i.includes(o)||this.form.get("notify_event")?.setValue([...i,o]):this.form.get("notify_event")?.setValue(i.filter(r=>r!==o))}onTypeChange(e,o){const i=this.form.get("notify_type")?.value;e.checked?i.includes(o)||this.form.get("notify_type")?.setValue([...i,o]):this.form.get("notify_type")?.setValue(i.filter(r=>r!==o))}isEventSelected(e){return this.form.get("notify_event")?.value.includes(e)}isTypeSelected(e){return this.form.get("notify_type")?.value.includes(e)}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.ok),t.rXU(g.h$),t.rXU(f.UG),t.rXU(l.nX),t.rXU(D),t.rXU(l.Ix),t.rXU(g.V9))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-notifications"]],decls:15,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"form-block"],[1,"form-row"],[1,"form-block-title",2,"margin-bottom","40px","padding","0"],[1,"form-item-layout",2,"flex-wrap","wrap","gap","20px 0"],["style","width: 25%;",3,"style","checked","change",4,"ngFor","ngForOf"],[1,"form-item-layout",2,"flex-wrap","wrap"],["style","width: 25%;",3,"checked","change",4,"ngFor","ngForOf"],["type","submit",1,"save","long"],[2,"width","25%",3,"checked","change"]],template:function(o,i){1&o&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(1,"div",1)(2,"div",2)(3,"div",3),t.EFF(4,"\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"),t.k0s(),t.j41(5,"div",4),t.DNE(6,Pn,2,4,"mat-checkbox",5),t.k0s()(),t.j41(7,"div",2)(8,"div",3),t.EFF(9,"\u0421\u043f\u043e\u0441\u043e\u0431 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),t.k0s(),t.j41(10,"div",6),t.DNE(11,Gn,2,2,"mat-checkbox",7),t.k0s()(),t.j41(12,"div",2)(13,"button",8),t.EFF(14,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()()()()),2&o&&(t.Y8G("formGroup",i.form),t.R7$(6),t.Y8G("ngForOf",i.events),t.R7$(5),t.Y8G("ngForOf",i.types))},dependencies:[c.Sq,B.So,u.qT,u.cb,u.j4],encapsulation:2})}}return n})(),pathMatch:"full",title:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"},{path:"mailings",component:I,pathMatch:"full",title:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}]},{path:"position/add",component:A,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"},{path:"position/:id",component:A,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"},{path:"department/add",component:U,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"},{path:"department/:id",component:U,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"},{path:"employee/add",component:V,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"},{path:"employee/:id",component:V,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"},{path:"company/add",component:Y,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"},{path:"company/:id",component:Y,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"},{path:"client-group/add",component:J,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{path:"client-group/:id",component:J,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"}];let Bn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.iI.forChild(Tn),l.iI]})}}return n})(),$n=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[c.MD,q.G,u.YN,u.X1,Bn]})}}return n})()}}]);