"use strict";(self.webpackChunkcargodrom_frontend=self.webpackChunkcargodrom_frontend||[]).push([[713],{5736:(W,A,m)=>{m.d(A,{K:()=>E});var a=m(1874),d=m(8141),F=m(5558),t=m(7673),M=m(7705),$=m(177),R=m(9111),k=m(9192),v=m(5416);let E=(()=>{class q{constructor(c,y,L,w,O){this.location=c,this.systemService=y,this.route=L,this.snackBar=w,this.router=O,this.isNavigateAfterSave=!0,this.isEditMode=!1,this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.taxSystems=[],this.currencies=[],this.headPositions=[],this.businessKinds=[],this.filteredBusinessKinds=[],this.interactionKinds=[],this.contactSources=[],this.filteredContactSources=[],this.clientStatuses=[],this.filteredClientStatuses=[],this.clientKinds=[],this.filteredClientKinds=[],this.serviceKinds=[],this.isFormSubmitted=!1,this.data={},this.currentTitle=""}ngOnInit(){this.detectEditMode(),this.isEditMode&&(this.id=this.getIdParam(),this.load()),this.currentTitle=this.isEditMode?this.editTitle:this.newTitle}get title(){return this.currentTitle}goBack(){this.location.back()}loadTaxSystems(){this.systemService.systemTaxSystem().subscribe(c=>this.taxSystems=c?c.sort((0,a.G)("name","asc","case-insensitive")):[])}loadCurrencies(){this.systemService.systemCurrency().subscribe(c=>this.currencies=c?c.sort((0,a.G)("code","asc","case-insensitive")):[]),console.log(this.currencies)}loadHeadPositions(){this.systemService.systemHeadPosition().subscribe(c=>this.headPositions=c?c.sort((0,a.G)("name","asc","case-insensitive")):[])}loadBusinessKinds(){this.systemService.systemBusiness().subscribe(c=>{this.filteredBusinessKinds=c?c.sort((0,a.G)("num","asc","numeric")):[],this.businessKinds=c?c.sort((0,a.G)("num","asc","numeric")):[]})}loadInteractionKinds(){this.systemService.systemInteraction().subscribe(c=>this.interactionKinds=c?c.sort((0,a.G)("num","asc","numeric")):[])}loadContactSources(){this.systemService.systemContactSource().subscribe(c=>{this.filteredContactSources=c?c.sort((0,a.G)("name","asc","case-insensitive")):[],this.contactSources=c?c.sort((0,a.G)("name","asc","case-insensitive")):[]})}loadClientStatuses(){this.systemService.systemCustomerStatus().subscribe(c=>{this.filteredClientStatuses=c?c.sort((0,a.G)("name","asc","case-insensitive")):[],this.clientStatuses=c?c.sort((0,a.G)("name","asc","case-insensitive")):[]})}loadClientKinds(){this.systemService.systemCounterparty().subscribe(c=>{this.clientKinds=c?c.sort((0,a.G)("num","asc","numeric")):[],this.filteredClientKinds=c?c.sort((0,a.G)("num","asc","numeric")):[]})}loadServiceKinds(){this.systemService.systemServices().subscribe(c=>this.serviceKinds=c?c.sort((0,a.G)("name","asc","case-insensitive")):[])}hasError(c){return this.form.get(c).invalid}getError(c){const y=this.form.get(c);return y.errors?.required?"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e":y.errors?.email?"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email":y.errors?.inn?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0418\u041d\u041d":y.errors?.mask?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442":""}showMessage(c){this.snackBar.open(c,void 0,this.snackBarWithShortDuration)}showMessageAndGoBack(c){this.showMessage(c),this.goBack()}showMessageAndSwitchToEditMode(c,y){this.showMessage(c),this.router.navigate(["..",y],{replaceUrl:!0,relativeTo:this.route})}showMessageAndReload(c){this.showMessage(c),this.load()}showError(c,y){this.snackBar.open("string"==typeof y?.error?.error_message?"string"==typeof y.error?.error_message_description?`${c}: `+y.error?.error_message+":"+y.error?.error_message_description:`${c}: `+y.error?.error_message:c,void 0,this.snackBarWithLongDuration)}showErrorAndGoBack(c,y){this.showError(y,c),this.goBack()}load(){const c=this.getIdParam();this.read({id:c}).pipe((0,d.M)(y=>{if(!y)throw{error:{error_message:"\u0437\u0430\u043f\u0438\u0441\u044c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:y=>{console.log(y),this.data=y,this.patchForm(),this.nameForHeader=this.getNameForHeader(y)},error:y=>this.showErrorAndGoBack(y,this.notFoundMessage)})}patchForm(){console.log("patchForm"),this.form.patchValue(this.data)}save(){if(this.isFormSubmitted=!0,!this.form.valid)return void this.showError("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e");const c=this.form.value;"number"==typeof this.data.id?this.updateData(c):this.createData(c)}remove(){this.delete({body:{id:this.data.id}}).pipe((0,F.n)(()=>this.afterDelete())).subscribe({next:()=>this.showMessageAndGoBack(this.removedMessage),error:y=>this.showError("\u041e\u0448\u0438\u0431\u043a\u0430",y)})}afterCreate(c){return(0,t.of)({id:c.id})}afterUpdate(){return(0,t.of)(void 0)}afterDelete(){return(0,t.of)(void 0)}createData(c){this.create({body:c}).pipe((0,F.n)(y=>this.afterCreate(y))).subscribe({next:({id:y})=>{this.isNavigateAfterSave?this.showMessageAndGoBack(this.removedMessage):this.showMessageAndSwitchToEditMode(this.createdMessage,y)},error:y=>this.showError("\u041e\u0448\u0438\u0431\u043a\u0430",y)})}updateData(c){this.update({body:c}).pipe((0,F.n)(()=>this.afterUpdate())).subscribe({next:()=>{this.isNavigateAfterSave?this.showMessageAndGoBack(this.removedMessage):this.showMessageAndReload(this.savedMessage)},error:y=>this.showError("\u041e\u0448\u0438\u0431\u043a\u0430",y)})}detectEditMode(){const c=this.route.snapshot.url.map(y=>y.path);this.isEditMode="add"!==c[1]}getIdParam(){return Number(this.route.snapshot.paramMap.get("id"))}static{this.\u0275fac=function(y){return new(y||q)(M.rXU($.aZ),M.rXU(R.V9),M.rXU(k.nX),M.rXU(v.UG),M.rXU(k.Ix))}}static{this.\u0275dir=M.FsC({type:q})}}return q})()},7767:(W,A,m)=>{m.d(A,{X:()=>G});var a=m(1413),d=m(7673),F=m(1985),t=m(5343);const M=new F.c(t.l);var R=m(8141),k=m(6977),v=m(7705),E=m(9192),q=m(5351),D=m(5416),c=m(535),y=m(9111);const L=["removeDialogRef"],w=["exportDialogRef"],O=["importDialogRef"],b=["saveBiddingRef"],T=["translateRef"],S=["file"];let G=(()=>{class p{constructor(_,h,f,C,B,H){this.route=_,this.router=h,this.dialog=f,this.snackBar=C,this.filterService=B,this.userService=H,this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.column=[],this.sortableColumns=[],this.isBiddingMode=!1,this.isRateDetailsMode=!1,this.isResizeColumnMode=!1,this.resizeMetod="",this.isResizing=!1,this.resizingColumn=null,this.resizingColumnBlock=null,this.startX=0,this.startWidth=0,this.startWidthBlock=0,this.detailsMethod="",this.arrRowsId=[],this.quantityContractors=0,this.currentQuantityContractors=0,this.currentRequest={},this.contractorsSelectedForRequest=[],this.requestId=0,this.columnsData=[],this.isRowsLoad=!1,this.requestCrmStatuses=[],this.isTableFixedWidth=!1,this.xlsxMimeType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",this.removedMessage="\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430",this.destroy$=new a.B,this.rows=[],this.total=0,this.start=0,this.limits=[10,25,50,100],this.count=this.limits[0],this.sortDir="asc",this.aliases=new Map}ngOnInit(){const _=this.route.snapshot.url.map(h=>h.path);this.isBiddingMode="bidding"===_[1],this.isRateDetailsMode="details"===_[1],(this.isRateDetailsMode||this.isBiddingMode)&&(this.isRateDetailsMode&&(this.detailsMethod=_[2]),this.requestId=Number(this.route.snapshot.paramMap.get("id")),this.getRequestInfo(this.requestId)),this.filterService.onApply().subscribe(h=>{this.onFilterChange(h)}),this.getListParam()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadRows(){const _=this.getSort();let h={start:this.start,count:this.count,...this.filter};h=this.isRateDetailsMode?{...h,request_id:this.requestId,method:this.detailsMethod}:this.isBiddingMode?{...h,bidding_request_id:this.requestId}:{...h,sort:JSON.stringify(_)},console.log(h),this.load(h).subscribe(f=>{console.log("rows",f),this.rows=f?f.items:[],this.total=f.total,this.isBiddingMode&&(this.arrRowsId=[],f.items.forEach(C=>{this.arrRowsId.push(C.id)}),this.getContractorsSelectRequest()),this.isRowsLoad=!0})}delete(_){return(0,d.of)()}loadFilterSchema(){return(0,d.of)({header:[],main:[],additional:[]})}getIntParamSafely(_,h,f){const C=_.get(h);return null!=C?parseInt(C,10):f}getIntEnumParamSafely(_,h,f,C){const B=_.get(h);if(null!=B){const H=parseInt(B,10);return f.includes(H)?H:C}return C}getEnumParamSafely(_,h,f,C){const B=_.get(h);return null!=B&&f.includes(B)?B:C}getStringParamSafely(_,h,f){return _.get(h)??f}getJsonParamSafely(_,h,f){const C=_.get(h);if(null!=C)try{return JSON.parse(C)}catch{return f}return f}onStartChange(_){this.router.navigate(["."],{queryParams:{start:_},queryParamsHandling:"merge",relativeTo:this.route})}onCountChange(_){this.router.navigate(["."],{queryParams:{count:_,start:0},queryParamsHandling:"merge",relativeTo:this.route})}onFilterChange(_){const h={};for(const C in _){const B=_[C];null!=B&&""!==B&&(!Array.isArray(B)||B.length>0)&&(h[C]=B)}const f=Object.keys(h).length>0;this.router.navigate(["."],{queryParams:{start:0,filter:f?JSON.stringify(h):null},queryParamsHandling:"merge",relativeTo:this.route})}sort(_){if(!this.isResizeColumnMode){if(Array.isArray(this.sortableColumns)&&!this.sortableColumns.includes(_))return;this.start=0,this.sortField===_?this.sortDir="asc"===this.sortDir?"desc":"asc":(this.sortDir="asc",this.sortField=_),this.router.navigate(["."],{queryParams:{sortCol:this.sortField,sortDir:this.sortDir,start:this.start},queryParamsHandling:"merge",relativeTo:this.route})}}getSortClass(_){if(!this.isResizeColumnMode){if(this.sortField===_)return"asc"===this.sortDir?"column-sortable sort-dir-asc":"column-sortable sort-dir-desc";if(this.isSortable(_))return"column-sortable"}return""}isSortable(_){return Array.isArray(this.sortableColumns)&&this.sortableColumns.includes(_)}confirmRemove(_){this.dialog.open(this.removeDialogRef,{data:_}).afterClosed().subscribe(h=>{h&&this.remove(_)})}remove(_){this.delete({body:{id:_.id}}).subscribe({next:()=>{this.snackBar.open(this.removedMessage,void 0,this.snackBarWithShortDuration),this.loadRows()},error:f=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f: "+f?.error?.error_message,void 0,{duration:1e3})})}getColTitle(_){return Array.isArray(this.sortableColumns)&&!this.sortableColumns.includes(_)?"":_===this.sortField&&"asc"===this.sortDir?"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e":"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}getSort(){const _=[],h=this.sortField;if(this.aliases.has(h)){const f=this.aliases.get(h);_.push(...f.map(C=>({field:C,dir:this.sortDir})))}else _.push({field:this.sortField,dir:this.sortDir});if(this.nameField&&this.nameField!==this.sortField){const f=this.nameField;if(this.aliases.has(f)){const C=this.aliases.get(f);_.push(...C.map(B=>({field:B,dir:"asc"})))}else _.push({field:this.nameField,dir:"asc"})}return _}registerAlias(_,h){this.aliases.set(_,h)}exportData(_){return M}importData(_){return M}importDataConfirm(_){return M}importResult(_){return M}importTemplate(){return M}requestContractorSelectGet(_){return M}requestContractorSelectUpdate(_){return M}requestSaveBidding(_){return M}requestInfo(_){return M}loadFilterSchemaTest(_){return M}confirmExport(){this.exportDialogRef&&this.dialog.open(this.exportDialogRef).afterClosed().subscribe(_=>{_&&this.exportFile()})}doImport(_){if(!this.importDialogRef)return;const h=_.name,f=new FileReader;f.addEventListener("load",C=>{if("string"==typeof C.target?.result){const B=C.target?.result,H=";base64,",ct=B.indexOf(H),Q={data:B.substring(ct+H.length),name:h};this.importData(Q).subscribe({next:z=>{const lt=z.text,dt=z.result,tt=z.import_key;this.dialog.open(this.importDialogRef,{data:{...Q,text:lt,res:dt}}).afterClosed().subscribe(et=>{2===et&&this.importResult({import_key:tt}).subscribe({next:({name:P,data:_t})=>{const pt=`data:${this.xlsxMimeType};base64,${_t}`,Z=document.createElement("a");Z.href=pt,Z.download=P,Z.click(),this.snackBar.open("\u0424\u0430\u0439\u043b \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043a\u0430\u0447\u0435\u043d",void 0,this.snackBarWithShortDuration)},error:P=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438: "+P.error.error_message,void 0,this.snackBarWithShortDuration)}),1===et&&this.importDataConfirm({import_key:tt}).subscribe({next:()=>{this.snackBar.open("\u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e",void 0,this.snackBarWithShortDuration),this.resetPage()},error:P=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435: "+P.error.error_message,void 0,this.snackBarWithShortDuration)})})},error:z=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435: "+z.error.error_message,void 0,this.snackBarWithShortDuration)})}},!1),f.addEventListener("error",()=>this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 ${h} `,void 0,this.snackBarWithShortDuration),!1),f.readAsDataURL(_)}exportFile(){this.exportData({start:this.start,count:this.count,sort:JSON.stringify(this.getSort()),...this.filter}).subscribe({next:({name:_,data:h})=>{const f=`data:${this.xlsxMimeType};base64,${h}`,C=document.createElement("a");C.href=f,C.download=_,C.click()},error:_=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435: "+_.error?.error_message,void 0,this.snackBarWithShortDuration)})}exportFileTemplate(){this.importTemplate().subscribe({next:({name:_,data:h})=>{const f=`data:${this.xlsxMimeType};base64,${h}`,C=document.createElement("a");C.href=f,C.download=_,C.click()},error:_=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435: "+_.error?.error_message,void 0,this.snackBarWithShortDuration)})}importFile(){const _=this.file?.nativeElement;_&&(_.value="",_.click())}selectFileForImport(){const h=this.file?.nativeElement.files?.[0];h?.name.endsWith(".xls")?this.snackBar.open("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Excel \u0444\u0430\u0439\u043b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 .xlsx",void 0,this.snackBarWithShortDuration):h?.size&&h.size>2097152?this.snackBar.open("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0444\u0430\u0439\u043b",void 0,this.snackBarWithShortDuration):this.doImport(h)}resetPage(){this.router.navigate([])}getContractorsSelectRequest(){const _=Number(this.route.snapshot.paramMap.get("id"));this.requestContractorSelectGet(_).subscribe({next:h=>{h?(this.quantityContractors=h.length,this.contractorsSelectedForRequest=[],this.rows.forEach(f=>{h.forEach(C=>{f.id===C.contractor_id&&this.contractorsSelectedForRequest.push(C.contractor_id)})})):this.quantityContractors=0},complete:()=>this.currentQuantityContractors=this.contractorsSelectedForRequest.length,error:h=>this.snackBar.open("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c ID \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 "+h.error.error_message,void 0,this.snackBarWithShortDuration)})}updateContractorSelectRequest(_,{checked:h}){const f=Number(this.route.snapshot.paramMap.get("id"));this.requestContractorSelectUpdate({id:f,contractor_id:[_],checked:!!h}).subscribe({next:B=>{this.getContractorsSelectRequest()},error:B=>this.snackBar.open("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u043e\u0440\u043e\u0432 \u0432\u044b\u0431\u0440\u0430\u0432\u0448\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441 "+B.error.error_message,void 0,this.snackBarWithShortDuration)})}updateAllContractorSelectRequest({checked:_}){const h=Number(this.route.snapshot.paramMap.get("id")),f=!!_;this.requestContractorSelectUpdate({id:h,contractor_id:this.arrRowsId,checked:f}).subscribe({next:C=>{f||(this.contractorsSelectedForRequest=[]),this.getContractorsSelectRequest()},error:C=>this.snackBar.open("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u043e\u0440\u043e\u0432 \u0432\u044b\u0431\u0440\u0430\u0432\u0448\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441 "+C.error.error_message,void 0,this.snackBarWithShortDuration)})}saveTrueContractorSelectRequest(){const _=Number(this.route.snapshot.paramMap.get("id"));this.requestSaveBidding({id:_,confirm:!0}).pipe((0,R.M)(h=>{}),(0,k.Q)(this.destroy$)).subscribe({next:h=>{this.snackBar.open("\u0422\u043e\u0440\u0433\u0438 \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u043e\u0432 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043d\u0430\u0447\u0430\u0442\u044b ",void 0,this.snackBarWithLongDuration)},error:h=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u043e\u0432 \u0432 \u0442\u043e\u0440\u0433\u0438 "+h.error.error_message,void 0,this.snackBarWithLongDuration)}})}saveContractorSelectRequest(){const _=Number(this.route.snapshot.paramMap.get("id"));this.requestSaveBidding({id:_,confirm:!1}).pipe((0,R.M)(()=>{}),(0,k.Q)(this.destroy$)).subscribe({next:h=>{h.need_translate?this.dialog.open(this.translateRef).afterClosed().subscribe(f=>{f&&this.router.navigate(["/pages/request/edit/translate",this.requestId])}):this.saveTrueContractorSelectRequest()},error:h=>{this.dialog.open(this.saveBiddingRef,{data:{err:h}}).afterClosed().subscribe(f=>{f?this.saveTrueContractorSelectRequest():this.router.navigate([],{queryParams:{}})})}})}isCheck(_){return this.contractorsSelectedForRequest.includes(_)}isAllCheck(){const h=this.rows.filter(f=>!1===f.bidding_send).length;return this.rows.length>0&&this.currentQuantityContractors===h}isIndeterminate(){const h=this.rows.filter(f=>!1===f.bidding_send).length;return this.rows.length>0&&this.currentQuantityContractors<h&&this.currentQuantityContractors>0}getRequestInfo(_){this.requestInfo(_).subscribe({next:h=>{console.log("request",h),this.currentRequest=h,this.isBiddingMode&&(this.filterService.value.country_departure_id=this.currentRequest.departure_country_id,this.filterService.value.country_arrival_id=this.currentRequest.arrival_country_id,this.filterService.value.specialization=[this.currentRequest.transport_kind_id],this.filterService.value.allow_trade=1,this.filterService.apply())},error:h=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 "+h.error.error_message,void 0,this.snackBarWithShortDuration)})}getListParam(){this.loadFilterSchemaTest(this.isRateDetailsMode?{request_id:this.requestId,method:this.detailsMethod}:null).pipe((0,R.M)(h=>{this.sortField=h.sort[0].field,this.sortDir=h.sort[0].dir,this.isBiddingMode&&h.table.unshift({column:"checkbox"}),this.isTableFixedWidth=!h.table_width_set}),(0,k.Q)(this.destroy$)).subscribe({next:h=>{console.log("schema",h),this.filterService.setSearchFilterSchema(h.search),h.table.forEach(f=>{this.column?.push(f.column)}),h.sort.forEach(f=>{this.sortableColumns?.push(f.field)}),this.columnsData=h.table,h.status&&(this.requestCrmStatuses=h.status)},error:h=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0432\u044b\u0432\u043e\u0434\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b "+h.error.error_message,void 0,this.snackBarWithShortDuration),complete:()=>{this.subscribeRouteQueryParamMap()}})}subscribeRouteQueryParamMap(){this.route.queryParamMap.pipe((0,R.M)(_=>{_.params.translate&&this.saveContractorSelectRequest(),this.start=this.getIntParamSafely(_,"start",this.start),this.count=this.getIntEnumParamSafely(_,"count",this.limits,this.count),this.sortField=this.getStringParamSafely(_,"sortCol",this.sortField),this.sortDir=this.getEnumParamSafely(_,"sortDir",["asc","desc"],this.sortDir),this.filter=this.getJsonParamSafely(_,"filter",{}),this.filterService.setValue(this.filter),this.loadRows()}),(0,k.Q)(this.destroy$)).subscribe()}startResize(_,h,f){this.isResizing=!0,this.resizingColumn=h,this.resizingColumnBlock=f,this.startX=_.pageX,this.startWidth=h.width?parseInt(h.width,10):100,this.startWidthBlock=f.width?parseInt(h.width,10):100,_.preventDefault()}onMouseMove(_){this.isResizing&&this.resizingColumn&&(this.resizingColumn.width=`${this.startWidth+(_.pageX-this.startX)}px`,this.resizingColumnBlock.width=`${this.startWidthBlock+(_.pageX-this.startX)}px`)}onMouseUp(){this.isResizing&&(this.isResizing=!1),this.resizingColumn=null}updateColumnSize(){const _=this.isRateDetailsMode?document.querySelectorAll("div.table-list.rate table tbody tr:first-child td.mat-mdc-cell"):document.querySelectorAll("table tbody tr:first-child td.mat-mdc-cell");_&&(_.forEach((h,f)=>{this.columnsData[f].width=`${h.offsetWidth}px`;const C=h.querySelectorAll("div.column");C&&C.forEach((B,H)=>{this.columnsData[f].items[H].width=B.offsetWidth-16+"px"})}),this.isResizeColumnMode=!this.isResizeColumnMode,this.isTableFixedWidth=!1)}onSaveColumnWidth(){this.userService.userSaveTableParam({body:{method:this.resizeMetod,param:this.columnsData}}).pipe((0,R.M)(()=>{}),(0,k.Q)(this.destroy$)).subscribe(()=>{this.isResizeColumnMode=!1})}onResetColumnWidth(){this.userService.userResetTableParam({body:{method:this.resizeMetod}}).pipe((0,R.M)(()=>{}),(0,k.Q)(this.destroy$)).subscribe(()=>{this.onCancelColumnWidth()})}onCancelColumnWidth(){location.reload()}static{this.\u0275fac=function(h){return new(h||p)(v.rXU(E.nX),v.rXU(E.Ix),v.rXU(q.bZ),v.rXU(D.UG),v.rXU(c.E),v.rXU(y.DL))}}static{this.\u0275dir=v.FsC({type:p,viewQuery:function(h,f){if(1&h&&(v.GBs(L,5),v.GBs(w,5),v.GBs(O,5),v.GBs(b,5),v.GBs(T,5),v.GBs(S,7)),2&h){let C;v.mGM(C=v.lsd())&&(f.removeDialogRef=C.first),v.mGM(C=v.lsd())&&(f.exportDialogRef=C.first),v.mGM(C=v.lsd())&&(f.importDialogRef=C.first),v.mGM(C=v.lsd())&&(f.saveBiddingRef=C.first),v.mGM(C=v.lsd())&&(f.translateRef=C.first),v.mGM(C=v.lsd())&&(f.file=C.first)}},hostBindings:function(h,f){1&h&&v.bIt("mousemove",function(B){return f.onMouseMove(B)},!1,v.EBC)("mouseup",function(){return f.onMouseUp()},!1,v.EBC)}})}}return p})()},1874:(W,A,m)=>{m.d(A,{G:()=>d});const d=(F,t,M)=>($,R)=>{let k=0;if("numeric"===M)k=$[F]-R[F];else if("case-insensitive"===M){const v=$[F].toLocaleLowerCase(),E=R[F].toLocaleLowerCase();k=v.localeCompare(E)}else"case-sensitive"===M&&(k=$[F].localeCompare(R[F]));return"asc"===t?k:-k}},535:(W,A,m)=>{m.d(A,{E:()=>M});var a=m(1413),d=m(4412),F=m(6354),t=m(7705);let M=(()=>{class ${constructor(){this.value={},this.hasAdditional=!1,this.search$=new a.B,this.clearEmiter$=new d.t(void 0)}setSearchFilterSchema(k){this.searchFilterSchema=k,this.hasAdditional=Array.isArray(this.searchFilterSchema.additional)&&this.searchFilterSchema.additional.length>0,this.softReset()}softReset(k=!1){this.searchFilterSchema&&this.getAllControls(this.searchFilterSchema).forEach(E=>{E.field in this.value?k&&(this.value[E.field]=this.getDefault(E)):this.value[E.field]=this.getDefault(E)})}getDefault(k){return"checkbox"===k.form||"checkbox_reset"===k.form?[]:""}reset(){this.searchFilterSchema&&this.getAllControls(this.searchFilterSchema).forEach(v=>{this.value[v.field]=this.getDefault(v)}),this.search$.next(),this.clearEmiter$.next()}onApply(){return this.search$.pipe((0,F.T)(()=>this.value))}apply(){this.search$.next()}setValue(k){if(this.searchFilterSchema)this.getAllControls(this.searchFilterSchema).forEach(E=>{this.value[E.field]=E.field in k?k[E.field]:this.getDefault(E)});else for(const v in k)this.value[v]=k[v]}getAllControls(k){return[...k.header||[],...k.main||[],...k.additional||[]]}ngOnDestroy(){this.search$.complete()}static{this.\u0275fac=function(v){return new(v||$)}}static{this.\u0275prov=t.jDH({token:$,factory:$.\u0275fac})}}return $})()},7157:(W,A,m)=>{m.d(A,{S:()=>L});var a=m(7705),d=m(177);function F(w,O){1&w&&(a.j41(0,"div",9),a.EFF(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f: "),a.j41(2,"span",10),a.EFF(3,"\u2022"),a.k0s()())}function t(w,O){if(1&w&&(a.j41(0,"div",9),a.EFF(1),a.k0s()),2&w){const b=a.XpG(2);a.R7$(1),a.JRh(b.name)}}function M(w,O){if(1&w){const b=a.RV6();a.j41(0,"a",7),a.bIt("click",function(){a.eBV(b);const S=a.XpG();return a.Njj(S.goBack())}),a.EFF(1),a.DNE(2,F,4,0,"div",8),a.DNE(3,t,2,1,"div",8),a.k0s()}if(2&w){const b=a.XpG();a.R7$(1),a.SpI(" ",b.title," "),a.R7$(1),a.Y8G("ngIf",!b.isEditMode),a.R7$(1),a.Y8G("ngIf",b.isEditMode)}}function $(w,O){1&w&&(a.j41(0,"div",9),a.EFF(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f: "),a.j41(2,"span",10),a.EFF(3,"\u2022"),a.k0s()())}function R(w,O){if(1&w){const b=a.RV6();a.j41(0,"a",11),a.bIt("click",function(){a.eBV(b);const S=a.XpG();return a.Njj(S.goBack())}),a.EFF(1),a.DNE(2,$,4,0,"div",8),a.k0s()}if(2&w){const b=a.XpG();a.R7$(1),a.SpI(" ",b.title," "),a.R7$(1),a.Y8G("ngIf",!b.isEditMode)}}function k(w,O){if(1&w&&(a.j41(0,"div",12),a.EFF(1),a.j41(2,"div",9),a.EFF(3),a.k0s()()),2&w){const b=a.XpG();a.R7$(1),a.SpI(" \u0417\u0430\u043f\u0440\u043e\u0441 \u2116",null==b.request?null:b.request.id," "),a.R7$(2),a.SpI("",null==b.request?null:b.request.rate_contractor_name," ")}}function v(w,O){if(1&w){const b=a.RV6();a.j41(0,"span",19),a.bIt("click",function(){a.eBV(b);const S=a.XpG(2);return a.Njj(S.onSave())}),a.j41(1,"span"),a.EFF(2,"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),a.k0s()()}}function E(w,O){if(1&w){const b=a.RV6();a.j41(0,"span",20),a.bIt("click",function(){a.eBV(b);const S=a.XpG(2);return a.Njj(S.goCalc())}),a.j41(1,"span"),a.EFF(2,"\u0440\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c"),a.k0s()()}}function q(w,O){if(1&w){const b=a.RV6();a.j41(0,"span",21),a.bIt("click",function(){a.eBV(b);const S=a.XpG(2);return a.Njj(S.onRemove())}),a.j41(1,"span"),a.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),a.k0s()()}}function D(w,O){if(1&w){const b=a.RV6();a.j41(0,"div",13),a.DNE(1,v,3,0,"span",14),a.j41(2,"span",15),a.bIt("click",function(){a.eBV(b);const S=a.XpG();return a.Njj(S.onSave())}),a.j41(3,"span"),a.EFF(4,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),a.k0s()(),a.DNE(5,E,3,0,"span",16),a.DNE(6,q,3,0,"span",17),a.j41(7,"span",18),a.bIt("click",function(){a.eBV(b);const S=a.XpG();return a.Njj(S.goBack())}),a.j41(8,"span"),a.EFF(9,"\u043e\u0442\u043c\u0435\u043d\u0430"),a.k0s()()()}if(2&w){const b=a.XpG();a.R7$(1),a.Y8G("ngIf",b.isSend),a.R7$(4),a.Y8G("ngIf",b.isEditMode&&b.isCalck),a.R7$(1),a.Y8G("ngIf",b.isEditMode)}}const c=[[["","btns",""]]],y=["[btns]"];let L=(()=>{class w{constructor(b){this.location=b,this.title="",this.isEditMode=!1,this.save=new a.bkB,this.remove=new a.bkB,this.calc=new a.bkB,this.isCalck=!1,this.content=!1,this.request={},this.send=new a.bkB,this.isSend=!1}ngOnInit(){}onSave(){this.save.emit()}onRemove(){this.remove.emit()}goBack(){this.location.back()}goCalc(){this.calc.emit()}onSend(){this.send.emit()}static{this.\u0275fac=function(T){return new(T||w)(a.rXU(d.aZ))}}static{this.\u0275cmp=a.VBU({type:w,selectors:[["app-editor-header"]],inputs:{title:"title",isEditMode:"isEditMode",name:"name",isCalck:"isCalck",content:"content",request:"request",isSend:"isSend"},outputs:{save:"save",remove:"remove",calc:"calc",send:"send"},ngContentSelectors:y,decls:8,vars:4,consts:[[1,"subheader"],[1,"placer"],["class","title",3,"click",4,"ngIf"],["class","title","style","color:#DB563B",3,"click",4,"ngIf"],["class","title","style","border-left: 1px solid #C3CCD6; padding-left: 24px;",4,"ngIf"],[1,"div"],["class","fn",4,"ngIf"],[1,"title",3,"click"],["class","req-fields",4,"ngIf"],[1,"req-fields"],[1,"req"],[1,"title",2,"color","#DB563B",3,"click"],[1,"title",2,"border-left","1px solid #C3CCD6","padding-left","24px"],[1,"fn"],["class","btn v send",3,"click",4,"ngIf"],[1,"btn","v","save",3,"click"],["class","btn v calc",3,"click",4,"ngIf"],["class","btn v del",3,"click",4,"ngIf"],[1,"btn","v","cancel",3,"click"],[1,"btn","v","send",3,"click"],[1,"btn","v","calc",3,"click"],[1,"btn","v","del",3,"click"]],template:function(T,S){1&T&&(a.NAR(c),a.j41(0,"div",0)(1,"div",1),a.DNE(2,M,4,3,"a",2),a.DNE(3,R,3,2,"a",3),a.DNE(4,k,4,2,"div",4),a.nrm(5,"div",5),a.SdG(6),a.DNE(7,D,10,3,"div",6),a.k0s()()),2&T&&(a.R7$(2),a.Y8G("ngIf",!S.content),a.R7$(1),a.Y8G("ngIf",S.content),a.R7$(1),a.Y8G("ngIf",S.content),a.R7$(3),a.Y8G("ngIf",!S.content))},dependencies:[d.bT]})}}return w})()},2105:(W,A,m)=>{m.d(A,{h:()=>b});var a=m(7705),d=m(177),F=m(9417),t=m(882),M=m(2798),$=m(6600);function R(T,S){if(1&T&&(a.j41(0,"mat-option",15),a.EFF(1),a.k0s()),2&T){const G=S.$implicit;a.Y8G("value",G),a.R7$(1),a.SpI("\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e ",G,"")}}function k(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",16),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(j.prevPage))}),a.k0s()}}function v(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",17),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(0))}),a.EFF(1,"1"),a.k0s()}}function E(T,S){1&T&&(a.j41(0,"span",18),a.EFF(1,". . ."),a.k0s())}function q(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",19),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(j.prevPrevPage))}),a.EFF(1),a.k0s()}if(2&T){const G=a.XpG();a.R7$(1),a.JRh(G.userPage(G.prevPrevPage))}}function D(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",19),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(j.prevPage))}),a.EFF(1),a.k0s()}if(2&T){const G=a.XpG();a.R7$(1),a.JRh(G.userPage(G.prevPage))}}function c(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",19),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(j.nextPage))}),a.EFF(1),a.k0s()}if(2&T){const G=a.XpG();a.R7$(1),a.JRh(G.userPage(G.nextPage))}}function y(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",19),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(j.nextNextPage))}),a.EFF(1),a.k0s()}if(2&T){const G=a.XpG();a.R7$(1),a.JRh(G.userPage(G.nextNextPage))}}function L(T,S){1&T&&(a.j41(0,"span",18),a.EFF(1,". . ."),a.k0s())}function w(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",20),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(j.lastPage))}),a.EFF(1),a.k0s()}if(2&T){const G=a.XpG();a.R7$(1),a.JRh(G.userPage(G.lastPage))}}function O(T,S){if(1&T){const G=a.RV6();a.j41(0,"a",21),a.bIt("click",function(){a.eBV(G);const j=a.XpG();return a.Njj(j.goToPage(j.nextPage))}),a.k0s()}}let b=(()=>{class T{constructor(){this.total=0,this.count=0,this.start=0,this.limits=[10,50,100],this.startChange=new a.bkB,this.countChange=new a.bkB}ngOnInit(){}ngOnChanges(G){}get first(){return this.start+1}get last(){return Math.min(this.start+this.count,this.total)}get currentPage(){return Math.ceil(this.start/this.count)}get prevPage(){return this.currentPage-1}get nextPage(){return this.currentPage+1}get nextNextPage(){return this.currentPage+2}get prevPrevPage(){return this.currentPage-2}get lastPage(){return Math.ceil(this.total/this.count)-1}goToPage(G){this.startChange.emit(G*this.count)}newCountSelected(G){this.countChange.emit(+G)}userPage(G){return G+1}static{this.\u0275fac=function(p){return new(p||T)}}static{this.\u0275cmp=a.VBU({type:T,selectors:[["app-paginator"]],inputs:{total:"total",count:"count",start:"start",limits:"limits"},outputs:{startChange:"startChange",countChange:"countChange"},features:[a.OA$],decls:21,vars:16,consts:[[1,"table-footer"],[1,"limit"],["appearance","outline",1,"ui-select"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"note"],[1,"pages"],[1,"navigator"],["class","item arrow left icon icon-control-rewind",3,"click",4,"ngIf"],["class","item first icon icon-control-start",3,"click",4,"ngIf"],["class","dot",4,"ngIf"],["class","item",3,"click",4,"ngIf"],[1,"item","sel"],["class","item last icon icon-control-end",3,"click",4,"ngIf"],["class","item arrow right icon icon-control-forward",3,"click",4,"ngIf"],[3,"value"],[1,"item","arrow","left","icon","icon-control-rewind",3,"click"],[1,"item","first","icon","icon-control-start",3,"click"],[1,"dot"],[1,"item",3,"click"],[1,"item","last","icon","icon-control-end",3,"click"],[1,"item","arrow","right","icon","icon-control-forward",3,"click"]],template:function(p,j){1&p&&(a.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),a.bIt("ngModelChange",function(h){return j.newCountSelected(h)}),a.DNE(4,R,2,2,"mat-option",4),a.k0s()(),a.j41(5,"span",5),a.EFF(6),a.k0s()(),a.j41(7,"div",6)(8,"div",7),a.DNE(9,k,1,0,"a",8),a.DNE(10,v,2,0,"a",9),a.DNE(11,E,2,0,"span",10),a.DNE(12,q,2,1,"a",11),a.DNE(13,D,2,1,"a",11),a.j41(14,"span",12),a.EFF(15),a.k0s(),a.DNE(16,c,2,1,"a",11),a.DNE(17,y,2,1,"a",11),a.DNE(18,L,2,0,"span",10),a.DNE(19,w,2,1,"a",13),a.DNE(20,O,1,0,"a",14),a.k0s()()()),2&p&&(a.R7$(3),a.Y8G("ngModel",j.count),a.R7$(1),a.Y8G("ngForOf",j.limits),a.R7$(2),a.E5c("\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u044b: ",j.first," - ",j.last," \u0438\u0437 ",j.total,""),a.R7$(3),a.Y8G("ngIf",j.currentPage>0),a.R7$(1),a.Y8G("ngIf",j.currentPage>2),a.R7$(1),a.Y8G("ngIf",j.currentPage>0),a.R7$(1),a.Y8G("ngIf",j.currentPage>1),a.R7$(1),a.Y8G("ngIf",j.currentPage>0),a.R7$(2),a.JRh(j.userPage(j.currentPage)),a.R7$(1),a.Y8G("ngIf",j.currentPage<j.lastPage),a.R7$(1),a.Y8G("ngIf",j.currentPage<j.lastPage-1),a.R7$(1),a.Y8G("ngIf",j.currentPage<j.lastPage),a.R7$(1),a.Y8G("ngIf",j.currentPage<j.lastPage-1),a.R7$(1),a.Y8G("ngIf",j.currentPage<j.lastPage))},dependencies:[d.Sq,d.bT,F.BC,F.vS,t.rl,M.VO,$.wT],styles:[".invisible{visibility:hidden}\n"],encapsulation:2})}}return T})()},9323:(W,A,m)=>{m.d(A,{S:()=>d});var a=m(7705);let d=(()=>{class F{constructor(M){this.element=M}ngAfterViewInit(){this.element.nativeElement.focus()}static{this.\u0275fac=function($){return new($||F)(a.rXU(a.aKT))}}static{this.\u0275dir=a.FsC({type:F,selectors:[["","appFocusInitial",""]]})}}return F})()},3541:(W,A,m)=>{m.d(A,{A:()=>d});var a=m(7705);let d=(()=>{class F{constructor(M){this.el=M,this.input=M.nativeElement}getInputNumbersValue(){return this.input.value.replace(/\D/g,"")}onPhonePaste(M){const $=this.input,R=this.getInputNumbersValue(),k=M.clipboardData||window.clipboardData;if(k){const v=k.getData("Text");if(/\D/g.test(v))return void($.value=R)}}onPhoneInput(M){const $=this.input;let R=this.getInputNumbersValue(),v="";R?$.value.length==$.selectionStart?(["7","8","9"].indexOf(R[0])>-1?("9"==R[0]&&(R="7"+R),v=$.value="+7 ",R.length>1&&(v+="("+R.substring(1,4)),R.length>=5&&(v+=") "+R.substring(4,7)),R.length>=8&&(v+="-"+R.substring(7,9)),R.length>=10&&(v+="-"+R.substring(9,11))):v="+"+R.substring(0,16),$.value=v):M.data&&/\D/g.test(M.data)&&($.value=R):$.value=""}onPhoneBlur(M){const $=this.input,R=this.getInputNumbersValue();["7"].indexOf(R[0])>-1?R.length<11&&($.value=""):R.length<16&&($.value="")}onPhoneKeyDown(M){const $=this.input;var R=$.value.replace(/\D/g,"");8==M.keyCode&&1==R.length&&($.value="")}static{this.\u0275fac=function($){return new($||F)(a.rXU(a.aKT))}}static{this.\u0275dir=a.FsC({type:F,selectors:[["input","appPhoneMask",""]],hostBindings:function($,R){1&$&&a.bIt("paste",function(v){return R.onPhonePaste(v)})("input",function(v){return R.onPhoneInput(v)})("blur",function(v){return R.onPhoneBlur(v)})("keydown",function(v){return R.onPhoneKeyDown(v)})}})}}return F})()},1713:(W,A,m)=>{m.r(A),m.d(A,{PagesModule:()=>al});var a=m(9417),d=m(177),F=m(9192),t=m(7705);let M=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-bit"]],decls:2,vars:0,template:function(i,o){1&i&&(t.j41(0,"p"),t.EFF(1,"bit works!"),t.k0s())}})}}return n})();var $=m(7767),R=m(6354),k=m(535),v=m(4165),E=m(5351),q=m(5416),D=m(9111),c=m(9159),y=m(9115),L=m(2105),w=m(1413),O=m(152),b=m(3294),T=m(5964);let S=(()=>{class n{constructor(e){this.filter=e,this.change$=new w.B,this.change$.pipe((0,O.B)(1e3),(0,b.F)(),(0,T.p)(i=>""===i||i.length>1)).subscribe(()=>{this.filter.apply(),console.log(123)})}ngOnInit(){}onChange(e){this.change$.next(e)}ngOnDestroy(){this.change$.complete()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-autocomplete-filter"]],inputs:{filterControl:"filterControl"},decls:2,vars:2,consts:[[1,"search-box"],["type","text","size","28",3,"placeholder","ngModel","ngModelChange","keydown.enter"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"input",1),t.bIt("ngModelChange",function(u){return o.filter.value[o.filterControl.field]=u})("ngModelChange",function(u){return o.onChange(u)})("keydown.enter",function(){return o.filter.apply()}),t.k0s()()),2&i&&(t.R7$(1),t.Y8G("placeholder",o.filterControl.name)("ngModel",o.filter.value[o.filterControl.field]))},dependencies:[a.me,a.BC,a.vS],styles:[".test[_ngcontent-%COMP%]{background:#F7F9FC;border:1px solid #E0E5EB;color:#2c3640;font-size:15px;line-height:15px;border-radius:6px;width:100%;box-sizing:border-box;padding:11px 13px 9px}.subheader[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{display:none}"]})}}return n})();var G=m(5245),p=m(6977),j=m(8834),_=m(5084);let h=(()=>{class n{constructor(e,i){this.filter=e,this.chenge=i,this.day="day",this.week="week",this.month="month",this.startDate="",this.endDate="",this.dataBorder=!1,this.range=new a.gE({start:new a.MJ(null),end:new a.MJ(null)}),this.unsubscribe$=new w.B}ngOnInit(){this.filter.clearEmiter$.pipe((0,G.i)(1),(0,p.Q)(this.unsubscribe$)).subscribe(()=>{this.range.reset(),this.dataBorder=!1});const e=this.filter.value[this.filterControl.field];if(e){this.dataBorder=!0;const[i,o]=e.split("-"),s=i.split("."),u=o.split(".");this.range.patchValue({start:new Date(+s[2],s[1]-1,+s[0]),end:new Date(+u[2],u[1]-1,+u[0])})}}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}startDateChange(e){this.startDate=(0,d.Yq)(e.value,"dd.MM.yyyy","ru-RU"),this.fullDateChange()}endDateChange(e){this.endDate=(0,d.Yq)(e.value,"dd.MM.yyyy","ru-RU"),this.fullDateChange()}fullDateChange(){this.dataBorder=!0,this.filter.value[this.filterControl.field]=`${this.startDate}-${this.endDate}`}change(e){this.range.reset(),this.dataBorder=!1,e===this.filter.value[this.filterControl.field]&&(this.filter.value[this.filterControl.field]="")}datapikerCancel(){this.range.reset(),this.dataBorder=!1,this.filter.value[this.filterControl.field]=""}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-period-filter"]],inputs:{filterControl:"filterControl"},decls:30,vars:9,consts:[[1,"title"],[1,"data","checkbox"],["type","radio",3,"ngModel","value","ngModelChange","click"],[2,"display","inline-flex"],[3,"rangePicker","formGroup","ngClass","click"],["matStartDate","","placeholder","\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433","formControlName","start",3,"dateChange"],["matEndDate","","placeholder","\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433","formControlName","end",3,"dateChange"],[2,"height","12.5px","width","13px"],["width","12","height","12","viewBox","0 0 13 14","fill","none","xmlns","http://www.w3.org/2000/svg",3,"click"],["d","M10 11H9V10H10V11ZM10 8H9V9H10V8ZM8 8H7V9H8V8ZM8 10H7V11H8V10ZM4 10H3V11H4V10ZM6 8H5V9H6V8ZM4 8H3V9H4V8ZM13 1V14H0V1H3V0H4V1H9V0H10V1H13ZM12 6H1V13H12V6ZM12 2H10V3H9V2H4V3H3V2H1V5H12V2ZM6 10H5V11H6V10Z","fill","#DB563B"],["picker",""],["mat-button","",3,"click"],["mat-raised-button","","matDateRangePickerApply",""]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"div")(1,"div",0),t.EFF(2,"\u041f\u0435\u0440\u0438\u043e\u0434:"),t.k0s(),t.j41(3,"div",1)(4,"label")(5,"input",2),t.bIt("ngModelChange",function(l){return o.filter.value[o.filterControl.field]=l})("click",function(){return o.change(o.day)}),t.k0s(),t.j41(6,"span"),t.EFF(7,"\u0414\u0435\u043d\u044c"),t.k0s()(),t.j41(8,"label")(9,"input",2),t.bIt("ngModelChange",function(l){return o.filter.value[o.filterControl.field]=l})("click",function(){return o.change(o.week)}),t.k0s(),t.j41(10,"span"),t.EFF(11,"\u041d\u0435\u0434\u0435\u043b\u044f"),t.k0s()(),t.j41(12,"label")(13,"input",2),t.bIt("ngModelChange",function(l){return o.filter.value[o.filterControl.field]=l})("click",function(){return o.change(o.month)}),t.k0s(),t.j41(14,"span"),t.EFF(15,"\u041c\u0435\u0441\u044f\u0446"),t.k0s()(),t.j41(16,"label",3)(17,"mat-date-range-input",4),t.bIt("click",function(){t.eBV(s);const l=t.sdS(24);return t.Njj(l.open())}),t.j41(18,"input",5),t.bIt("dateChange",function(l){return o.startDateChange(l)}),t.k0s(),t.j41(19,"input",6),t.bIt("dateChange",function(l){return o.endDateChange(l)}),t.k0s()(),t.j41(20,"span",7),t.qSk(),t.j41(21,"svg",8),t.bIt("click",function(){t.eBV(s);const l=t.sdS(24);return t.Njj(l.open())}),t.nrm(22,"path",9),t.k0s()(),t.joV(),t.j41(23,"mat-date-range-picker",null,10)(25,"mat-date-range-picker-actions")(26,"button",11),t.bIt("click",function(){t.eBV(s);const l=t.sdS(24);return o.datapikerCancel(),t.Njj(l.close())}),t.EFF(27,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),t.k0s(),t.j41(28,"button",12),t.EFF(29,"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"),t.k0s()()()()()()}if(2&i){const s=t.sdS(24);t.R7$(5),t.Y8G("ngModel",o.filter.value[o.filterControl.field])("value",o.day),t.R7$(4),t.Y8G("ngModel",o.filter.value[o.filterControl.field])("value",o.week),t.R7$(4),t.Y8G("ngModel",o.filter.value[o.filterControl.field])("value",o.month),t.R7$(4),t.Y8G("rangePicker",s)("formGroup",o.range)("ngClass",o.dataBorder?"border-on":"border-off")}},dependencies:[d.YU,a.me,a.Fm,a.BC,a.cb,a.vS,a.j4,a.JD,j.$z,_.el,_.xR,_.IG,_.SG,_.Cz,_.T7],styles:[".border-on[_ngcontent-%COMP%]{border-bottom:1px #DB563B solid;color:#db563b}.border-off[_ngcontent-%COMP%]{border-bottom:none}"]})}}return n})();var f=m(882),C=m(2798),B=m(6600);function H(n,r){if(1&n&&(t.j41(0,"mat-option",9),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function ct(n,r){if(1&n&&(t.j41(0,"mat-option",9),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}const Rt=function(n){return{"value-selected":n}};let Q=(()=>{class n{constructor(e){this.filter=e}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-select-filter"]],inputs:{filterControl:"filterControl"},decls:17,vars:9,consts:[[1,"select-filter-additional"],[1,"title"],[1,"data","select"],["appearance","outline",1,"ui-select","w100"],[3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"select-filter-main"],[1,"data","select","w130",3,"ngClass"],[3,"value"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2),t.k0s(),t.j41(3,"div",2)(4,"mat-form-field",3)(5,"mat-select",4),t.bIt("ngModelChange",function(u){return o.filter.value[o.filterControl.field]=u}),t.j41(6,"mat-option",5),t.EFF(7,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.k0s(),t.DNE(8,H,2,2,"mat-option",6),t.k0s()()()(),t.j41(9,"div",7)(10,"div",1),t.EFF(11),t.k0s(),t.j41(12,"div",8)(13,"mat-select",4),t.bIt("ngModelChange",function(u){return o.filter.value[o.filterControl.field]=u}),t.j41(14,"mat-option",5),t.EFF(15,"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"),t.k0s(),t.DNE(16,ct,2,2,"mat-option",6),t.k0s()()()),2&i&&(t.R7$(2),t.SpI("",o.filterControl.name,":"),t.R7$(3),t.Y8G("ngModel",o.filter.value[o.filterControl.field]),t.R7$(3),t.Y8G("ngForOf",o.filterControl.array),t.R7$(3),t.SpI("",o.filterControl.name,":"),t.R7$(1),t.Y8G("ngClass",t.eq3(7,Rt,""!==o.filter.value[o.filterControl.field])),t.R7$(1),t.Y8G("ngModel",o.filter.value[o.filterControl.field]),t.R7$(3),t.Y8G("ngForOf",o.filterControl.array))},dependencies:[d.YU,d.Sq,a.BC,a.vS,f.rl,C.VO,B.wT],styles:[".w130[_ngcontent-%COMP%]{min-width:130px;position:relative}"]})}}return n})(),z=(()=>{class n{constructor(e){this.filter=e}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-text-filter"]],inputs:{filterControl:"filterControl"},decls:5,vars:2,consts:[[1,"title"],[1,"data","text"],["type","text",3,"ngModel","ngModelChange"]],template:function(i,o){1&i&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.k0s(),t.j41(3,"div",1)(4,"input",2),t.bIt("ngModelChange",function(u){return o.filter.value[o.filterControl.field]=u}),t.k0s()()()),2&i&&(t.R7$(2),t.SpI("",o.filterControl.name,":"),t.R7$(2),t.Y8G("ngModel",o.filter.value[o.filterControl.field]))},dependencies:[a.me,a.BC,a.vS]})}}return n})();function lt(n,r){if(1&n){const e=t.RV6();t.j41(0,"label")(1,"input",3),t.bIt("change",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.change(s.id))}),t.k0s(),t.j41(2,"span"),t.EFF(3),t.k0s()()}if(2&n){const e=r.$implicit,i=t.XpG();t.R7$(1),t.Y8G("value",e.id)("checked",i.checked(e.id)),t.R7$(2),t.JRh(e.name)}}let dt=(()=>{class n{constructor(e){this.filter=e}ngOnInit(){}change(e){const i=this.filter.value[this.filterControl.field];if(!Array.isArray(i))return;const o=i.indexOf(e);o>=0?i.splice(o,1):i.push(e)}checked(e){const i=this.filter.value[this.filterControl.field];return!!Array.isArray(i)&&i.includes(e)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-checkbox-filter"]],inputs:{filterControl:"filterControl"},decls:5,vars:2,consts:[[1,"title"],[1,"data","checkbox"],[4,"ngFor","ngForOf"],["type","checkbox",3,"value","checked","change"]],template:function(i,o){1&i&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.k0s(),t.j41(3,"div",1),t.DNE(4,lt,4,3,"label",2),t.k0s()()),2&i&&(t.R7$(2),t.SpI("",o.filterControl.name,":"),t.R7$(2),t.Y8G("ngForOf",o.filterControl.array))},dependencies:[d.Sq]})}}return n})();function tt(n,r){if(1&n){const e=t.RV6();t.j41(0,"label")(1,"input",3),t.bIt("ngModelChange",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.filter.value[s.filterControl.field]=o)})("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.change(s.id))}),t.k0s(),t.j41(2,"span"),t.EFF(3),t.k0s()()}if(2&n){const e=r.$implicit,i=t.XpG();t.R7$(1),t.Y8G("ngModel",i.filter.value[i.filterControl.field])("value",e.id),t.R7$(2),t.SpI("",e.name," ")}}let et=(()=>{class n{constructor(e){this.filter=e}ngOnInit(){this.filterControl.array.forEach(e=>{"\u041b\u044e\u0431\u044b\u0435"==e.name&&(this.filter.value[this.filterControl.field]=e.id)})}change(e){e==this.filter.value[this.filterControl.field]&&(this.filter.value[this.filterControl.field]="")}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-radio-filter"]],inputs:{filterControl:"filterControl"},decls:5,vars:2,consts:[[1,"title"],[1,"data","checkbox"],[4,"ngFor","ngForOf"],["type","radio",3,"ngModel","value","ngModelChange","click"]],template:function(i,o){1&i&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.k0s(),t.j41(3,"div",1),t.DNE(4,tt,4,3,"label",2),t.k0s()()),2&i&&(t.R7$(2),t.SpI("",o.filterControl.name,":"),t.R7$(2),t.Y8G("ngForOf",o.filterControl.array))},dependencies:[d.Sq,a.me,a.Fm,a.BC,a.vS],encapsulation:2})}}return n})();var P=m(850);function _t(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",5),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.change(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(1),t.JRh(e.name)}}let pt=(()=>{class n{constructor(e,i){this.filter=e,this.chenge=i,this.form=new a.gE({name:new a.MJ,id:new a.MJ}),this.unsubscribe$=new w.B}ngOnInit(){this.filter.clearEmiter$.pipe((0,G.i)(1),(0,p.Q)(this.unsubscribe$)).subscribe(()=>{this.form.reset()});const e=this.filter.value[this.filterControl.field];if(e){const i=this.filterControl.array.find(o=>o.id===e);this.form.patchValue({name:i?.name,id:i?.id})}}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}change(e){this.filter.value[this.filterControl.field]=e.id,this.form.patchValue({id:e.id})}search(e){this.filter.value[this.filterControl.field]="";const i=e.target.value.toLowerCase();this.test=this.filterControl.array.filter(o=>o.name.toLowerCase().includes(i))}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-search-select-filter"]],inputs:{filterControl:"filterControl"},decls:8,vars:4,consts:[[1,"title"],[1,"data","select",3,"formGroup"],["appearance","outline","formControlName","name","type","text","placeholder","\u2014",1,"ui-select",2,"height","38.75px",3,"matAutocomplete","keyup"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(i,o){if(1&i&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.k0s(),t.j41(3,"div",1)(4,"input",2),t.bIt("keyup",function(u){return o.search(u)}),t.k0s(),t.j41(5,"mat-autocomplete",null,3),t.DNE(7,_t,2,2,"mat-option",4),t.k0s()()()),2&i){const s=t.sdS(6);t.R7$(2),t.SpI("",o.filterControl.name,":"),t.R7$(1),t.Y8G("formGroup",o.form),t.R7$(1),t.Y8G("matAutocomplete",s),t.R7$(3),t.Y8G("ngForOf",o.test)}},dependencies:[d.Sq,a.me,a.BC,a.cb,a.j4,a.JD,B.wT,P.$3,P.pN],encapsulation:2})}}return n})();function Z(n,r){if(1&n&&t.nrm(0,"app-radio-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}function Xt(n,r){if(1&n&&t.nrm(0,"app-search-select-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}function Ht(n,r){if(1&n&&t.nrm(0,"app-period-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}function Ut(n,r){if(1&n&&t.nrm(0,"app-checkbox-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}function Wt(n,r){if(1&n&&t.nrm(0,"app-checkbox-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}function zt(n,r){if(1&n&&t.nrm(0,"app-autocomplete-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}function Zt(n,r){if(1&n&&t.nrm(0,"app-text-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}function Kt(n,r){if(1&n&&t.nrm(0,"app-select-filter",2),2&n){const e=t.XpG();t.Y8G("filterControl",e.filterControl)}}let yt=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-universal-filter"]],inputs:{filterControl:"filterControl"},decls:9,vars:9,consts:[[3,"ngSwitch"],["class","filter-item",3,"filterControl",4,"ngSwitchCase"],[1,"filter-item",3,"filterControl"]],template:function(i,o){1&i&&(t.qex(0,0),t.DNE(1,Z,1,1,"app-radio-filter",1),t.DNE(2,Xt,1,1,"app-search-select-filter",1),t.DNE(3,Ht,1,1,"app-period-filter",1),t.DNE(4,Ut,1,1,"app-checkbox-filter",1),t.DNE(5,Wt,1,1,"app-checkbox-filter",1),t.DNE(6,zt,1,1,"app-autocomplete-filter",1),t.DNE(7,Zt,1,1,"app-text-filter",1),t.DNE(8,Kt,1,1,"app-select-filter",1),t.bVm()),2&i&&(t.Y8G("ngSwitch",o.filterControl.form),t.R7$(1),t.Y8G("ngSwitchCase","radio"),t.R7$(1),t.Y8G("ngSwitchCase","search_select"),t.R7$(1),t.Y8G("ngSwitchCase","period_days"),t.R7$(1),t.Y8G("ngSwitchCase","checkbox"),t.R7$(1),t.Y8G("ngSwitchCase","checkbox_reset"),t.R7$(1),t.Y8G("ngSwitchCase","autocomplete"),t.R7$(1),t.Y8G("ngSwitchCase","text"),t.R7$(1),t.Y8G("ngSwitchCase","select"))},dependencies:[d.ux,d.e1,S,h,Q,z,dt,et,pt]})}}return n})();function Jt(n,r){1&n&&t.nrm(0,"app-universal-filter",12),2&n&&t.Y8G("filterControl",r.$implicit)}function Qt(n,r){1&n&&t.nrm(0,"app-universal-filter",14),2&n&&t.Y8G("filterControl",r.$implicit)}function te(n,r){if(1&n&&(t.qex(0),t.DNE(1,Qt,1,1,"app-universal-filter",13),t.bVm()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",null==e.filterService.searchFilterSchema?null:e.filterService.searchFilterSchema.header)}}const ee=function(n){return{open:n}};function ne(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",15)(1,"div")(2,"div",16),t.EFF(3,"\xa0"),t.k0s(),t.j41(4,"div",17)(5,"span",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleMore())}),t.EFF(6,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),t.k0s()()()()}if(2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,ee,e.showMore))}}function ie(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",19)(1,"div")(2,"span",6),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.saveBiddingBtn())}),t.j41(3,"span"),t.EFF(4),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(4),t.SpI("\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u0440\u0433\u0438 (",e.quantityContractors,")")}}function oe(n,r){1&n&&t.nrm(0,"app-universal-filter",20),2&n&&t.Y8G("filterControl",r.$implicit)}function re(n,r){1&n&&t.nrm(0,"app-universal-filter",20),2&n&&t.Y8G("filterControl",r.$implicit)}const se=function(n){return{"hidden-filter":n}},ae=["*"];let K=(()=>{class n{constructor(e){this.filterService=e,this.showMore=!1,this.asd=!1,this.saveBidding=new t.bkB}ngOnInit(){}toggleMore(){this.showMore=!this.showMore}saveBiddingBtn(){this.saveBidding.emit()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(k.E))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-table-filter"]],inputs:{isBiddingMode:"isBiddingMode",isRateDetailsMode:"isRateDetailsMode",quantityContractors:"quantityContractors"},outputs:{saveBidding:"saveBidding"},ngContentSelectors:ae,decls:19,vars:9,consts:[[1,"filter","extend"],[1,"base","main"],["class","item",3,"filterControl",4,"ngFor","ngForOf"],[4,"ngIf"],["class","item",3,"ngClass",4,"ngIf"],[1,"item","func"],[1,"btn","apply",3,"click"],[1,"btn","reset",3,"click"],["class","item func trade-btn",4,"ngIf"],[1,"add","show","additional",3,"ngClass"],[1,"row"],["class","item w1",3,"filterControl",4,"ngFor","ngForOf"],[1,"item",3,"filterControl"],["class","item input",3,"filterControl",4,"ngFor","ngForOf"],[1,"item","input",3,"filterControl"],[1,"item",3,"ngClass"],[1,"title"],[1,"data"],[1,"addition-filter",3,"click"],[1,"item","func","trade-btn"],[1,"item","w1",3,"filterControl"]],template:function(i,o){1&i&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.DNE(2,Jt,1,1,"app-universal-filter",2),t.DNE(3,te,2,1,"ng-container",3),t.DNE(4,ne,7,3,"div",4),t.j41(5,"div",5)(6,"div")(7,"span",6),t.bIt("click",function(){return o.filterService.apply()}),t.j41(8,"span"),t.EFF(9,"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"),t.k0s()(),t.j41(10,"span",7),t.bIt("click",function(){return o.filterService.reset()}),t.nrm(11,"span"),t.k0s()()(),t.SdG(12),t.DNE(13,ie,5,1,"div",8),t.k0s(),t.j41(14,"div",9)(15,"div",10),t.DNE(16,oe,1,1,"app-universal-filter",11),t.k0s(),t.j41(17,"div",10),t.DNE(18,re,1,1,"app-universal-filter",11),t.k0s()()()),2&i&&(t.R7$(2),t.Y8G("ngForOf",null==o.filterService.searchFilterSchema?null:o.filterService.searchFilterSchema.main),t.R7$(1),t.Y8G("ngIf",o.isBiddingMode),t.R7$(1),t.Y8G("ngIf",o.filterService.hasAdditional),t.R7$(9),t.Y8G("ngIf",o.isBiddingMode&&o.quantityContractors>0),t.R7$(1),t.Y8G("ngClass",t.eq3(7,se,!o.showMore)),t.R7$(2),t.Y8G("ngForOf",null==o.filterService.searchFilterSchema||null==o.filterService.searchFilterSchema.additional?null:o.filterService.searchFilterSchema.additional.slice(0,4)),t.R7$(2),t.Y8G("ngForOf",null==o.filterService.searchFilterSchema||null==o.filterService.searchFilterSchema.additional?null:o.filterService.searchFilterSchema.additional.slice(4)))},dependencies:[d.YU,d.Sq,d.bT,yt],styles:['.filter .row .w1{width:1px}.filter .main .trade-btn{border-left:0;margin-left:auto}.filter .main .trade-btn .btn.apply:before{background-image:url(pic-btn-trade.a0a19cd5a70d2c08.svg)}.dn.item{display:none}.testu{margin-left:auto}.detail-btn{border:0;display:flex;flex-direction:row;margin:12px 12px 12px auto;gap:12px}.detail-btn button{display:block;padding:9px 8px 7px;width:64px;height:56px;box-sizing:border-box;font-size:10px;line-height:10px;text-transform:uppercase;text-align:center;color:#000;cursor:pointer;box-shadow:0 2px 8px #0000001a;background:white;border-radius:6px;border:0}.detail-btn button:before{content:"";width:18px;height:18px;display:block;background:no-repeat 50% 50%;margin:0 auto 10px}.detail-btn .add:before{background-image:url(pic-btn-rate-plus.8453f4d7b217c177.svg)}.detail-btn button.add{background-color:#db563b;color:#fff}.detail-btn .dub:before{background-image:url(pic-btn-double.8f45353d8ff0139f.svg)}.detail-btn .bid:before{background-image:url(pic-btn-trade-red.0f62b5c2c552cd4d.svg)}.detail-btn .del:before{background-image:url(pic-btn-del.2c308877081041ba.svg)}.detail-btn button.del{background-color:#606a74;color:#fff}.filter .item{padding:20px}\n'],encapsulation:2})}}return n})();const ue=["file"],ce=["exportDialogRef"],le=["importDialogRef"];function de(n,r){1&n&&t.nrm(0,"app-universal-filter",12),2&n&&t.Y8G("filterControl",r.$implicit)}function _e(n,r){if(1&n&&(t.j41(0,"h1",13),t.EFF(1,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442"),t.k0s(),t.j41(2,"div",14),t.EFF(3),t.k0s(),t.j41(4,"div",15)(5,"button",16),t.EFF(6,"\u0414\u0430"),t.k0s(),t.j41(7,"button",17),t.EFF(8,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=r.$implicit;t.R7$(3),t.SpI(" ",e," "),t.R7$(2),t.Y8G("mat-dialog-close",!0)}}function pe(n,r){if(1&n&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.res.error.text)}}function me(n,r){if(1&n&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.res.insert.text)}}function he(n,r){if(1&n&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.res.update.text)}}function ge(n,r){1&n&&(t.j41(0,"button",22),t.EFF(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 "),t.k0s()),2&n&&t.Y8G("mat-dialog-close",1)}function fe(n,r){if(1&n&&(t.j41(0,"h1",13),t.EFF(1,"\u0418\u043c\u043f\u043e\u0440\u0442"),t.k0s(),t.j41(2,"div",14),t.EFF(3),t.k0s(),t.j41(4,"div",14),t.DNE(5,pe,2,1,"p",18),t.DNE(6,me,2,1,"p",18),t.DNE(7,he,2,1,"p",18),t.k0s(),t.j41(8,"div",15),t.DNE(9,ge,2,1,"button",19),t.j41(10,"button",20),t.EFF(11," \u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 "),t.k0s(),t.j41(12,"button",21),t.EFF(13," \u041e\u0422\u041c\u0415\u041d\u0410 "),t.k0s()()),2&n){const e=r.$implicit;t.R7$(3),t.SpI(" \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 ",e.name," ? "),t.R7$(2),t.Y8G("ngIf",e.res.error),t.R7$(1),t.Y8G("ngIf",e.res.insert),t.R7$(1),t.Y8G("ngIf",e.res.update),t.R7$(2),t.Y8G("ngIf",e.res.insert||e.res.update),t.R7$(1),t.Y8G("mat-dialog-close",2)}}const Ce=function(){return["add"]};let nt=(()=>{class n{constructor(e,i,o,s){this.snackBar=e,this.router=i,this.filterService=o,this.dialog=s,this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.xlsxMimeType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",this.titles={title:"",subtitle:""},this.export=new t.bkB,this.exportTemplate=new t.bkB}ngOnInit(){}confirmTableFileDownload(){this.exportDialogRef&&this.dialog.open(this.exportDialogRef,{data:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430\u0445 \u0432 Excel \u0444\u0430\u0439\u043b?"}).afterClosed().subscribe(e=>{e&&this.export.emit()})}confirmTemplateFileDownload(){this.exportDialogRef&&this.dialog.open(this.exportDialogRef,{data:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0432 Excel \u0444\u0430\u0439\u043b?"}).afterClosed().subscribe(e=>{e&&this.exportTemplate.emit()})}selectFileToImport(){const e=this.file?.nativeElement;e&&(e.value="",e.click())}selectFileToImportChange(){const i=this.file?.nativeElement.files?.[0];i?.name.endsWith(".xls")?this.snackBar.open("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Excel \u0444\u0430\u0439\u043b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 .xlsx",void 0,this.snackBarWithShortDuration):i?.size&&i.size>2097152?this.snackBar.open("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0444\u0430\u0439\u043b",void 0,this.snackBarWithShortDuration):this.doImport(i)}importResulte(e){this.importMetods.import_res({key:e}).subscribe({next:i=>{const o=`data:${this.xlsxMimeType};base64,${i.data}`,s=document.createElement("a");s.href=o,s.download=i.name,s.click(),this.snackBar.open("\u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e",void 0,this.snackBarWithShortDuration)},error:i=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}importConfirm(e){this.importMetods.import_con({key:e}).subscribe({next:()=>{this.snackBar.open("\u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e",void 0,this.snackBarWithShortDuration),this.router.navigate([])},error:i=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}doImport(e){if(!this.importDialogRef)return;const i=e.name,o=new FileReader;o.addEventListener("load",s=>{if("string"==typeof s.target?.result){const u=s.target?.result,l=";base64,",x=u.indexOf(l),N={data:u.substring(x+l.length),name:i};this.importMetods.import(N).subscribe({next:Y=>{const U=Y.text,X=Y.result,at=Y.import_key;this.dialog.open(this.importDialogRef,{data:{...N,text:U,res:X}}).afterClosed().subscribe(ut=>{2===ut&&this.importResulte(at),1===ut&&this.importConfirm(at)})},error:Y=>this.snackBar.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435: "+Y?.error.error_message,void 0,this.snackBarWithShortDuration)})}},!1),o.addEventListener("error",()=>this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 ${i} `,void 0,this.snackBarWithShortDuration),!1),o.readAsDataURL(e)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(q.UG),t.rXU(F.Ix),t.rXU(k.E),t.rXU(E.bZ))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-table-sunheader-file"]],viewQuery:function(i,o){if(1&i&&(t.GBs(ue,7),t.GBs(ce,5),t.GBs(le,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.file=s.first),t.mGM(s=t.lsd())&&(o.exportDialogRef=s.first),t.mGM(s=t.lsd())&&(o.importDialogRef=s.first)}},inputs:{titles:"titles",importMetods:"importMetods"},outputs:{export:"export",exportTemplate:"exportTemplate"},decls:27,vars:6,consts:[[1,"subheader"],[1,"title"],[1,"btns-file"],[1,"file-btn","add-link",3,"routerLink"],["type","button",1,"file-btn","import",3,"click"],["type","button",1,"file-btn","export","hover",3,"click"],["type","button",1,"file-btn","export",3,"click"],["type","file",1,"ui-file-input",3,"accept","change"],["file",""],["style","margin-left: auto;",3,"filterControl",4,"ngFor","ngForOf"],["exportDialogRef",""],["importDialogRef",""],[2,"margin-left","auto",3,"filterControl"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""],[4,"ngIf"],["style","background: #DB563B; color: #fff;","mat-button","",3,"mat-dialog-close",4,"ngIf"],["mat-button","",2,"background","#4b66ad","color","#fff",3,"mat-dialog-close"],["mat-button","","mat-dialog-close","",2,"background","#606A74","color","#fff"],["mat-button","",2,"background","#DB563B","color","#fff",3,"mat-dialog-close"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2),t.k0s(),t.j41(3,"div",2)(4,"button",3),t.nrm(5,"div"),t.j41(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"button",4),t.bIt("click",function(){return o.selectFileToImport()}),t.nrm(9,"div"),t.j41(10,"span"),t.EFF(11,"\u0418\u043c\u043f\u043e\u0440\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.k0s()(),t.j41(12,"button",5),t.bIt("click",function(){return o.confirmTemplateFileDownload()}),t.nrm(13,"div"),t.j41(14,"span"),t.EFF(15,"\u0428\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430"),t.k0s()(),t.j41(16,"button",6),t.bIt("click",function(){return o.confirmTableFileDownload()}),t.nrm(17,"div"),t.j41(18,"span"),t.EFF(19,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.k0s()(),t.j41(20,"input",7,8),t.bIt("change",function(){return o.selectFileToImportChange()}),t.k0s()(),t.DNE(22,de,1,1,"app-universal-filter",9),t.k0s(),t.DNE(23,_e,9,2,"ng-template",null,10,t.C5r),t.DNE(25,fe,14,6,"ng-template",null,11,t.C5r)),2&i&&(t.R7$(2),t.JRh(o.titles.title),t.R7$(2),t.Y8G("routerLink",t.lJ4(5,Ce)),t.R7$(3),t.SpI("\u041d\u043e\u0432\u044b\u0439 ",o.titles.subtitle,""),t.R7$(13),t.Y8G("accept",o.xlsxMimeType),t.R7$(2),t.Y8G("ngForOf",null==o.filterService.searchFilterSchema?null:o.filterService.searchFilterSchema.header))},dependencies:[d.Sq,d.bT,F.Wk,E.tx,E.BI,E.Yi,E.E7,j.$z,yt],styles:['@charset "UTF-8";.subheader{display:flex;align-items:center}.btns-file{display:flex}.btns-file button{display:flex;text-decoration:none;border:none;background-color:inherit;margin-left:12px;font-size:13px;line-height:13px;letter-spacing:normal;color:#606a74;cursor:pointer;padding:6px}.btns-file button div{width:14px;height:14px;margin-right:9px}.btns-file button:hover{opacity:.8}.btns-file .add-link div{background-image:url(pic-btn-addLink.900ae118e2e4b565.svg)}.btns-file .import div{background-image:url(pic-btn-import.3e862edac899e1a4.svg)}.btns-file .export div{background-image:url(pic-btn-export.d4576a87c896fb96.svg)}.btns-file .file-btn.hover{visibility:hidden;opacity:0;max-width:0;margin-left:0;overflow:hidden;transition:opacity 3s ease,max-width 3s ease,margin-left 3s ease,visibility 3s ease;text-wrap:nowrap;padding:6px 0}.btns-file .file-btn.import:hover+.file-btn.hover,.btns-file .file-btn.hover:hover{visibility:visible;opacity:.8;max-width:200px;margin-left:12px;transition:opacity 2s ease,max-width 1s ease,margin-left 1s ease,visibility 0s 0s}\n'],encapsulation:2})}}return n})();function ve(n,r){if(1&n&&(t.j41(0,"div",16),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.SpI(" ",e.title," ")}}function ke(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",22),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).$implicit,u=t.XpG(3).index,l=t.XpG();return t.Njj(l.startResize(o,s,l.columnsData[u]))}),t.k0s()}}function be(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",19)(1,"div",20),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG(4);return t.Njj(s.sort(o.field))}),t.EFF(2),t.k0s(),t.DNE(3,ke,1,0,"div",21),t.k0s()}if(2&n){const e=t.XpG(),i=e.$implicit,o=e.index,s=t.XpG(3).$implicit,u=t.XpG();t.HbH(i.class),t.xc7("width",i.width),t.R7$(1),t.Y8G("ngClass",u.getSortClass(i.field)),t.BMQ("title",u.getColTitle(i.field)),t.R7$(1),t.SpI(" ",i.title," "),t.R7$(1),t.Y8G("ngIf",o!==s.items.length-1)}}function Fe(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",23),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(4).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()}}function Ee(n,r){if(1&n&&(t.qex(0),t.DNE(1,be,4,8,"div",17),t.DNE(2,Fe,1,0,"div",18),t.bVm()),2&n){const e=r.$implicit,i=r.index,o=t.XpG(3),s=o.$implicit,u=o.index;t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.Y8G("ngIf",i==s.items.length-1&&0!==u)}}function Re(n,r){if(1&n&&(t.j41(0,"th",13)(1,"div"),t.DNE(2,ve,2,1,"div",14),t.j41(3,"div"),t.DNE(4,Ee,3,2,"ng-container",15),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(1),t.HbH(e.title?"td-block-column":"td-block"),t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.HbH(e.title?"td-block-line":"no-layout"),t.R7$(1),t.Y8G("ngForOf",e.items)}}function ye(n,r){if(1&n&&(t.j41(0,"div",28),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.R7$(1),t.JRh(o.getVal(i,e.field))}}function xe(n,r){1&n&&t.EFF(0,"test")}function De(n,r){if(1&n&&(t.j41(0,"div",27),t.DNE(1,ye,2,1,"ng-template",9),t.DNE(2,xe,1,0,"ng-template",10),t.k0s()),2&n){const e=r.$implicit;t.HbH(e.class),t.xc7("width",e.width),t.Y8G("ngSwitch",e.field),t.R7$(2),t.Y8G("ngSwitchCase","test")}}function je(n,r){if(1&n&&(t.j41(0,"td",24)(1,"div",25),t.DNE(2,De,3,6,"div",26),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(2),t.Y8G("ngForOf",e.items)}}function we(n,r){1&n&&(t.DNE(0,Re,5,10,"th",11),t.DNE(1,je,3,5,"td",12))}function Me(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onCancelColumnWidth())}),t.EFF(1,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Te(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onSaveColumnWidth())}),t.EFF(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Ge(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.updateColumnSize())}),t.EFF(1,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a"),t.k0s()}}function $e(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onResetColumnWidth())}),t.EFF(1,"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),t.k0s()}}function Oe(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",31),t.nrm(1,"div",32),t.j41(2,"mat-menu",null,33),t.DNE(4,Me,2,0,"button",34),t.DNE(5,Te,2,0,"button",34),t.DNE(6,Ge,2,0,"button",34),t.DNE(7,$e,2,0,"button",34),t.k0s(),t.j41(8,"div",23),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()()}if(2&n){const e=t.sdS(3),i=t.XpG(3);t.R7$(1),t.Y8G("matMenuTriggerFor",e),t.R7$(3),t.Y8G("ngIf",i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!i.isTableFixedWidth)}}const Be=function(n){return["edit",n]};function Ie(n,r){if(1&n&&(t.j41(0,"td",36),t.nrm(1,"a",37),t.k0s()),2&n){const e=r.$implicit;t.R7$(1),t.Y8G("routerLink",t.eq3(1,Be,e.id))}}function Se(n,r){1&n&&(t.DNE(0,Oe,9,5,"th",29),t.DNE(1,Ie,2,3,"td",30))}function qe(n,r){if(1&n&&(t.qex(0,8),t.DNE(1,we,2,0,"ng-template",9),t.DNE(2,Se,2,0,"ng-template",10),t.bVm()),2&n){const e=r.$implicit;t.Y8G("matColumnDef",e.column)("ngSwitch",e.column),t.R7$(2),t.Y8G("ngSwitchCase","settings")}}function Pe(n,r){1&n&&t.nrm(0,"tr",38)}function Ne(n,r){1&n&&t.nrm(0,"tr",39)}const Ve=function(){return{title:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b",subtitle:"\u043a\u043b\u0438\u0435\u043d\u0442"}};let Ye=(()=>{class n extends $.X{constructor(e,i,o,s,u,l,x){super(u,l,o,s,i,x),this.customerService=e,this.sortField="name",this.trackById=(I,N)=>N.id,this.importMetods={import:this.customerService.customerImport.bind(this.customerService),import_res:this.customerService.customerImportResult.bind(this.customerService),import_con:this.customerService.customerImportConfirm.bind(this.customerService)}}load(e){return this.params=e,this.customerService.customerList(e)}loadFilterSchemaTest(){return this.customerService.customerListParam().pipe((0,R.T)(e=>e))}loadFilterSchema(){return this.customerService.customerList().pipe((0,R.T)(e=>e))}exportData(){return this.customerService.customerExport(this.params)}importData(e){return this.customerService.customerImport({body:e})}importDataConfirm(e){return this.customerService.customerImportConfirm({import_key:e.import_key})}importResult(e){return this.customerService.customerImportResult({import_key:e.import_key})}importTemplate(){return this.customerService.customerImportTemplate(this.filter)}getVal(e,i){if(!i?.includes("/"))return void 0!==e[i]?e[i]:null;const o=i?.split("/");for(const s of o){if(!e||!e.hasOwnProperty(s))return null;e=e[s]}return void 0!==e?e:null}ngOnInit(){super.ngOnInit(),this.resizeMetod="customer_list"}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(v.m),t.rXU(k.E),t.rXU(E.bZ),t.rXU(q.UG),t.rXU(F.nX),t.rXU(F.Ix),t.rXU(D.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-client"]],features:[t.Jv_([k.E]),t.Vt3],decls:9,vars:16,consts:[[1,"client-component",2,"height","calc(100vh - 56px)","display","flex","flex-direction","column"],[3,"titles","importMetods","export","exportTemplate"],[1,"table-list"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef","ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"total","count","start","limits","startChange","countChange"],[3,"matColumnDef","ngSwitch"],[3,"ngSwitchDefault"],[3,"ngSwitchCase"],["mat-header-cell","",3,"minWidth","class",4,"matHeaderCellDef"],["mat-cell","",3,"minWidth","class",4,"matCellDef"],["mat-header-cell",""],["class","td-block-title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td-block-title"],["class","column",3,"width","class",4,"ngIf"],["class","resize-handle_end",3,"mousedown",4,"ngIf"],[1,"column"],[1,"col-content",3,"ngClass","click"],["class","resize-handle",3,"mousedown",4,"ngIf"],[1,"resize-handle",3,"mousedown"],[1,"resize-handle_end",3,"mousedown"],["mat-cell",""],[1,"td-block"],["class","column",3,"width","class","ngSwitch",4,"ngFor","ngForOf"],[1,"column",3,"ngSwitch"],[1,"col-content"],["mat-header-cell","","class","setting",4,"matHeaderCellDef"],["mat-cell","","class","setting",4,"matCellDef"],["mat-header-cell","",1,"setting"],[1,"setting-link",3,"matMenuTriggerFor"],["menu","matMenu"],["class","table-settings","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"table-settings",3,"click"],["mat-cell","",1,"setting"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"app-table-sunheader-file",1),t.bIt("export",function(){return o.exportFile()})("exportTemplate",function(){return o.exportFileTemplate()}),t.k0s(),t.nrm(2,"app-table-filter"),t.j41(3,"div",2)(4,"table",3),t.DNE(5,qe,3,3,"ng-container",4),t.DNE(6,Pe,1,0,"tr",5),t.DNE(7,Ne,1,0,"tr",6),t.k0s()(),t.j41(8,"app-paginator",7),t.bIt("startChange",function(u){return o.onStartChange(u)})("countChange",function(u){return o.onCountChange(u)}),t.k0s()()),2&i&&(t.R7$(1),t.Y8G("titles",t.lJ4(15,Ve))("importMetods",o.importMetods),t.R7$(2),t.HbH(o.isResizeColumnMode?"resize":""),t.R7$(1),t.Aen(o.isTableFixedWidth?"width:100%;max-width:100%":""),t.Y8G("dataSource",o.rows),t.R7$(1),t.Y8G("ngForOf",o.columnsData),t.R7$(1),t.Y8G("matHeaderRowDef",o.column)("matHeaderRowDefSticky",!0),t.R7$(1),t.Y8G("matRowDefColumns",o.column),t.R7$(1),t.Y8G("total",o.total)("count",o.count)("start",o.start)("limits",o.limits))},dependencies:[d.YU,d.Sq,d.bT,d.ux,d.e1,d.fG,F.Wk,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,y.kk,y.fb,y.Cp,L.h,K,nt],encapsulation:2})}}return n})();function xt(n,r,e,i,o,s,u){try{var l=n[s](u),x=l.value}catch(I){return void e(I)}l.done?r(x):Promise.resolve(x).then(i,o)}function Dt(n){return function(){var r=this,e=arguments;return new Promise(function(i,o){var s=n.apply(r,e);function u(x){xt(s,i,o,u,l,"next",x)}function l(x){xt(s,i,o,u,l,"throw",x)}u(void 0)})}}var jt=m(5312),Ae=m(9350);function mt(n,r){const e="object"==typeof r;return new Promise((i,o)=>{let u,s=!1;n.subscribe({next:l=>{u=l,s=!0},error:o,complete:()=>{s?i(u):e?i(r.defaultValue):o(new Ae.G)}})})}var ht=m(7468),g=m(8141),wt=m(9437),Mt=m(8810),gt=m(174),Tt=m(9172),Gt=m(518);let ft=(()=>{class n{static{this.countriesKey="com.cargodrom.countries"}constructor(e){this.directionService=e}getCountries(){return this.directionService.directionCountry().pipe((0,Tt.Z)(this.loadCountriesFromLocalStorage()),(0,g.M)(e=>this.saveCountriesToLocalStorage(e)))}saveCountriesToLocalStorage(e){window.localStorage.setItem(n.countriesKey,JSON.stringify(e))}loadCountriesFromLocalStorage(){const e=window.localStorage.getItem(n.countriesKey);let i=[];if(!e)return[];try{i=JSON.parse(e)}catch{i=[]}return i}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(Gt.H))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ct=(()=>{class n{static{this.citiesKey="com.cargodrom.cities"}constructor(e){this.directionService=e}getCities(e){return this.directionService.directionCity({country_id:e}).pipe((0,Tt.Z)(this.loadCitiesFromLocalStorage(e)),(0,R.T)(i=>i||[]),(0,g.M)(i=>this.saveCitiesToLocalStorage(e,i)))}saveCitiesToLocalStorage(e,i){const o=this.makeLocalStorageKey(e);window.localStorage.setItem(o,JSON.stringify(i))}loadCitiesFromLocalStorage(e){const i=this.makeLocalStorageKey(e),o=window.localStorage.getItem(i);let s=[];if(!o)return[];try{s=JSON.parse(o)}catch{s=[]}return s}makeLocalStorageKey(e){return`${n.citiesKey}.${e}`}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(Gt.H))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var it=m(9631),ot=m(7157),Le=m(9323),vt=m(3541);const Xe=function(n){return{sel:n}};function He(n,r){if(1&n){const e=t.RV6();t.j41(0,"span",3),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.setScore(s+1))}),t.k0s()}2&n&&t.Y8G("ngClass",t.eq3(1,Xe,r.$implicit))}const Ue=function(n){return{disabled:n}};let We=(()=>{class n{constructor(){this.total=10,this.units="NPS",this.score=0,this.stars=new Array(this.total).fill(!1),this.isDisabled=!1,this.touched=!1,this.onChange=e=>{},this.onTouched=()=>{}}ngOnInit(){}writeValue(e){this.score=+e,this.fillStars()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}getAsText(){return`${this.score}/${this.total} ${this.units}`}setScore(e){this.isDisabled||(this.score=e,this.fillStars(),this.onChange(this.score),this.touched||(this.touched=!0,this.onTouched()))}fillStars(){for(let e=0;e<this.total;e++)this.stars[e]=e<this.score}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-rating"]],inputs:{total:"total",units:"units"},features:[t.Jv_([{provide:a.kq,multi:!0,useExisting:n}])],decls:4,vars:7,consts:[[1,"data"],[1,"stars",3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.EFF(1),t.j41(2,"span",1),t.DNE(3,He,1,3,"span",2),t.k0s()()),2&i&&(t.R7$(1),t.E5c(" ",o.score,"/",o.total," ",o.units," "),t.R7$(1),t.Y8G("ngClass",t.eq3(5,Ue,o.isDisabled)),t.R7$(1),t.Y8G("ngForOf",o.stars))},dependencies:[d.YU,d.Sq],styles:["[_nghost-%COMP%]{flex-grow:1;-webkit-user-select:none;user-select:none}.stars[_ngcontent-%COMP%]:not(.disabled) > span[_ngcontent-%COMP%]{cursor:pointer}"]})}}return n})();var $t=m(1874);const rt={id:12345678,name:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0430",name_from:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u044b",name_to:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0443"};var ze=m(5230),st=m(2765);function Ze(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",14)(1,"div",7),t.nrm(2,"span",15),t.j41(3,"span"),t.EFF(4),t.k0s()(),t.j41(5,"label")(6,"mat-checkbox",8),t.bIt("change",function(o){const u=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.allChangeForKind(u.id,o))}),t.k0s(),t.nrm(7,"i"),t.k0s()()}if(2&n){const e=r.$implicit,i=t.XpG();t.Y8G("ngClass",i.setClassIcon(e)),t.R7$(2),t.Y8G("ngClass",i.setClassIcon(e)),t.R7$(2),t.JRh(e.name),t.R7$(2),t.Y8G("checked",i.allCheckedForKind(e.id))("indeterminate",!i.allCompleteForKind(e.id))}}function Ke(n,r){if(1&n&&(t.j41(0,"mat-option",24),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function Je(n,r){if(1&n&&(t.j41(0,"mat-option",24),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function Qe(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",14)(1,"label")(2,"mat-checkbox",25),t.bIt("change",function(o){const u=t.eBV(e).$implicit,l=t.XpG().index,x=t.XpG();return t.Njj(x.changeForCountryAndKind(l,u.id,o))}),t.k0s(),t.nrm(3,"i"),t.k0s()()}if(2&n){const e=r.$implicit,i=t.XpG().index,o=t.XpG();t.Y8G("ngClass",o.setClassIcon(e)),t.R7$(2),t.Y8G("checked",o.checkedForCountryAndKind(i,e.id))}}function tn(n,r){if(1&n){const e=t.RV6();t.j41(0,"tr",16)(1,"td")(2,"div",17)(3,"mat-form-field",18)(4,"mat-select",19),t.bIt("ngModelChange",function(o){const u=t.eBV(e).$implicit;return t.Njj(u.direction_departure=o)}),t.DNE(5,Ke,2,2,"mat-option",20),t.k0s()(),t.j41(6,"mat-form-field",18)(7,"mat-select",21),t.bIt("ngModelChange",function(o){const u=t.eBV(e).$implicit;return t.Njj(u.direction_arrival=o)}),t.DNE(8,Je,2,2,"mat-option",20),t.k0s()(),t.j41(9,"span",22),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.removeDirection(s))}),t.k0s()()(),t.j41(10,"td",23)(11,"label")(12,"mat-checkbox",8),t.bIt("change",function(o){const u=t.eBV(e).index,l=t.XpG();return t.Njj(l.allChangeForCountry(u,o))}),t.k0s(),t.nrm(13,"i"),t.k0s()(),t.DNE(14,Qe,4,2,"td",9),t.k0s()}if(2&n){const e=r.$implicit,i=r.index,o=t.XpG();t.R7$(4),t.Y8G("ngModel",e.direction_departure),t.R7$(1),t.Y8G("ngForOf",o.countries),t.R7$(2),t.Y8G("ngModel",e.direction_arrival),t.R7$(1),t.Y8G("ngForOf",o.countries),t.R7$(4),t.Y8G("checked",o.allCheckedForCountry(i))("indeterminate",!o.allCompleteForCountry(i)),t.R7$(2),t.Y8G("ngForOf",o.kinds)}}let en=(()=>{class n{constructor(e,i){this.transportService=e,this.snackBar=i,this.countries=[],this.homeCountry=rt,this.type="export",this.onChange=o=>{},this.onTouched=()=>{},this._destroy$=new w.B,this.filteredCountries=[],this.transportSubKindsLength=0,this.directions=[],this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3}}ngOnInit(){this.getTransportSubKind()}ngOnChanges(e){}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}writeValue(e){console.log("writeValue",e),this.directions.push(...e),0===this.directions.length&&this.addDirection()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setClassIcon(e){let i="";return 1===e.kind_id&&(i="air"),2===e.kind_id&&(i="road"),3===e.kind_id&&(i="rail"),4===e.kind_id&&(i="sea"),i}addDirection(){this.directions.push({direction_departure:void 0,direction_arrival:void 0,direction_items:[]}),console.log(this.directions),this.valueChanged()}removeDirection(e){this.directions.splice(e,1),this.valueChanged()}allChecked(){const e=this.getCountChecked();return this.directions.length>0&&e===this.directions.length*this.transportSubKindsLength}allComplete(){const e=this.getCountChecked();return 0===e||e===this.directions.length*this.transportSubKindsLength}getCountChecked(){return this.directions.map(e=>e.direction_items.length).reduce((e,i)=>e+i,0)}allChange({checked:e}){this.directions.forEach(i=>i.direction_items=e?this.allTransportSubKinds:[]),this.valueChanged()}allCheckedForKind(e){return this.directions.length>0&&this.getCheckedForKind(e)===this.directions.length}allCompleteForKind(e){const i=this.getCheckedForKind(e);return 0===i||i===this.directions.length}getCheckedForKind(e){return this.directions.map(i=>i.direction_items?.includes(e)).reduce((i,o)=>o?i+1:i,0)}allChangeForKind(e,{checked:i}){this.directions.forEach(o=>{const s=o.direction_items;i?s?.includes(e)||s?.push(e):o.direction_items=s?.filter(u=>u!==e)}),this.valueChanged()}allCheckedForCountry(e){const i=this.directions[e].direction_items;return this.transportSubKindsLength===i?.length}allCompleteForCountry(e){const i=this.directions[e].direction_items;return i?.length===this.transportSubKindsLength||0===i?.length}allChangeForCountry(e,{checked:i}){this.directions[e].direction_items=i?this.allTransportSubKinds:[],this.valueChanged()}checkedForCountryAndKind(e,i){const o=this.directions[e].direction_items;return!!o&&o.includes(i)}changeForCountryAndKind(e,i,{checked:o}){const s=this.directions[e].direction_items;o?s?.push(i):this.directions[e].direction_items=s?.filter(u=>i!==u),this.valueChanged()}valueChanged(){const e=[...this.directions];this.onChange(e),this.onTouched()}getTransportSubKind(){this.transportService.transportSubKind().pipe((0,g.M)(e=>{if(console.log(e),!e)throw{error:{error_message:"\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{const i=e.sort((s,u)=>s.kind_id>u.kind_id?1:-1);this.kinds=i,this.transportSubKindsLength=this.kinds.length;let o=[];i.forEach(s=>{o.push(s.id)}),this.allTransportSubKinds=o,console.log(this.allTransportSubKinds)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(ze.T),t.rXU(q.UG))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-responsibility"]],inputs:{countries:"countries",homeCountry:"homeCountry",type:"type"},features:[t.Jv_([{provide:a.kq,multi:!0,useExisting:n}]),t.OA$],decls:24,vars:4,consts:[[1,"t1"],[1,"name","pm0"],[1,"table-header"],[1,"tab-title"],[1,"tab-subtitles"],[1,"subtitle"],[1,"all","bg"],[1,"l"],[1,"show-all","testclass",3,"checked","indeterminate","change"],[3,"ngClass",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"user-item"],[1,"form-block-title"],[1,"btn","v","add",3,"click"],[3,"ngClass"],[1,"ico",3,"ngClass"],[1,"row"],[1,"dir-block"],["appearance","outline",1,"ui-select","mw50"],[1,"border-none",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],[1,"btn-del",3,"click"],[1,"bg","s","e"],[3,"value"],[1,"show-all","testclass",3,"checked","change"]],template:function(i,o){1&i&&(t.j41(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1)(4,"div",2)(5,"div",3),t.EFF(6," \u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f:"),t.k0s(),t.j41(7,"label",4)(8,"div",5),t.EFF(9,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),t.k0s(),t.j41(10,"div",5),t.EFF(11,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"),t.k0s()()()(),t.j41(12,"th",6)(13,"div",7),t.EFF(14,"\u0412\u0441\u0435 \u0432\u0438\u0434\u044b"),t.k0s(),t.j41(15,"label")(16,"mat-checkbox",8),t.bIt("change",function(u){return o.allChange(u)}),t.k0s(),t.nrm(17,"i"),t.k0s()(),t.DNE(18,Ze,8,5,"th",9),t.k0s(),t.DNE(19,tn,15,7,"tr",10),t.k0s()(),t.j41(20,"div",11)(21,"div",12)(22,"span",13),t.bIt("click",function(){return o.addDirection()}),t.EFF(23,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),t.k0s()()()),2&i&&(t.R7$(16),t.Y8G("checked",o.allChecked())("indeterminate",!o.allComplete()),t.R7$(2),t.Y8G("ngForOf",o.kinds),t.R7$(1),t.Y8G("ngForOf",o.directions))},dependencies:[d.YU,d.Sq,a.BC,a.vS,f.rl,C.VO,B.wT,st.So],styles:[".mw50{max-width:45%}.btn-del{display:flex;min-width:16px;min-height:16px;background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat 50% 50%;cursor:pointer}.dir-block{display:flex;justify-content:space-between;max-width:330px}.t1 .pm0{padding:0;margin:0;vertical-align:baseline}.t1 .name .table-header{height:99px;margin:0;padding:0;display:flex;flex-direction:column;justify-content:space-between}.t1 .name .tab-title{height:50%;width:100%;margin:0;padding:0;border-bottom:1px solid #9ca6b1;text-align:center;display:flex;justify-content:center;align-items:center}.t1 .name .tab-subtitles{width:100%;height:50%;display:flex;margin:0;padding:0}.t1 .name .tab-subtitles .subtitle{width:148.5px;height:100%;margin:0;padding:0;font-size:13px;line-height:15px;font-weight:400;display:flex;justify-content:center;align-items:center}.t1 .name .tab-subtitles .subtitle:first-child{border-right:1px solid #9ca6b1;width:164px}th.all.bg+th.air{border-left:1px solid #9ca6b1}th.all.bg{border-left:1px solid #9ca6b1}th.road{background:#778490}th.air+th.road{border-left:1px solid #9ca6b1}th.road+th.rail{border-left:1px solid #9ca6b1}th.sea{background:#778490}th.rail+th.sea{border-left:1px solid #9ca6b1}.bg.s.e+td.air{border-left:1px solid #e0e5eb}.t1 .row td.road{background-color:#f7f9fc}td.air+td.road{border-left:1px solid #e0e5eb}td.road+td.rail{border-left:1px solid #e0e5eb}.t1 .row td.sea{background:#f7f9fc}td.rail+td.sea{border-left:1px solid #e0e5eb}.t1 td{padding:15px 5px 12px;text-align:center}.t1 th{padding:8px 5px 13px}.t1 .e{padding-right:10px}.t1 .s{padding-left:10px}\n"],encapsulation:2})}}return n})();const nn=function(n){return{display:n}};let on=(()=>{class n{constructor(e){this.fb=e,this.countries=[],this.unknownCountry=rt,this.homeCountry=rt,this.showResponsibilities=!1,this.onChange=i=>{},this.onTouched=()=>{},this.destroy$=new w.B,this.touched=!1,this.contactForm=this.fb.group({id:[],contractor_id:[],name:["",[a.k0.required]],position:["",[a.k0.required]],phone:["",[a.k0.required]],mobile_phone:["",[]],email:["",[a.k0.required]],skype:["",[]],whatsapp:["",[]],telegram:["",[]],wechat:["",[]],place:[""],direction:[[],[]]})}writeValue(e){this.contactForm.patchValue(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){this.contactForm.valueChanges.pipe((0,p.Q)(this.destroy$)).subscribe(e=>this.onChange(e)),this.contactForm.statusChanges.pipe((0,p.Q)(this.destroy$)).subscribe(()=>{this.touched||(this.onTouched(),this.touched=!0)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){e.homeCountryId&&"number"==typeof this.homeCountryId&&(this.homeCountry=this.countries.find(i=>i.id===this.homeCountryId)||rt)}validate(e){return e.value&&this.contactForm.valid?null:{contact:!0}}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(a.ok))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-contact-editor"]],inputs:{countries:"countries",homeCountryId:"homeCountryId"},features:[t.Jv_([{provide:a.kq,multi:!0,useExisting:n},{provide:a.cz,useExisting:n,multi:!0}]),t.OA$],decls:73,vars:7,consts:[[1,"form-block",3,"formGroup"],["type","hidden","formControlName","id"],["type","hidden","formControlName","contractor_id"],[1,"form-item-layout"],[1,"form-item"],[1,"form-label"],[1,"req"],[1,"form-data"],["type","text","name","name","formControlName","name","placeholder","\u2014","required",""],["type","text","name","position","formControlName","position","placeholder","\u2014","required",""],["type","text","name","place","formControlName","place","placeholder","\u2014"],["type","text","name","phone","formControlName","phone","placeholder","\u2014","required","","appPhoneMask",""],["type","text","name","mobile_phone","formControlName","mobile_phone","placeholder","\u2014","appPhoneMask",""],["type","text","name","email","formControlName","email","placeholder","\u2014","required",""],["type","text","name","skype","formControlName","skype","placeholder","\u2014"],["type","text","name","telegram","formControlName","telegram","placeholder","\u2014"],["type","text","name","whatsapp","formControlName","whatsapp","placeholder","\u2014"],["type","text","name","wechat","formControlName","wechat","placeholder","\u2014"],[1,"options"],[1,"lnk"],[1,"ttl"],[1,"link","show",3,"ngClass","click"],[1,"lnk-data",3,"ngStyle"],["formControlName","direction",3,"countries"]],template:function(i,o){1&i&&(t.j41(0,"form",0),t.nrm(1,"input",1)(2,"input",2),t.j41(3,"div",3)(4,"div",4)(5,"div",5),t.EFF(6,"\u0424\u0418\u041e: "),t.j41(7,"span",6),t.EFF(8,"\u2022"),t.k0s()(),t.j41(9,"div",7),t.nrm(10,"input",8),t.k0s()(),t.j41(11,"div",4)(12,"div",5),t.EFF(13,"\u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: "),t.j41(14,"span",6),t.EFF(15,"\u2022"),t.k0s()(),t.j41(16,"div",7),t.nrm(17,"input",9),t.k0s()()(),t.j41(18,"div",3)(19,"div",4)(20,"div",5),t.EFF(21,"\u043c\u0435\u0441\u0442\u043e\u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0444\u0438\u0441\u0430:"),t.k0s(),t.j41(22,"div",7),t.nrm(23,"input",10),t.k0s()(),t.j41(24,"div",4)(25,"div",5),t.EFF(26,"\u043e\u0444\u0438\u0441\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d: "),t.j41(27,"span",6),t.EFF(28,"\u2022"),t.k0s()(),t.j41(29,"div",7),t.nrm(30,"input",11),t.k0s()(),t.j41(31,"div",4)(32,"div",5),t.EFF(33,"\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d:"),t.k0s(),t.j41(34,"div",7),t.nrm(35,"input",12),t.k0s()(),t.j41(36,"div",4)(37,"div",5),t.EFF(38,"e-mail: "),t.j41(39,"span",6),t.EFF(40,"\u2022"),t.k0s()(),t.j41(41,"div",7),t.nrm(42,"input",13),t.k0s()()(),t.j41(43,"div",3)(44,"div",4)(45,"div",5),t.EFF(46,"skype:"),t.k0s(),t.j41(47,"div",7),t.nrm(48,"input",14),t.k0s()(),t.j41(49,"div",4)(50,"div",5),t.EFF(51,"telegram:"),t.k0s(),t.j41(52,"div",7),t.nrm(53,"input",15),t.k0s()(),t.j41(54,"div",4)(55,"div",5),t.EFF(56,"whatsapp:"),t.k0s(),t.j41(57,"div",7),t.nrm(58,"input",16),t.k0s()(),t.j41(59,"div",4)(60,"div",5),t.EFF(61,"WeChat:"),t.k0s(),t.j41(62,"div",7),t.nrm(63,"input",17),t.k0s()()(),t.j41(64,"div",18)(65,"div",19)(66,"div",20),t.EFF(67,"\u0417\u043e\u043d\u0430 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438"),t.k0s(),t.j41(68,"div",21),t.bIt("click",function(){return o.showResponsibilities=!o.showResponsibilities}),t.j41(69,"span"),t.EFF(70),t.k0s()()(),t.j41(71,"div",22),t.nrm(72,"app-responsibility",23),t.k0s()()()),2&i&&(t.Y8G("formGroup",o.contactForm),t.R7$(68),t.Y8G("ngClass",o.showResponsibilities?"hide":"show"),t.R7$(2),t.JRh(o.showResponsibilities?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"),t.R7$(1),t.Y8G("ngStyle",t.eq3(5,nn,o.showResponsibilities?"block":"none")),t.R7$(1),t.Y8G("countries",o.countries))},dependencies:[d.YU,d.B3,a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,vt.A,en],styles:[".options[_ngcontent-%COMP%]{margin-top:37px}"]})}}return n})();function rn(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",64),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.onContractorTypeChange(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function sn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function an(n,r){if(1&n&&(t.j41(0,"mat-option",65),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function un(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function cn(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",64),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.onCountryChange(s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function ln(n,r){1&n&&(t.j41(0,"mat-option",66),t.EFF(1,"\u0421\u0442\u0440\u0430\u043d \u043d\u0435\u0442"),t.k0s())}function dn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function _n(n,r){if(1&n&&(t.j41(0,"mat-option",65),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function pn(n,r){1&n&&(t.j41(0,"mat-option",66),t.EFF(1,"\u0413\u043e\u0440\u043e\u0434\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function mn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function hn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function gn(n,r){if(1&n&&(t.j41(0,"mat-option",65),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function fn(n,r){1&n&&(t.j41(0,"mat-option",66),t.EFF(1,"\u0422\u0438\u043f\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Cn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function vn(n,r){if(1&n&&(t.j41(0,"mat-option",65),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function kn(n,r){if(1&n&&(t.j41(0,"mat-option",65),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function bn(n,r){1&n&&(t.j41(0,"mat-option",66),t.EFF(1,"\u0422\u0438\u043f\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Fn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function En(n,r){if(1&n&&(t.j41(0,"label"),t.nrm(1,"input",67)(2,"i"),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&n){const e=r.$implicit;t.R7$(1),t.Y8G("value",e.id),t.R7$(3),t.JRh(e.name)}}function Rn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function yn(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",57)(1,"div",41),t.EFF(2),t.j41(3,"span",68),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.removeContact(s))}),t.EFF(4,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()(),t.nrm(5,"app-contact-editor",69),t.k0s()}if(2&n){const e=r.index,i=t.XpG();t.R7$(2),t.SpI("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0435 \u043b\u0438\u0446\u043e \u2116",e+1,""),t.R7$(3),t.Y8G("homeCountryId",i.contractorForm.controls.country_id.value)("countries",i.countries)("formControlName",e)}}function xn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0435 \u043b\u0438\u0446\u043e. "),t.k0s())}function Dn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",68),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.remove())}),t.j41(1,"span"),t.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()}}let Ot=(()=>{class n{constructor(e,i,o,s,u,l,x,I,N,Y){this.route=e,this.contractorService=i,this.countryService=o,this.cityService=s,this.fb=u,this.snackBar=l,this.router=x,this.location=I,this.systemService=N,this.transportService=Y,this.isNavigateAfterSave=!0,this.contractor={},this.isEditMode=!1,this.associations=[],this.contractorTypes=[],this.filteredContractorTypes=[],this.transportCarrier=[],this.filteredTransportCarrier=[],this.countries=[],this.filteredCountries=[],this.cities=[],this.filteredCitys=[],this.counterpartys=[],this.filteredCounterpartys=[],this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this.requestFormats=[],this.production=jt.c.production,this.title="",this.taxSystems=[],this.filteredTaxs=[],this._destroy$=new w.B,this.contractorForm=this.fb.group({id:[""],address:["",[]],name:["",[a.k0.required]],ind:["",[]],phone:["",[]],web:["",[]],rating_nps:[{value:0,disabled:!0},[]],user_rating_nps:[{value:0,disabled:!0},[]],contacts:u.array([],[]),association_id:[[]],tax_id:[void 0,[a.k0.required]],type_id:["",[a.k0.required]],language_id:[void 0,[a.k0.required]],country_id:["",[a.k0.required]],city_id:["",[a.k0.required]],request_format_id:["",[a.k0.required]],allow_trade:[!1],counterparty_id:["",[a.k0.required]],carrier_id:[,[]]})}ngOnInit(){this.initialization_chooseModeForm(),this.initialization_getDatas(),this.initialization_subscribeForm()}initialization_chooseModeForm(){const e=this.route.snapshot.url.map(i=>i.path);this.isEditMode="add"!==e[1],this.title=this.isEditMode?"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0435":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430"}initialization_getDatas(){var e=this;return Dt(function*(){try{yield mt((0,ht.p)([e.getContractorTypes(),e.getTransportCarrier(),e.getCountries(),e.getCounterparty(),e.getTaxSystems(),e.getAssociations(),e.getRequestFormats()])),e.isEditMode&&(yield mt(e.getContractor()))}catch(i){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:",i)}})()}initialization_subscribeForm(){this.subscribeControl_CarrierId(),this.subscribeControl_CountryId(),this.subscribeControl_CityId(),this.subscribeControl_CounterpartyId(),this.subscribeControl_TaxId()}subscribeControl_ContractorType(){this.contractorForm.get("type_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredContractorTypes=this.contractorTypes.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredContractorTypes.length&&this.filteredContractorTypes[0].name?.toLowerCase()===e.toLowerCase()&&this.contractorForm.patchValue({type_id:this.filteredContractorTypes[0].id}))})}subscribeControl_CarrierId(){this.contractorForm.get("carrier_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredTransportCarrier=this.transportCarrier.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredTransportCarrier.length&&this.filteredTransportCarrier[0].name?.toLowerCase()===e.toLowerCase()&&this.contractorForm.patchValue({carrier_id:this.filteredTransportCarrier[0].id}))})}subscribeControl_CountryId(){this.contractorForm.get("country_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredCountries=this.countries.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCountries.length&&this.filteredCountries[0].name?.toLowerCase()===e.toLowerCase()&&(this.contractorForm.patchValue({country_id:this.filteredCountries[0].id}),this.onCountryChange(this.filteredCountries[0].id)))})}subscribeControl_CityId(){this.contractorForm.get("city_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredCitys=this.cities.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCitys.length&&this.filteredCitys[0].name?.toLowerCase()===e.toLowerCase()&&this.contractorForm.patchValue({city_id:this.filteredCitys[0].id}))})}subscribeControl_CounterpartyId(){this.contractorForm.get("counterparty_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredCounterpartys=this.counterpartys.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCounterpartys.length&&this.filteredCounterpartys[0].name?.toLowerCase()===e.toLowerCase()&&this.contractorForm.patchValue({counterparty_id:this.filteredCounterpartys[0].id}))})}subscribeControl_TaxId(){this.contractorForm.get("tax_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredTaxs=this.taxSystems.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredTaxs.length&&this.filteredTaxs[0].name?.toLowerCase()===e.toLowerCase()&&this.contractorForm.patchValue({tax_id:this.filteredTaxs[0].id}))})}displayFn_TaxId(e){return this.taxSystems&&this.taxSystems.find(o=>o.id===e)?.name||""}displayFn_CounterpartyId(e){return this.counterpartys&&this.counterpartys.find(o=>o.id===e)?.name||""}displayFn_CityId(e){return this.cities&&this.cities.find(o=>o.id===e)?.name||""}displayFn_CountryId(e){return this.countries&&this.countries.find(o=>o.id===e)?.name||""}displayFn_CarrierId(e){return this.transportCarrier&&this.transportCarrier.find(o=>o.id===e)?.name||""}displayFn_TypeId(e){return this.contractorTypes&&this.contractorTypes.find(o=>o.id===e)?.name||""}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}goBack(){this.location.back()}goToContractor(e){this.router.navigate(["..",e])}removeContact(e){this.contacts.removeAt(e),this.contractorForm.markAsTouched()}addContact(){this.contacts.push(this.fb.control({contractor_id:this.contractor.id})),this.contractorForm.markAsTouched()}get contacts(){return this.contractorForm.get("contacts")}save(){if(console.log(this.contractorForm.value),!this.contractorForm.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.contractorForm.value;"number"==typeof this.contractor.id?this.updateContractor(e):this.createContractor(e)}remove(){this.snackBar.open("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430...","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",this.snackBarWithLongDuration).afterDismissed().subscribe(e=>{e.dismissedByAction||this.removeContractor()})}get assocAsText(){return(this.contractorForm.controls.association_id.value||[]).map(i=>this.associations.find(o=>o.id===i)?.name).join(", ")}onContractorTypeChange(e){e.contact_required?this.contractorForm.get("type_id").setValidators([a.k0.required]):this.contractorForm.get("type_id").setValidators([])}onCountryChange(e){this.contractorForm.controls.city_id.reset(void 0),this.getCities(e)}canSave(){return this.contractorForm.valid}updateContractor(e){console.log(e),this.contractorService.contractorUpdate({body:e}).pipe().subscribe({next:()=>{this.isNavigateAfterSave&&this.goBack(),this.snackBar.open("\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d",void 0,this.snackBarWithShortDuration)},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}createContractor(e){console.log(e),this.contractorService.contractorCreate({body:e}).pipe().subscribe({next:({id:i})=>{this.isNavigateAfterSave?this.goBack():this.goToContractor(i),this.snackBar.open("\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a \u0441\u043e\u0437\u0434\u0430\u043d",void 0,this.snackBarWithShortDuration)},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}removeContractor(){this.contractorService.contractorDelete({body:{id:this.contractor.id}}).subscribe({next:()=>{this.snackBar.open("\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a \u0443\u0434\u0430\u043b\u0435\u043d",void 0,this.snackBarWithShortDuration),this.goBack()},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}getTransportCarrier(){return this.transportService.transportCarrier().pipe((0,g.M)(e=>{this.transportCarrier=e,this.filteredTransportCarrier=e}),(0,p.Q)(this._destroy$))}getCounterparty(){return this.systemService.systemCounterparty().pipe((0,g.M)(e=>{this.filteredCounterpartys=e,this.counterpartys=e}),(0,p.Q)(this._destroy$))}getAssociations(){return this.systemService.systemAssociation().pipe((0,g.M)(e=>{this.associations=e}),(0,p.Q)(this._destroy$))}getContractorTypes(){return this.contractorService.contractorType().pipe((0,g.M)(e=>{this.contractorTypes=e,this.filteredContractorTypes=e}),(0,p.Q)(this._destroy$))}getTaxSystems(){return this.systemService.systemTaxSystem().pipe((0,g.M)(e=>{this.filteredTaxs=e||[],this.taxSystems=e||[]}),(0,p.Q)(this._destroy$))}getCountries(){return this.countryService.getCountries().pipe((0,g.M)(e=>{this.filteredCountries=e,this.countries=e}),(0,p.Q)(this._destroy$))}getRequestFormats(){return this.contractorService.contractorRequestFormat().pipe((0,g.M)(e=>{this.requestFormats=e}),(0,p.Q)(this._destroy$))}getCities(e){this.cityService.getCities(e).subscribe(i=>{this.filteredCitys=i,this.cities=i})}getContractor(){const e=Number(this.route.snapshot.paramMap.get("id"));return this.contractorService.contractorInfo({id:e}).pipe((0,g.M)(i=>{if(console.log("\u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0435\u0434\u0438\u0442\u043e\u0440\u0430",i),!i)throw{error:{error_message:"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,g.M)(i=>{this.contractor=i;const o=this.contacts;this.contractor.contacts?.forEach(s=>{s.contractor_id=i.id,o.push(this.fb.control(s))}),this.contractorForm.patchValue(this.contractor),"number"==typeof i.country_id&&this.getCities(i.country_id),this.nameForHeader=i.name}),(0,wt.W)(i=>(this.snackBar.open("\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: "+i.error.error_message,void 0,this.snackBarWithShortDuration),this.goBack(),(0,Mt.$)(()=>i))))}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(F.nX),t.rXU(gt.L),t.rXU(ft),t.rXU(Ct),t.rXU(a.ok),t.rXU(q.UG),t.rXU(F.Ix),t.rXU(d.aZ),t.rXU(D.V9),t.rXU(D.TD))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-contractor-editor"]],decls:207,vars:45,consts:[[3,"title","isEditMode","name","save","remove"],[1,"edit-form",3,"formGroup"],[1,"form-block"],[1,"form-row"],[1,"form-item-layout"],[1,"form-data","form-item","torg"],["type","checkbox","formControlName","allow_trade"],[1,"form-item"],[1,"form-label"],[1,"req"],[1,"form-data"],["appearance","outline",1,"ui-select"],["formControlName","type_id"],[3,"value","click",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","text","formControlName","carrier_id",3,"matAutocomplete"],[3,"displayWith"],["carrier_id","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","hidden","formControlName","id"],["type","text","name","name","formControlName","name","placeholder","\u2014","appFocusInitial",""],["type","text","name","ind","formControlName","ind","placeholder","\u2014"],["matInput","","type","text","formControlName","country_id",3,"matAutocomplete"],["country_id","matAutocomplete"],["disabled","",4,"ngIf"],["matInput","","type","text","formControlName","city_id",3,"matAutocomplete"],["city_id","matAutocomplete"],[1,"form-item","w50"],["type","text","name","address","formControlName","address","placeholder","\u2014"],["type","text","name","phone","formControlName","phone","placeholder","\u2014","appPhoneMask",""],["type","text","name","web","formControlName","web","placeholder","\u2014"],["formControlName","language_id","panelClass","panel-class-name"],["value","en"],["value","ru"],["matInput","","type","text","formControlName","counterparty_id",3,"matAutocomplete"],["counterparty_id","matAutocomplete"],["formControlName","association_id","multiple",""],["matInput","","type","text","formControlName","tax_id",3,"matAutocomplete"],["tax_id","matAutocomplete"],[1,"form-row","sep"],[4,"ngFor","ngForOf"],[1,"form-block-title"],[1,"form-row-sm"],[1,"title"],["name","rating_nps","formControlName","rating_nps"],[1,"link"],["href","#"],["name","user_rating_nps","formControlName","user_rating_nps"],[1,"data","flags"],[1,"plus"],[1,"minus"],[1,"neutral"],[1,"data"],[1,"win"],[1,"fail"],["formArrayName","contacts"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],[1,"btn","v","add",3,"click"],[1,"hdr","ftr"],[1,"fn"],[1,"btn","v","save",3,"click"],["class","btn v del",3,"click",4,"ngIf"],[1,"btn","v","cancel",3,"click"],[3,"value","click"],[3,"value"],["disabled",""],["type","radio","formControlName","request_format_id",3,"value"],[1,"btn","v","del",3,"click"],[3,"homeCountryId","countries","formControlName"]],template:function(i,o){if(1&i&&(t.j41(0,"app-editor-header",0),t.bIt("save",function(){return o.save()})("remove",function(){return o.remove()}),t.k0s(),t.j41(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label"),t.nrm(7,"input",6)(8,"i"),t.j41(9,"span"),t.EFF(10,"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0442\u043e\u0440\u0433\u043e\u0432"),t.k0s()()(),t.j41(11,"div",7)(12,"div",8),t.EFF(13,"\u0412\u0438\u0434 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430: "),t.j41(14,"span",9),t.EFF(15,"\u2022"),t.k0s()(),t.j41(16,"div",10)(17,"mat-form-field",11)(18,"mat-select",12),t.DNE(19,rn,2,2,"mat-option",13),t.k0s(),t.DNE(20,sn,2,0,"mat-error",14),t.k0s()()(),t.j41(21,"div",7)(22,"div",8),t.EFF(23,"\u0430\u0433\u0435\u043d\u0442: "),t.j41(24,"span",9),t.EFF(25,"\u2022"),t.k0s()(),t.j41(26,"div",10),t.nrm(27,"input",15),t.j41(28,"mat-autocomplete",16,17),t.DNE(30,an,2,2,"mat-option",18),t.k0s(),t.DNE(31,un,2,0,"mat-error",14),t.k0s()()()(),t.j41(32,"div",3),t.nrm(33,"input",19),t.j41(34,"div",4)(35,"div",7)(36,"div",8),t.EFF(37,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430: "),t.j41(38,"span",9),t.EFF(39,"\u2022"),t.k0s()(),t.j41(40,"div",10),t.nrm(41,"input",20),t.k0s()(),t.j41(42,"div",7)(43,"div",8),t.EFF(44,"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 (\u0418\u041d\u041d, Rec \u2116 \u0438 \u043f\u0440.):"),t.k0s(),t.j41(45,"div",10),t.nrm(46,"input",21),t.k0s()(),t.j41(47,"div",7)(48,"div",8),t.EFF(49,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: "),t.j41(50,"span",9),t.EFF(51,"\u2022"),t.k0s()(),t.j41(52,"div",10),t.nrm(53,"input",22),t.j41(54,"mat-autocomplete",16,23),t.DNE(56,cn,2,2,"mat-option",13),t.DNE(57,ln,2,0,"mat-option",24),t.k0s(),t.DNE(58,dn,2,0,"mat-error",14),t.k0s()(),t.j41(59,"div",7)(60,"div",8),t.EFF(61,"\u0433\u043e\u0440\u043e\u0434: "),t.j41(62,"span",9),t.EFF(63,"\u2022"),t.k0s()(),t.j41(64,"div",10),t.nrm(65,"input",25),t.j41(66,"mat-autocomplete",16,26),t.DNE(68,_n,2,2,"mat-option",18),t.DNE(69,pn,2,0,"mat-option",24),t.k0s(),t.DNE(70,mn,2,0,"mat-error",14),t.k0s()()(),t.j41(71,"div",4)(72,"div",27)(73,"div",8),t.EFF(74,"\u0430\u0434\u0440\u0435\u0441:"),t.k0s(),t.j41(75,"div",10),t.nrm(76,"input",28),t.k0s()(),t.j41(77,"div",7)(78,"div",8),t.EFF(79,"\u043e\u0431\u0449\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d:"),t.k0s(),t.j41(80,"div",10),t.nrm(81,"input",29),t.k0s()(),t.j41(82,"div",7)(83,"div",8),t.EFF(84,"\u0441\u0430\u0439\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438:"),t.k0s(),t.j41(85,"div",10),t.nrm(86,"input",30),t.k0s()()(),t.j41(87,"div",4)(88,"div",7)(89,"div",8),t.EFF(90,"\u044f\u0437\u044b\u043a \u043e\u0431\u0449\u0435\u043d\u0438\u044f: "),t.j41(91,"span",9),t.EFF(92,"\u2022"),t.k0s()(),t.j41(93,"div",10)(94,"mat-form-field",11)(95,"mat-select",31)(96,"mat-option",32),t.EFF(97,"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"),t.k0s(),t.j41(98,"mat-option",33),t.EFF(99,"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),t.k0s()(),t.DNE(100,hn,2,0,"mat-error",14),t.k0s()()(),t.j41(101,"div",7)(102,"div",8),t.EFF(103,"\u0422\u0438\u043f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430: "),t.j41(104,"span",9),t.EFF(105,"\u2022"),t.k0s()(),t.j41(106,"div",10),t.nrm(107,"input",34),t.j41(108,"mat-autocomplete",16,35),t.DNE(110,gn,2,2,"mat-option",18),t.DNE(111,fn,2,0,"mat-option",24),t.k0s(),t.DNE(112,Cn,2,0,"mat-error",14),t.k0s()(),t.j41(113,"div",7)(114,"div",8),t.EFF(115,"\u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0430\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u044f\u0445:"),t.k0s(),t.j41(116,"div",10)(117,"mat-form-field",11)(118,"mat-select",36)(119,"mat-select-trigger"),t.EFF(120),t.k0s(),t.DNE(121,vn,2,2,"mat-option",18),t.k0s()()()(),t.j41(122,"div",7)(123,"div",8),t.EFF(124,"\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u043e\u0431\u043b\u043e\u0436\u0435\u043d\u0438\u044f: "),t.j41(125,"span",9),t.EFF(126,"\u2022"),t.k0s()(),t.j41(127,"div",10),t.nrm(128,"input",37),t.j41(129,"mat-autocomplete",16,38),t.DNE(131,kn,2,2,"mat-option",18),t.DNE(132,bn,2,0,"mat-option",24),t.k0s(),t.DNE(133,Fn,2,0,"mat-error",14),t.k0s()()()(),t.j41(134,"div",39),t.EFF(135," \u0424\u043e\u0440\u043c\u0430\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "),t.j41(136,"span",9),t.EFF(137,"\u2022"),t.k0s(),t.DNE(138,En,5,2,"label",40),t.DNE(139,Rn,2,0,"mat-error",14),t.k0s()(),t.j41(140,"div",41),t.EFF(141,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),t.k0s(),t.j41(142,"div",2)(143,"div",42)(144,"div",43),t.EFF(145,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435:"),t.k0s(),t.nrm(146,"app-rating",44),t.j41(147,"div",45)(148,"a",46),t.EFF(149,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.k0s()()(),t.j41(150,"div",42)(151,"div",43),t.EFF(152,"\u041c\u043e\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430:"),t.k0s(),t.nrm(153,"app-rating",47),t.j41(154,"div",45)(155,"a",46),t.EFF(156,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.k0s()()(),t.j41(157,"div",42)(158,"div",43),t.EFF(159,"\u041e\u0442\u0437\u044b\u0432\u044b \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u043e\u043c:"),t.k0s(),t.j41(160,"div",48)(161,"span",49),t.EFF(162),t.k0s(),t.j41(163,"span",50),t.EFF(164),t.k0s(),t.j41(165,"span",51),t.EFF(166),t.k0s()(),t.j41(167,"div",45)(168,"a",46),t.EFF(169,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.k0s()()(),t.j41(170,"div",42)(171,"div",43),t.EFF(172,"\u0412\u0441\u0435\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043e\u043a:"),t.k0s(),t.j41(173,"div",52),t.EFF(174),t.k0s(),t.j41(175,"div",45)(176,"a",46),t.EFF(177,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.k0s()()(),t.j41(178,"div",42)(179,"div",43),t.EFF(180," % \u0432\u044b\u0438\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0442\u043e\u0440\u0433\u043e\u0432:"),t.k0s(),t.j41(181,"div",48)(182,"span",53),t.EFF(183),t.k0s(),t.j41(184,"span",54),t.EFF(185),t.k0s()(),t.j41(186,"div",45)(187,"a",46),t.EFF(188,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.k0s()()()(),t.j41(189,"div",55),t.DNE(190,yn,6,4,"div",56),t.j41(191,"div",57)(192,"div",41),t.EFF(193),t.j41(194,"span",58),t.bIt("click",function(){return o.addContact()}),t.EFF(195,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),t.k0s()()(),t.DNE(196,xn,2,0,"mat-error",14),t.k0s(),t.j41(197,"div",59),t.nrm(198,"div",43),t.j41(199,"div",60)(200,"button",61),t.bIt("click",function(){return o.save()}),t.j41(201,"span"),t.EFF(202,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.DNE(203,Dn,3,0,"button",62),t.j41(204,"button",63),t.bIt("click",function(){return o.goBack()}),t.j41(205,"span"),t.EFF(206,"\u043e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()()()),2&i){const s=t.sdS(29),u=t.sdS(55),l=t.sdS(67),x=t.sdS(109),I=t.sdS(130);t.Y8G("title",o.title)("isEditMode",o.isEditMode)("name",o.nameForHeader),t.R7$(1),t.Y8G("formGroup",o.contractorForm),t.R7$(18),t.Y8G("ngForOf",o.contractorTypes),t.R7$(1),t.Y8G("ngIf",o.contractorForm.controls.type_id.hasError("required")),t.R7$(7),t.Y8G("matAutocomplete",s),t.R7$(1),t.Y8G("displayWith",o.displayFn_CarrierId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredTransportCarrier),t.R7$(1),t.Y8G("ngIf",o.contractorForm.controls.carrier_id.hasError("required")),t.R7$(22),t.Y8G("matAutocomplete",u),t.R7$(1),t.Y8G("displayWith",o.displayFn_CountryId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCountries),t.R7$(1),t.Y8G("ngIf",0==o.filteredCountries.length),t.R7$(1),t.Y8G("ngIf",o.contractorForm.controls.country_id.hasError("required")),t.R7$(7),t.Y8G("matAutocomplete",l),t.R7$(1),t.Y8G("displayWith",o.displayFn_CityId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCitys),t.R7$(1),t.Y8G("ngIf",0==o.filteredCitys.length),t.R7$(1),t.Y8G("ngIf",o.contractorForm.controls.city_id.hasError("required")),t.R7$(30),t.Y8G("ngIf",o.contractorForm.controls.language_id.hasError("required")),t.R7$(7),t.Y8G("matAutocomplete",x),t.R7$(1),t.Y8G("displayWith",o.displayFn_CounterpartyId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCounterpartys),t.R7$(1),t.Y8G("ngIf",0==o.filteredCounterpartys.length),t.R7$(1),t.Y8G("ngIf",o.contractorForm.controls.counterparty_id.hasError("required")),t.R7$(8),t.SpI(" ",o.assocAsText," "),t.R7$(1),t.Y8G("ngForOf",o.associations),t.R7$(7),t.Y8G("matAutocomplete",I),t.R7$(1),t.Y8G("displayWith",o.displayFn_TaxId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredTaxs),t.R7$(1),t.Y8G("ngIf",0==o.filteredTaxs.length),t.R7$(1),t.Y8G("ngIf",o.contractorForm.controls.tax_id.hasError("required")),t.R7$(5),t.Y8G("ngForOf",o.requestFormats),t.R7$(1),t.Y8G("ngIf",o.contractorForm.controls.request_format_id.hasError("required")&&(o.contractorForm.dirty||o.contractorForm.touched)),t.R7$(23),t.JRh(o.contractor.review_positive_count),t.R7$(2),t.JRh(o.contractor.review_negative_count),t.R7$(2),t.JRh(o.contractor.review_neutral_count),t.R7$(8),t.JRh(o.contractor.order_count),t.R7$(9),t.JRh(o.contractor.trade_success_count),t.R7$(2),t.JRh(o.contractor.trade_fail_count),t.R7$(5),t.Y8G("ngForOf",o.contacts.controls),t.R7$(3),t.SpI("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0435 \u043b\u0438\u0446\u043e \u2116",o.contacts.length+1,""),t.R7$(3),t.Y8G("ngIf",(null==o.contacts.errors?null:o.contacts.errors.required)&&(o.contractorForm.touched||o.contractorForm.dirty)),t.R7$(7),t.Y8G("ngIf",o.isEditMode)}},dependencies:[d.Sq,d.bT,a.qT,a.me,a.Zm,a.Fm,a.BC,a.cb,a.j4,a.JD,a.v8,f.rl,f.TL,C.VO,C.$2,B.wT,P.$3,P.pN,it.fg,ot.S,Le.S,vt.A,We,on],styles:[".edit-form .torg{margin-top:auto;margin-bottom:auto;min-width:526px;flex-grow:0}\n"],encapsulation:2})}}return n})(),Bt=(()=>{class n{constructor(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-request-info-block"]],inputs:{request:"request"},decls:36,vars:10,consts:[[1,"request"],[1,"info-block"],[1,"title"],[1,"subtitle"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.j41(4,"div",3),t.EFF(5),t.k0s()(),t.j41(6,"div",1)(7,"div",2),t.EFF(8,"\u0414\u0430\u0442\u0430:"),t.k0s(),t.j41(9,"div",3),t.EFF(10),t.k0s()(),t.j41(11,"div",1)(12,"div",2),t.EFF(13,"\u041e\u0442\u043a\u0443\u0434\u0430:"),t.k0s(),t.j41(14,"div",3),t.EFF(15),t.k0s()(),t.j41(16,"div",1)(17,"div",2),t.EFF(18,"\u041a\u0443\u0434\u0430:"),t.k0s(),t.j41(19,"div",3),t.EFF(20),t.k0s()(),t.j41(21,"div",1)(22,"div",2),t.EFF(23,"\u0413\u0440\u0443\u0437:"),t.k0s(),t.j41(24,"div",3),t.EFF(25),t.k0s()(),t.j41(26,"div",1)(27,"div",2),t.EFF(28,"INC:"),t.k0s(),t.j41(29,"div",3),t.EFF(30),t.k0s()(),t.j41(31,"div",1)(32,"div",2),t.EFF(33,"\u0421\u0442\u0430\u0442\u0443\u0441:"),t.k0s(),t.j41(34,"div",3),t.EFF(35),t.k0s()()()),2&i&&(t.R7$(3),t.SpI("\u0417\u0430\u043f\u0440\u043e\u0441 \u2116",o.request.id,""),t.R7$(2),t.JRh(o.request.customer_name),t.R7$(5),t.JRh(o.request.time_add),t.R7$(5),t.Lme("",o.request.departure_country_name," (",o.request.departure_city_name,")"),t.R7$(5),t.Lme("",o.request.arrival_country_name," (",o.request.arrival_city_name,")"),t.R7$(5),t.JRh(o.request.cargo_text),t.R7$(5),t.JRh(o.request.incoterms_name),t.R7$(5),t.JRh(o.request.status_crm_name))},styles:[".request[_ngcontent-%COMP%]{display:flex;gap:24px;justify-content:center;height:100%}.request[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{align-content:center}.request[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:13px;text-align:left;color:#606a74;margin-bottom:5px}.request[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:15px;font-weight:700;line-height:15px;text-align:left;color:#2c3640}.request[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]:first-child{border-right:1px solid #C3CCD6}.request[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]:first-child   .title[_ngcontent-%COMP%]{font-size:26px;font-weight:700;line-height:26px;text-align:left;color:#4b66ad}.request[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]:first-child   .subtitle[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:12px;text-align:left;color:#606a74}"]})}}return n})();const jn=function(){return{title:"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0438",subtitle:"\u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a"}};function wn(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-table-sunheader-file",12),t.bIt("export",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportFile())})("exportTemplate",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportFileTemplate())}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("titles",t.lJ4(2,jn))("importMetods",e.importMetods)}}const Mn=function(){return["../../../request"]};function Tn(n,r){if(1&n&&(t.j41(0,"div",13)(1,"div",14),t.nrm(2,"div",15),t.j41(3,"div",16)(4,"div",17),t.EFF(5," \u0422\u043e\u0440\u0433\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),t.k0s(),t.j41(6,"div",18),t.EFF(7,"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u043e\u0432: ??"),t.k0s()(),t.nrm(8,"app-request-info-block",19),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("routerLink",t.lJ4(2,Mn)),t.R7$(6),t.Y8G("request",e.currentRequest)}}function Gn(n,r){if(1&n&&(t.j41(0,"div",28),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.JRh(e.title)}}function $n(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",34),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).$implicit,u=t.XpG(3).index,l=t.XpG();return t.Njj(l.startResize(o,s,l.columnsData[u]))}),t.k0s()}}function On(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",31)(1,"div",32),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG(4);return t.Njj(s.sort(o.field))}),t.EFF(2),t.k0s(),t.DNE(3,$n,1,0,"div",33),t.k0s()}if(2&n){const e=t.XpG(),i=e.$implicit,o=e.index,s=t.XpG(3).$implicit,u=t.XpG();t.HbH(i.class),t.xc7("width",i.width),t.R7$(1),t.Y8G("ngClass",u.getSortClass(i.field)),t.BMQ("title",u.getColTitle(i.field)),t.R7$(1),t.SpI(" ",i.title," "),t.R7$(1),t.Y8G("ngIf",o!==s.items.length-1)}}function Bn(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",35),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(4).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()}}function In(n,r){if(1&n&&(t.qex(0),t.DNE(1,On,4,8,"div",29),t.DNE(2,Bn,1,0,"div",30),t.bVm()),2&n){const e=r.$implicit,i=r.index,o=t.XpG(3),s=o.$implicit,u=o.index;t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.Y8G("ngIf",i==s.items.length-1&&0!==u)}}function Sn(n,r){if(1&n&&(t.j41(0,"th",25)(1,"div"),t.DNE(2,Gn,2,1,"div",26),t.j41(3,"div"),t.DNE(4,In,3,2,"ng-container",27),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(1),t.HbH(e.title?"td-block-column":"td-block"),t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.HbH(e.title?"td-block-line":"no-layout"),t.R7$(1),t.Y8G("ngForOf",e.items)}}function qn(n,r){if(1&n&&t.EFF(0),2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.JRh(o.getVal(i,e.field))}}function Pn(n,r){if(1&n&&(t.qex(0),t.EFF(1," \u0422\u0435\u043b.: "),t.j41(2,"span",40),t.EFF(3),t.k0s(),t.EFF(4,", E-mail.: "),t.j41(5,"span",40),t.EFF(6),t.k0s(),t.bVm()),2&n){const e=r.$implicit;t.R7$(3),t.JRh(e.phone),t.R7$(3),t.JRh(e.email)}}function Nn(n,r){if(1&n&&t.DNE(0,Pn,7,2,"ng-container",27),2&n){const e=t.XpG(2).$implicit;t.Y8G("ngForOf",e.contacts)}}function Vn(n,r){if(1&n&&t.nrm(0,"span",42),2&n){const e=r.$implicit,i=t.XpG(6);t.Y8G("ngClass",i.getSpecializationClass(e))}}function Yn(n,r){if(1&n&&t.DNE(0,Vn,1,1,"span",41),2&n){const e=t.XpG(2).$implicit;t.Y8G("ngForOf",e.specialization)}}function An(n,r){1&n&&(t.j41(0,"div"),t.qSk(),t.j41(1,"svg",44),t.nrm(2,"path",45),t.k0s()())}function Ln(n,r){1&n&&(t.j41(0,"div"),t.qSk(),t.j41(1,"svg",44),t.nrm(2,"path",46),t.k0s()())}function Xn(n,r){if(1&n&&(t.DNE(0,An,3,0,"div",43),t.DNE(1,Ln,3,0,"div",43)),2&n){const e=t.XpG(2).$implicit;t.Y8G("ngIf","text"===e.request_format_id),t.R7$(1),t.Y8G("ngIf","invite"===e.request_format_id)}}function Hn(n,r){if(1&n&&(t.j41(0,"div",39),t.DNE(1,qn,1,1,"ng-template",21),t.DNE(2,Nn,1,1,"ng-template",22),t.DNE(3,Yn,1,1,"ng-template",22),t.DNE(4,Xn,2,2,"ng-template",22),t.k0s()),2&n){const e=r.$implicit;t.HbH(e.class),t.xc7("width",e.width),t.Y8G("ngSwitch",e.field),t.R7$(2),t.Y8G("ngSwitchCase","contact_info_text"),t.R7$(1),t.Y8G("ngSwitchCase","specialization_text"),t.R7$(1),t.Y8G("ngSwitchCase","foz")}}function Un(n,r){if(1&n&&(t.j41(0,"td",36)(1,"div",37),t.DNE(2,Hn,5,8,"div",38),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("width",e.width),t.R7$(2),t.Y8G("ngForOf",e.items)}}function Wn(n,r){1&n&&(t.DNE(0,Sn,5,10,"th",23),t.DNE(1,Un,3,5,"td",24))}function zn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onCancelColumnWidth())}),t.EFF(1,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Zn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onSaveColumnWidth())}),t.EFF(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Kn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.updateColumnSize())}),t.EFF(1,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a"),t.k0s()}}function Jn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onResetColumnWidth())}),t.EFF(1,"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),t.k0s()}}function Qn(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",49),t.nrm(1,"div",50),t.j41(2,"mat-menu",null,51),t.DNE(4,zn,2,0,"button",52),t.DNE(5,Zn,2,0,"button",52),t.DNE(6,Kn,2,0,"button",52),t.DNE(7,Jn,2,0,"button",52),t.k0s(),t.j41(8,"div",35),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()()}if(2&n){const e=t.sdS(3),i=t.XpG(2).$implicit,o=t.XpG();t.HbH(i.class),t.xc7("width",i.width),t.R7$(1),t.Y8G("matMenuTriggerFor",e),t.R7$(3),t.Y8G("ngIf",o.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",o.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!o.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!o.isTableFixedWidth)}}const ti=function(n){return["edit",n]};function ei(n,r){if(1&n&&t.nrm(0,"a",56),2&n){const e=t.XpG().$implicit;t.Y8G("routerLink",t.eq3(1,ti,e.id))}}function ni(n,r){if(1&n&&(t.j41(0,"td",54)(1,"div",37)(2,"div",31),t.DNE(3,ei,1,3,"a",55),t.k0s()()()),2&n){const e=t.XpG(2).$implicit,i=t.XpG();t.HbH(e.class),t.xc7("width",e.width),t.R7$(3),t.Y8G("ngIf",!i.isBiddingMode)}}function ii(n,r){1&n&&(t.DNE(0,Qn,9,9,"th",47),t.DNE(1,ni,4,5,"td",48))}function oi(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",25)(1,"div",37)(2,"div",59)(3,"label")(4,"mat-checkbox",60),t.bIt("change",function(o){t.eBV(e);const s=t.XpG(3);return t.Njj(s.updateAllContractorSelectRequest(o))}),t.k0s()()()()()}if(2&n){const e=t.XpG(3);t.R7$(4),t.Y8G("checked",e.isAllCheck())("indeterminate",e.isIndeterminate())("ngClass",e.isIndeterminate()?"mat-mdc-checkbox-indeterminate":"")}}function ri(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",36)(1,"div",37)(2,"div",59)(3,"label")(4,"mat-checkbox",61),t.bIt("change",function(o){const u=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.updateContractorSelectRequest(u.id,o))}),t.k0s()()()()()}if(2&n){const e=r.$implicit,i=t.XpG(3);t.R7$(4),t.Y8G("checked",!(!i.isCheck(e.id)&&!e.bidding_send))("disabled",e.bidding_send)}}function si(n,r){1&n&&(t.DNE(0,oi,5,3,"th",57),t.DNE(1,ri,5,2,"td",58))}function ai(n,r){if(1&n&&(t.qex(0,20),t.DNE(1,Wn,2,0,"ng-template",21),t.DNE(2,ii,2,0,"ng-template",22),t.DNE(3,si,2,0,"ng-template",22),t.bVm()),2&n){const e=r.$implicit;t.Y8G("matColumnDef",e.column)("ngSwitch",e.column),t.R7$(2),t.Y8G("ngSwitchCase","settings"),t.R7$(1),t.Y8G("ngSwitchCase","checkbox")}}function ui(n,r){1&n&&t.nrm(0,"tr",62)}function ci(n,r){1&n&&t.nrm(0,"tr",63)}function li(n,r){if(1&n&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.err.error.error_message_description)}}function di(n,r){if(1&n&&(t.j41(0,"h1",64),t.EFF(1,"\u041f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u0440\u0433\u0438?"),t.k0s(),t.j41(2,"div",65),t.DNE(3,li,2,1,"p",43),t.k0s(),t.j41(4,"div",66)(5,"button",67),t.EFF(6," \u041d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u0440\u0433\u0438 "),t.k0s(),t.j41(7,"button",68),t.EFF(8," \u041e\u0422\u041c\u0415\u041d\u0410 "),t.k0s()()),2&n){const e=r.$implicit;t.R7$(3),t.Y8G("ngIf",e.err.error),t.R7$(2),t.Y8G("mat-dialog-close",1)}}function _i(n,r){1&n&&(t.j41(0,"h1",64),t.EFF(1,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"),t.k0s(),t.j41(2,"div",65)(3,"p"),t.EFF(4,"\u0414\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439, \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u043e\u0432 \u0438\u043b\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0437\u0430\u043f\u0440\u043e\u0441\u0430."),t.k0s()(),t.j41(5,"div",66)(6,"button",67),t.EFF(7," \u041f\u043e\u0434\u0442\u0432\u0435\u0434\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434 "),t.k0s(),t.j41(8,"button",68),t.EFF(9," \u041e\u0422\u041c\u0415\u041d\u0410 "),t.k0s()()),2&n&&(t.R7$(6),t.Y8G("mat-dialog-close",1))}let It=(()=>{class n extends $.X{constructor(e,i,o,s,u,l,x,I){super(u,l,o,s,x,I),this.contractorService=e,this.requestService=i,this.sortField="name",this.trackById=(N,Y)=>Y.id,this.importMetods={import:this.contractorService.contractorImport.bind(this.contractorService),import_res:this.contractorService.contractorImportResult.bind(this.contractorService),import_con:this.contractorService.contractorImportConfirm.bind(this.contractorService),test:this.contractorService.contractorList.bind(this.contractorService)},this.registerAlias("trade_rating",["trade_count","trade_success_count","trade_fail_count"])}ngOnInit(){super.ngOnInit(),this.resizeMetod="contractor_list"}load(e){return this.params=e,console.log(123),this.importMetods.test(e)}loadFilterSchemaTest(){return this.contractorService.contractorListParam().pipe((0,R.T)(e=>e))}exportData(e){return this.requestService.requestExport(e)}importData(e){return this.contractorService.contractorImport({body:e})}importDataConfirm(e){return this.contractorService.contractorImportConfirm({import_key:e.import_key})}importResult(e){return this.contractorService.contractorImportResult({import_key:e.import_key})}importTemplate(){return this.contractorService.contractorImportTemplate(this.filter)}requestContractorSelectGet(e){return this.requestService.requestContractorSelectGet({id:e})}requestContractorSelectUpdate(e){return this.requestService.requestContractorSelectUpdate({body:e})}requestInfo(e){return this.requestService.requestInfo({id:e})}requestSaveBidding(e){return this.requestService.requestSaveBidding({body:e})}getVal(e,i){if(!i?.includes("/"))return void 0!==e[i]?e[i]:null;const o=i?.split("/");for(const s of o){if(!e||!e.hasOwnProperty(s))return null;e=e[s]}return void 0!==e?e:null}getSpecializationClass(e){let i="";return 1===e&&(i="avia"),2===e&&(i="road"),3===e&&(i="rw"),4===e&&(i="sea"),i}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(gt.L),t.rXU(D.By),t.rXU(E.bZ),t.rXU(q.UG),t.rXU(F.nX),t.rXU(F.Ix),t.rXU(k.E),t.rXU(D.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-contractor"]],features:[t.Jv_([k.E]),t.Vt3],decls:14,vars:17,consts:[[1,"contractor-component",2,"height","calc(100vh - 56px)","display","flex","flex-direction","column"],[3,"titles","importMetods","export","exportTemplate",4,"ngIf"],["class","subheader",4,"ngIf"],[3,"isBiddingMode","quantityContractors","saveBidding"],[1,"table-list"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef","ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"total","count","start","limits","startChange","countChange"],["saveBiddingRef",""],["translateRef",""],[3,"titles","importMetods","export","exportTemplate"],[1,"subheader"],[1,"main_page_info"],[1,"back",3,"routerLink"],[1,"rate_info"],[1,"title"],[1,"subtitle"],[3,"request"],[3,"matColumnDef","ngSwitch"],[3,"ngSwitchDefault"],[3,"ngSwitchCase"],["mat-header-cell","",3,"minWidth","class",4,"matHeaderCellDef"],["mat-cell","",3,"width","class",4,"matCellDef"],["mat-header-cell",""],["class","td-block-title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td-block-title"],["class","column",3,"width","class",4,"ngIf"],["class","resize-handle_end",3,"mousedown",4,"ngIf"],[1,"column"],[1,"col-content",3,"ngClass","click"],["class","resize-handle",3,"mousedown",4,"ngIf"],[1,"resize-handle",3,"mousedown"],[1,"resize-handle_end",3,"mousedown"],["mat-cell",""],[1,"td-block"],["class","column",3,"width","class","ngSwitch",4,"ngFor","ngForOf"],[1,"column",3,"ngSwitch"],[1,"bk"],["class","type",3,"ngClass",4,"ngFor","ngForOf"],[1,"type",3,"ngClass"],[4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 12H16V13H0V12ZM0 16H11V15H0V16ZM10.7365 6.00769L11.3035 7H16V6H10.7321L10.7365 6.00769ZM9.58923 4H16V3H9.01782L9.58923 4ZM8 9H0V10H16V9H11.4464H8ZM1.15173 7H0L4 0L8 7H6.84827L6.27679 6H1.72314L1.15173 7ZM3.99994 2.01556L2.29456 5H5.70538L3.99994 2.01556Z","fill","#DB563B"],["d","M6.91052 9.6228L9.55597 9.1297L16 2.18451L13.6219 0L7.17786 6.94513L6.91052 9.6228ZM8.13953 7.37891L13.6782 1.40955L14.5834 2.24109L9.04773 8.20721L8.03802 8.39545L8.13953 7.37891ZM3 15H13V16H3V15ZM15 6.20276L16 5.125V13H0V3H8.10999L7.18219 4H1V12H15V6.20276Z","fill","#DB563B"],["mat-header-cell","","class","setting",3,"width","class",4,"matHeaderCellDef"],["mat-cell","","class","setting",3,"width","class",4,"matCellDef"],["mat-header-cell","",1,"setting"],[1,"setting-link",3,"matMenuTriggerFor"],["menu","matMenu"],["class","table-settings","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"table-settings",3,"click"],["mat-cell","",1,"setting"],["class","link-pic link-edit ico ico-pencil fn-link","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"routerLink",4,"ngIf"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[1,"column","w10"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","disabled","change"],["mat-header-row",""],["mat-row",""],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","",1,"save",3,"mat-dialog-close"],["mat-button","","mat-dialog-close","",1,"cancel"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.DNE(1,wn,1,3,"app-table-sunheader-file",1),t.DNE(2,Tn,9,3,"div",2),t.j41(3,"app-table-filter",3),t.bIt("saveBidding",function(){return o.saveContractorSelectRequest()}),t.k0s(),t.j41(4,"div",4)(5,"table",5),t.DNE(6,ai,4,4,"ng-container",6),t.DNE(7,ui,1,0,"tr",7),t.DNE(8,ci,1,0,"tr",8),t.k0s()(),t.j41(9,"app-paginator",9),t.bIt("startChange",function(u){return o.onStartChange(u)})("countChange",function(u){return o.onCountChange(u)}),t.k0s()(),t.DNE(10,di,9,2,"ng-template",null,10,t.C5r),t.DNE(12,_i,10,1,"ng-template",null,11,t.C5r)),2&i&&(t.R7$(1),t.Y8G("ngIf",!o.isBiddingMode),t.R7$(1),t.Y8G("ngIf",o.isBiddingMode),t.R7$(1),t.Y8G("isBiddingMode",o.isBiddingMode)("quantityContractors",o.quantityContractors),t.R7$(1),t.HbH(o.isResizeColumnMode?"resize":""),t.R7$(1),t.Aen(o.isTableFixedWidth?"width:100%;max-width:100%":""),t.Y8G("dataSource",o.rows),t.R7$(1),t.Y8G("ngForOf",o.columnsData),t.R7$(1),t.Y8G("matHeaderRowDef",o.column)("matHeaderRowDefSticky",!0),t.R7$(1),t.Y8G("matRowDefColumns",o.column),t.R7$(1),t.Y8G("total",o.total)("count",o.count)("start",o.start)("limits",o.limits))},dependencies:[d.YU,d.Sq,d.bT,d.ux,d.e1,d.fG,F.Wk,E.tx,E.BI,E.Yi,E.E7,st.So,j.$z,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,y.kk,y.fb,y.Cp,L.h,K,Bt,nt],styles:["th.setting[_ngcontent-%COMP%]{position:relative}td.setting[_ngcontent-%COMP%]{text-align:center}.setting-link[_ngcontent-%COMP%]{width:100%;height:100%;background:#606A74 url(pic-dot-white-h.a752ec8a4eee949b.svg) center no-repeat;cursor:pointer;position:absolute;left:0;top:0}.link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center;display:inline-block;width:24px;height:24px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.subheader[_ngcontent-%COMP%]   .placer[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-filter[_ngcontent-%COMP%]{display:none}.main_page_info[_ngcontent-%COMP%]{display:flex}.main_page_info[_ngcontent-%COMP%]   .rate_info[_ngcontent-%COMP%]{border-right:1px solid #C3CCD6;margin-right:24px}.main_page_info[_ngcontent-%COMP%]   .rate_info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#db563b;font-size:26px;font-weight:700;line-height:26px;text-align:left;margin-bottom:5px}.main_page_info[_ngcontent-%COMP%]   .rate_info[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:12px;text-align:left;color:#606a74}.subheader[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{margin-right:15px;cursor:pointer;background:url(pic-backto.710253347273d96f.svg) no-repeat 50% 50%;width:13px}"]})}}return n})(),pi=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(i,o){1&i&&(t.j41(0,"p"),t.EFF(1,"dashboard works! \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443!"),t.k0s())}})}}return n})(),mi=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-guide"]],decls:2,vars:0,template:function(i,o){1&i&&(t.j41(0,"p"),t.EFF(1,"guide works!"),t.k0s())}})}}return n})();function hi(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",17),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(5);return t.Njj(u.sort(s.field))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit,i=t.XpG(5);t.HbH(e.class),t.xc7("width",e.width),t.Y8G("ngClass",i.getSortClass(e.field)),t.BMQ("title",i.getColTitle(e.field)),t.R7$(1),t.SpI(" ",e.title," ")}}function gi(n,r){if(1&n&&(t.j41(0,"div",15),t.DNE(1,hi,2,7,"div",16),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.Y8G("ngForOf",e.items)}}function fi(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",17),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(5);return t.Njj(u.sort(s.field))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit,i=t.XpG(5);t.HbH(e.class),t.xc7("width",e.width),t.Y8G("ngClass",i.getSortClass(e.field)),t.BMQ("title",i.getColTitle(e.field)),t.R7$(1),t.SpI(" ",e.title," ")}}function Ci(n,r){if(1&n&&(t.j41(0,"div",18)(1,"div",19),t.EFF(2),t.k0s(),t.j41(3,"div",20),t.DNE(4,fi,2,7,"div",16),t.k0s()()),2&n){const e=t.XpG(3).$implicit;t.R7$(2),t.JRh(e.title),t.R7$(2),t.Y8G("ngForOf",e.items)}}function vi(n,r){if(1&n&&(t.j41(0,"th",12),t.DNE(1,gi,2,1,"div",13),t.DNE(2,Ci,5,2,"div",14),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("width",e.width),t.R7$(1),t.Y8G("ngIf",!e.title),t.R7$(1),t.Y8G("ngIf",e.title)}}function ki(n,r){if(1&n&&(t.j41(0,"div",24),t.EFF(1),t.k0s()),2&n){const e=r.$implicit,i=t.XpG(2).$implicit,o=t.XpG(3);t.HbH(e.class),t.xc7("width",e.width),t.R7$(1),t.SpI(" ",o.getVal(i,e.field)," ")}}function bi(n,r){if(1&n&&(t.j41(0,"div",15),t.DNE(1,ki,2,5,"div",23),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.Y8G("ngForOf",e.items)}}function Fi(n,r){if(1&n&&(t.j41(0,"div",24),t.EFF(1),t.k0s()),2&n){const e=r.$implicit,i=t.XpG(2).$implicit,o=t.XpG(3);t.HbH(e.class),t.xc7("width",e.width),t.R7$(1),t.SpI(" ",o.getVal(i,e.field)," ")}}function Ei(n,r){if(1&n&&(t.j41(0,"div",20),t.DNE(1,Fi,2,5,"div",23),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.Y8G("ngForOf",e.items)}}function Ri(n,r){if(1&n&&(t.j41(0,"td",21),t.DNE(1,bi,2,1,"div",13),t.DNE(2,Ei,2,1,"div",22),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("width",e.width),t.R7$(1),t.Y8G("ngIf",!e.title),t.R7$(1),t.Y8G("ngIf",e.title)}}function yi(n,r){1&n&&(t.DNE(0,vi,3,6,"th",10),t.DNE(1,Ri,3,6,"td",11))}function xi(n,r){1&n&&(t.j41(0,"th",27),t.nrm(1,"div",28),t.k0s())}const Di=function(n){return["edit",n]};function ji(n,r){if(1&n&&(t.j41(0,"td",29),t.nrm(1,"a",30),t.k0s()),2&n){const e=r.$implicit;t.R7$(1),t.Y8G("routerLink",t.eq3(1,Di,e.id))}}function wi(n,r){1&n&&(t.DNE(0,xi,2,0,"th",25),t.DNE(1,ji,2,3,"td",26))}function Mi(n,r){if(1&n&&(t.qex(0,7),t.DNE(1,yi,2,0,"ng-template",8),t.DNE(2,wi,2,0,"ng-template",9),t.bVm()),2&n){const e=r.$implicit;t.Y8G("matColumnDef",e.column)("ngSwitch",e.column),t.R7$(2),t.Y8G("ngSwitchCase","settings")}}function Ti(n,r){1&n&&t.nrm(0,"tr",31)}function Gi(n,r){1&n&&t.nrm(0,"tr",32)}let $i=(()=>{class n extends $.X{constructor(e,i,o,s,u,l,x){super(u,l,o,s,i,x),this.orderService=e,this.sortField="name",this.trackById=(I,N)=>N.id}load(e){return this.params=e,this.orderService.orderList(e)}loadFilterSchemaTest(){return this.orderService.orderListParam().pipe((0,R.T)(e=>e))}getVal(e,i){if(!i?.includes("/"))return void 0!==e[i]?e[i]:null;const o=i?.split("/");for(const s of o){if(!e||!e.hasOwnProperty(s))return null;e=e[s]}return void 0!==e?e:null}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(D.QE),t.rXU(k.E),t.rXU(E.bZ),t.rXU(q.UG),t.rXU(F.nX),t.rXU(F.Ix),t.rXU(D.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-order"]],features:[t.Jv_([k.E]),t.Vt3],decls:8,vars:9,consts:[[3,"importMetods","export","exportTemplate"],[1,"table-list"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef","ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"total","count","start","limits","startChange","countChange"],[3,"matColumnDef","ngSwitch"],[3,"ngSwitchDefault"],[3,"ngSwitchCase"],["mat-header-cell","",3,"width","class",4,"matHeaderCellDef"],["mat-cell","",3,"width","class",4,"matCellDef"],["mat-header-cell",""],["class","td-block",4,"ngIf"],["class","td-block-column",4,"ngIf"],[1,"td-block"],["class","column",3,"ngClass","width","class","click",4,"ngFor","ngForOf"],[1,"column",3,"ngClass","click"],[1,"td-block-column"],[1,"td-block-title"],[1,"td-block-line"],["mat-cell",""],["class","td-block-line",4,"ngIf"],["class","column",3,"width","class",4,"ngFor","ngForOf"],[1,"column"],["mat-header-cell","","class","setting",4,"matHeaderCellDef"],["mat-cell","","class","setting",4,"matCellDef"],["mat-header-cell","",1,"setting"],[1,"setting-link"],["mat-cell","",1,"setting"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.j41(0,"app-table-sunheader-file",0),t.bIt("export",function(){return o.exportFile()})("exportTemplate",function(){return o.exportFileTemplate()}),t.k0s(),t.nrm(1,"app-table-filter"),t.j41(2,"div",1)(3,"table",2),t.DNE(4,Mi,3,3,"ng-container",3),t.DNE(5,Ti,1,0,"tr",4),t.DNE(6,Gi,1,0,"tr",5),t.k0s()(),t.j41(7,"app-paginator",6),t.bIt("startChange",function(u){return o.onStartChange(u)})("countChange",function(u){return o.onCountChange(u)}),t.k0s()),2&i&&(t.Y8G("importMetods",o.importMetods),t.R7$(3),t.Y8G("dataSource",o.rows),t.R7$(1),t.Y8G("ngForOf",o.columnsData),t.R7$(1),t.Y8G("matHeaderRowDef",o.column),t.R7$(1),t.Y8G("matRowDefColumns",o.column),t.R7$(1),t.Y8G("total",o.total)("count",o.count)("start",o.start)("limits",o.limits))},dependencies:[d.YU,d.Sq,d.bT,d.ux,d.e1,d.fG,F.Wk,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,L.h,K,nt],encapsulation:2})}}return n})(),Oi=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-report"]],decls:2,vars:0,template:function(i,o){1&i&&(t.j41(0,"p"),t.EFF(1,"report works!"),t.k0s())}})}}return n})();var St=m(345);function Bi(n,r){if(1&n&&(t.j41(0,"div",16),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.JRh(e.title)}}function Ii(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",22),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).$implicit,u=t.XpG(3).index,l=t.XpG();return t.Njj(l.startResize(o,s,l.columnsData[u]))}),t.k0s()}}function Si(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",19)(1,"div",20),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG(4);return t.Njj(s.sort(o.field))}),t.EFF(2),t.k0s(),t.DNE(3,Ii,1,0,"div",21),t.k0s()}if(2&n){const e=t.XpG(),i=e.$implicit,o=e.index,s=t.XpG(3).$implicit,u=t.XpG();t.HbH(i.class),t.xc7("width","vertically"==s.class?s.items[s.items.length-1].width:i.width),t.R7$(1),t.Y8G("ngClass",u.getSortClass(i.field)),t.BMQ("title",u.getColTitle(i.field)),t.R7$(1),t.SpI(" ",i.title," "),t.R7$(1),t.Y8G("ngIf",o!==s.items.length-1&&s.items[o+1].title)}}function qi(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",23),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(4).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()}}function Pi(n,r){if(1&n&&(t.qex(0),t.DNE(1,Si,4,8,"div",17),t.DNE(2,qi,1,0,"div",18),t.bVm()),2&n){const e=r.$implicit,i=r.index,o=t.XpG(3),s=o.$implicit,u=o.index;t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.Y8G("ngIf",i==s.items.length-1&&0!==u)}}function Ni(n,r){if(1&n&&(t.j41(0,"th",13)(1,"div"),t.DNE(2,Bi,2,1,"div",14),t.j41(3,"div"),t.DNE(4,Pi,3,2,"ng-container",15),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(1),t.HbH(e.title?"td-block-column":"td-block"),t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.HbH(e.title?"td-block-line":"no-layout"),t.R7$(1),t.Y8G("ngForOf",e.items)}}function Vi(n,r){if(1&n&&t.nrm(0,"div",28),2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.Y8G("innerHTML",o.getVal(i,e.field),t.npT)}}function Yi(n,r){if(1&n){const e=t.RV6();t.j41(0,"a",29),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG(3);return t.Njj(s.navigateOnDetails(o.id,o.tabs[0]))}),t.EFF(1),t.k0s()}if(2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.R7$(1),t.SpI(" ",o.getVal(i,e.field)," ")}}function Ai(n,r){if(1&n&&(t.j41(0,"div",30),t.nrm(1,"div",31)(2,"div",31)(3,"div",31),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngClass",e.kso.k.active?"":"red"),t.R7$(1),t.Y8G("ngClass",e.kso.s.active?"":"red"),t.R7$(1),t.Y8G("ngClass",e.kso.o.active?"":"red")}}function Li(n,r){if(1&n){const e=t.RV6();t.j41(0,"a",29),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG(3);return t.Njj(s.navigateOnClient(o.customer_id))}),t.EFF(1),t.k0s()}if(2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.R7$(1),t.SpI(" ",o.getVal(i,e.field)," ")}}function Xi(n,r){if(1&n&&t.nrm(0,"div"),2&n){const e=t.XpG(2).$implicit,i=t.XpG(3);t.HbH(i.getTypeClass(e.transport_kind_id))}}function Hi(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",34),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(3).$implicit,l=t.XpG(3);return u.status_crm_id=s.id,t.Njj(l.updateRequest(u))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.xc7("color",e.color),t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Ui(n,r){if(1&n&&(t.j41(0,"mat-select",32),t.DNE(1,Hi,2,4,"mat-option",33),t.k0s()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(3);t.xc7("color",i.tableRequest_returnColorCrmStatus(e.status_crm_id)),t.Y8G("value",e.status_crm_id),t.R7$(1),t.Y8G("ngForOf",i.requestCrmStatuses)}}function Wi(n,r){if(1&n&&(t.j41(0,"div",27),t.DNE(1,Vi,1,1,"ng-template",9),t.DNE(2,Yi,2,1,"ng-template",10),t.DNE(3,Ai,4,3,"ng-template",10),t.DNE(4,Li,2,1,"ng-template",10),t.DNE(5,Xi,1,2,"ng-template",10),t.DNE(6,Ui,2,4,"ng-template",10),t.k0s()),2&n){const e=r.$implicit,i=t.XpG(3).$implicit;t.HbH(e.class),t.xc7("width","vertically"==i.class?i.items[i.items.length-1].width:e.width),t.Y8G("ngSwitch",e.field),t.R7$(2),t.Y8G("ngSwitchCase","id"),t.R7$(1),t.Y8G("ngSwitchCase","kso"),t.R7$(1),t.Y8G("ngSwitchCase","customer_name"),t.R7$(1),t.Y8G("ngSwitchCase","transport_kind_id"),t.R7$(1),t.Y8G("ngSwitchCase","status_crm_name")}}function zi(n,r){if(1&n&&(t.j41(0,"td",24)(1,"div",25),t.DNE(2,Wi,7,10,"div",26),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(2),t.Y8G("ngForOf",e.items)}}function Zi(n,r){1&n&&(t.DNE(0,Ni,5,10,"th",11),t.DNE(1,zi,3,5,"td",12))}function Ki(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onCancelColumnWidth())}),t.EFF(1,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Ji(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onSaveColumnWidth())}),t.EFF(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Qi(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.updateColumnSize())}),t.EFF(1,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a"),t.k0s()}}function to(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onResetColumnWidth())}),t.EFF(1,"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),t.k0s()}}function eo(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",37),t.nrm(1,"div",38),t.j41(2,"mat-menu",null,39),t.DNE(4,Ki,2,0,"button",40),t.DNE(5,Ji,2,0,"button",40),t.DNE(6,Qi,2,0,"button",40),t.DNE(7,to,2,0,"button",40),t.k0s(),t.j41(8,"div",23),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()()}if(2&n){const e=t.sdS(3),i=t.XpG(3);t.R7$(1),t.Y8G("matMenuTriggerFor",e),t.R7$(3),t.Y8G("ngIf",i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!i.isTableFixedWidth)}}const no=function(n){return["edit",n]};function io(n,r){if(1&n&&(t.j41(0,"td",42),t.nrm(1,"a",43),t.k0s()),2&n){const e=r.$implicit;t.R7$(1),t.Y8G("routerLink",t.eq3(1,no,e.id))}}function oo(n,r){1&n&&(t.DNE(0,eo,9,5,"th",35),t.DNE(1,io,2,3,"td",36))}function ro(n,r){if(1&n&&(t.qex(0,8),t.DNE(1,Zi,2,0,"ng-template",9),t.DNE(2,oo,2,0,"ng-template",10),t.bVm()),2&n){const e=r.$implicit;t.Y8G("matColumnDef",e.column)("ngSwitch",e.column),t.R7$(2),t.Y8G("ngSwitchCase","settings")}}function so(n,r){1&n&&t.nrm(0,"tr",44)}function ao(n,r){1&n&&t.nrm(0,"tr",45)}const uo=function(){return{title:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b",subtitle:"\u0437\u0430\u043f\u0440\u043e\u0441"}};let co=(()=>{class n extends $.X{constructor(e,i,o,s,u,l,x,I){super(l,x,s,u,o,I),this.sanitizer=e,this.requestService=i,this.sortField="id",this.trackById=(N,Y)=>Y.id,this.importMetods={import:this.requestService.requestImport.bind(this.requestService),import_res:this.requestService.requestImportResult.bind(this.requestService),import_con:this.requestService.requestImportConfirm.bind(this.requestService)}}ngOnInit(){super.ngOnInit(),this.resizeMetod="request_list"}load(e){return this.requestService.requestList(e)}loadFilterSchemaTest(){return this.requestService.requestListParam().pipe((0,R.T)(e=>e))}exportData(e){return this.requestService.requestExport(e)}importData(e){return this.requestService.requestImport({body:e})}importDataConfirm(e){return this.requestService.requestImportConfirm({import_key:e.import_key})}importResult(e){return this.requestService.requestImportResult({import_key:e.import_key})}importTemplate(){return this.requestService.requestImportTemplate(this.filter)}getVal(e,i){if(!i?.includes("/"))return this.transformClientValue(void 0!==e[i]?e[i]:null,e);const o=i?.split("/");for(const u of o){if(!e||!e.hasOwnProperty(u))return null;e=e[u]}return this.transformClientValue(void 0!==e?e:null,e)}transformClientValue(e,i){return"string"==typeof e?e.replace(/\[urlclient\](.*?)\[\/urlclient\]/gi,`<a class="link" target="_blank" href="/#/pages/customer/edit/${i.customer_id}">$1</a>`):e}navigateOnDetails(e,i){if(console.log(i),i){let o;o="custom"==i?"customs":"svh"==i?"point":i,this.router.navigate(["pages/request/details",o,e])}else this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430, \u0440\u0435\u0439\u0442\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b",void 0,this.snackBarWithShortDuration)}navigateOnClient(e){this.router.navigate(["pages/customer/edit",e])}updateRequest(e){this.requestService.requestUpdate({body:{status_crm_id:e.status_crm_id,id:e.id}}).pipe().subscribe({next:()=>{this.snackBar.open("\u0421\u0442\u0430\u0442\u0443\u0441 CRM \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0451\u043d",void 0,this.snackBarWithShortDuration)},error:o=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f CRM \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+o.error.error_message,void 0,this.snackBarWithShortDuration)}})}tableRequest_returnColorCrmStatus(e){return this.requestCrmStatuses&&this.requestCrmStatuses.find(o=>o.id===e)?.color||""}getTypeClass(e){let i="";return 1===e&&(i="type avia"),2===e&&(i="type road"),3===e&&(i="type rw"),4===e&&(i="type sea"),i}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(St.up),t.rXU(D.By),t.rXU(k.E),t.rXU(E.bZ),t.rXU(q.UG),t.rXU(F.nX),t.rXU(F.Ix),t.rXU(D.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-request"]],features:[t.Jv_([k.E]),t.Vt3],decls:9,vars:16,consts:[[1,"request-component",2,"height","calc(100vh - 56px)","display","flex","flex-direction","column","width","100%"],[3,"titles","importMetods","export","exportTemplate"],[1,"table-list"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef","ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"total","count","start","limits","startChange","countChange"],[3,"matColumnDef","ngSwitch"],[3,"ngSwitchDefault"],[3,"ngSwitchCase"],["mat-header-cell","",3,"minWidth","class",4,"matHeaderCellDef"],["mat-cell","",3,"minWidth","class",4,"matCellDef"],["mat-header-cell",""],["class","td-block-title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td-block-title"],["class","column",3,"width","class",4,"ngIf"],["class","resize-handle_end",3,"mousedown",4,"ngIf"],[1,"column"],[1,"col-content",3,"ngClass","click"],["class","resize-handle",3,"mousedown",4,"ngIf"],[1,"resize-handle",3,"mousedown"],[1,"resize-handle_end",3,"mousedown"],["mat-cell",""],[1,"td-block"],["class","column",3,"width","class","ngSwitch",4,"ngFor","ngForOf"],[1,"column",3,"ngSwitch"],[1,"col-content",3,"innerHTML"],[1,"link",3,"click"],[1,"kso-block"],[1,"kso-item",3,"ngClass"],[3,"value"],["class","table_options",3,"value","color","click",4,"ngFor","ngForOf"],[1,"table_options",3,"value","click"],["mat-header-cell","","class","setting",4,"matHeaderCellDef"],["mat-cell","","class","setting",4,"matCellDef"],["mat-header-cell","",1,"setting"],[1,"setting-link",3,"matMenuTriggerFor"],["menu","matMenu"],["class","table-settings","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"table-settings",3,"click"],["mat-cell","",1,"setting"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"app-table-sunheader-file",1),t.bIt("export",function(){return o.exportFile()})("exportTemplate",function(){return o.exportFileTemplate()}),t.k0s(),t.nrm(2,"app-table-filter"),t.j41(3,"div",2)(4,"table",3),t.DNE(5,ro,3,3,"ng-container",4),t.DNE(6,so,1,0,"tr",5),t.DNE(7,ao,1,0,"tr",6),t.k0s()(),t.j41(8,"app-paginator",7),t.bIt("startChange",function(u){return o.onStartChange(u)})("countChange",function(u){return o.onCountChange(u)}),t.k0s()()),2&i&&(t.R7$(1),t.Y8G("titles",t.lJ4(15,uo))("importMetods",o.importMetods),t.R7$(2),t.HbH(o.isResizeColumnMode?"resize":""),t.R7$(1),t.Aen(o.isTableFixedWidth?"width:100%;max-width:100%":""),t.Y8G("dataSource",o.rows),t.R7$(1),t.Y8G("ngForOf",o.columnsData),t.R7$(1),t.Y8G("matHeaderRowDef",o.column)("matHeaderRowDefSticky",!0),t.R7$(1),t.Y8G("matRowDefColumns",o.column),t.R7$(1),t.Y8G("total",o.total)("count",o.count)("start",o.start)("limits",o.limits))},dependencies:[d.YU,d.Sq,d.bT,d.ux,d.e1,d.fG,F.Wk,C.VO,B.wT,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,y.kk,y.fb,y.Cp,L.h,K,nt],styles:[".w190px{width:190px}.td-block .kso-block{display:flex;padding:0;justify-content:center}.kso-item{width:8px;height:28px;background-color:#81dd7c;margin-left:2px}.red{background-color:#fd7171}.kso-item:first-child{margin-left:0}\n"],encapsulation:2})}}return n})();var qt=m(1798);let lo=(()=>{class n{constructor(e){this.loaderService=e}executeQueues(e){var i=this;return Dt(function*(){i.loaderService.showLoader();try{const o=[];for(const s of e){if(0===s.length){o.push([]);continue}const u=yield mt((0,ht.p)(s));o.push(u)}return o}catch(o){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:",o),o}finally{i.loaderService.hideLoader()}})()}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(qt.Z))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _o=m(9183),po=m(7673),mo=m(1985),ho=m(8750);const{isArray:go}=Array;var Co=m(983),vo=m(4360),ko=m(9326);function kt(...n){const r=(0,ko.ms)(n),e=function fo(n){return 1===n.length&&go(n[0])?n[0]:n}(n);return e.length?new mo.c(i=>{let o=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{o=s=null});for(let u=0;!i.closed&&u<e.length;u++)(0,ho.Tg)(e[u]).subscribe((0,vo._)(i,l=>{if(o[u].push(l),o.every(x=>x.length)){const x=o.map(I=>I.shift());i.next(r?r(...x):x),o.some((I,N)=>!I.length&&s[N])&&i.complete()}},()=>{s[u]=!0,!o[u].length&&i.complete()}));return()=>{o=s=null}}):Co.w}var bo=m(9795);const Fo=["removeDialogRef"];function Eo(n,r){1&n&&(t.j41(0,"div",10),t.EFF(1,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b:"),t.k0s())}function Ro(n,r){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"span",11),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.confirmRemove(s))}),t.k0s()()}if(2&n){const e=r.$implicit;t.R7$(2),t.JRh(e.file_name)}}function yo(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",1)(1,"div",12),t.EFF(2,"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0430\u0439\u043b:"),t.k0s(),t.j41(3,"div",13)(4,"input",14),t.bIt("ngModelChange",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.documentsPathChange(o))}),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(4),t.Y8G("ngModel",e.documentsPath)}}function xo(n,r){if(1&n&&(t.j41(0,"h1",15),t.EFF(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),t.k0s(),t.j41(2,"div",16),t.EFF(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," ? "),t.k0s(),t.j41(7,"div",17)(8,"button",18),t.EFF(9,"\u0414\u0430"),t.k0s(),t.j41(10,"button",19),t.EFF(11,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=r.$implicit;t.R7$(5),t.JRh(e.file_name),t.R7$(3),t.Y8G("mat-dialog-close",!0)}}let Pt=(()=>{class n{constructor(e,i){this.dialog=e,this.fileService=i,this.isTitle=!0,this.showLinks=!0,this.isError=!1,this.documents=[],this.component="customer",this.var="documents_file",this.itemId=0,this.documentsPath="",this.onDocumentsPathChange=new t.bkB}ngOnInit(){}onFileSelected(e){const i=e.target.files[0];i&&this.documents.push({file_name:i.name,file:i,item_id:this.itemId,component:this.component,var:this.var,added:!0})}remove(e){if(e.added){const i=this.documents.indexOf(e);i>=0&&this.documents.splice(i,1)}else e.removed=!0}confirmRemove(e){this.dialog.open(this.removeDialogRef,{data:e}).afterClosed().subscribe(i=>{i&&this.remove(e)})}get filteredDocuments(){return this.documents.filter(e=>!e.removed)}update(){const e=this.documents.filter(l=>l.removed),o=this.documents.filter(l=>l.added).map(l=>this.fileService.fileCreate({body:{component:this.component,var:this.var,item_id:l.item_id,file:l.file}})),u=[...e.map(l=>this.fileService.fileDelete({body:{component:this.component,var:this.var,item_id:l.item_id,id:l.id}})),...o];return 0===u.length?(0,po.of)(void 0):kt(...u).pipe((0,R.T)(()=>{}))}create(e){return kt(this.filteredDocuments.map(o=>this.fileService.fileCreate({body:{component:this.component,var:this.var,item_id:e,file:o.file}}))).pipe((0,R.T)(()=>{}))}delete(){return kt(this.documents.filter(o=>"number"==typeof o.id).map(o=>this.fileService.fileDelete({body:{component:this.component,var:this.var,item_id:o.item_id,id:o.id}}))).pipe((0,R.T)(()=>{}))}documentsPathChange(e){this.onDocumentsPathChange.emit(e)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(E.bZ),t.rXU(bo.E))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-file-list"]],viewQuery:function(i,o){if(1&i&&t.GBs(Fo,5),2&i){let s;t.mGM(s=t.lsd())&&(o.removeDialogRef=s.first)}},inputs:{isTitle:"isTitle",showLinks:"showLinks",isError:"isError",documents:"documents",component:"component",var:"var",itemId:"itemId",documentsPath:"documentsPath"},outputs:{onDocumentsPathChange:"onDocumentsPathChange"},decls:12,vars:3,consts:[[1,"form-item-layout"],[1,"form-item"],["class","form-block-sub-title",4,"ngIf"],[1,"file-list"],[4,"ngFor","ngForOf"],["type","file",1,"file-input",3,"change"],["fileUpload",""],[1,"btn","add-file",3,"click"],["class","form-item",4,"ngIf"],["removeDialogRef",""],[1,"form-block-sub-title"],[1,"del",3,"click"],[1,"form-label"],[1,"form-data"],["type","text",3,"ngModel","ngModelChange"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"div",0)(1,"div",1),t.DNE(2,Eo,2,0,"div",2),t.j41(3,"div",3),t.DNE(4,Ro,4,1,"div",4),t.k0s(),t.j41(5,"input",5,6),t.bIt("change",function(l){return o.onFileSelected(l)}),t.k0s(),t.j41(7,"span",7),t.bIt("click",function(){t.eBV(s);const l=t.sdS(6);return t.Njj(l.click())}),t.EFF(8,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b"),t.k0s()(),t.DNE(9,yo,5,1,"div",8),t.k0s(),t.DNE(10,xo,12,2,"ng-template",null,9,t.C5r)}2&i&&(t.R7$(2),t.Y8G("ngIf",o.isTitle),t.R7$(2),t.Y8G("ngForOf",o.filteredDocuments),t.R7$(5),t.Y8G("ngIf",o.showLinks))},dependencies:[d.Sq,d.bT,a.me,a.BC,a.vS,E.tx,E.BI,E.Yi,E.E7,j.$z],styles:[".file-input{display:none}\n"],encapsulation:2})}}return n})();function Do(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0433\u0430\u0431\u0430\u0440\u0438\u0442\u044b"),t.k0s())}function jo(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0412\u0438\u0434 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438:"),t.k0s())}function wo(n,r){if(1&n&&(t.j41(0,"mat-option",28),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Mo(n,r){1&n&&(t.j41(0,"mat-option",29),t.EFF(1,"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0435\u0442"),t.k0s())}function To(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Go(n,r){if(1&n&&(t.j41(0,"div",21),t.DNE(1,jo,2,0,"div",2),t.j41(2,"div",9),t.nrm(3,"input",22),t.j41(4,"mat-autocomplete",23,24),t.DNE(6,wo,2,2,"mat-option",25),t.DNE(7,Mo,2,0,"mat-option",26),t.k0s(),t.DNE(8,To,2,0,"mat-error",27),t.k0s()()),2&n){const e=t.sdS(5),i=t.XpG();t.R7$(1),t.Y8G("ngIf",1===i.num),t.R7$(2),t.Y8G("matAutocomplete",e),t.R7$(1),t.Y8G("displayWith",i.displayFn_CargoPackageId.bind(i)),t.R7$(2),t.Y8G("ngForOf",i.filteredCargoPackage),t.R7$(1),t.Y8G("ngIf",0==i.filteredCargoPackage.length),t.R7$(1),t.Y8G("ngIf",i.placeForm.controls.cargo_package_id.hasError("required"))}}function $o(n,r){1&n&&t.nrm(0,"div",20)}function Oo(n,r){if(1&n&&(t.j41(0,"div",30),t.DNE(1,$o,1,0,"div",2),t.j41(2,"div",9)(3,"mat-form-field",31)(4,"mat-select",32)(5,"mat-option",28)(6,"div",33),t.qSk(),t.j41(7,"svg",34),t.nrm(8,"path",35),t.k0s()()(),t.joV(),t.j41(9,"mat-option",28)(10,"div",33),t.qSk(),t.j41(11,"svg",34),t.nrm(12,"path",36)(13,"path",37),t.k0s()()()()()()()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",1===e.num),t.R7$(3),t.Y8G("ngClass","staking-"+e.placeForm.value.stacking),t.R7$(1),t.Y8G("value",!0),t.R7$(4),t.Y8G("value",!1)}}function Bo(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0414\u041b\u0418\u041d\u0410, \u0421\u041c"),t.k0s())}function Io(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0428\u0418\u0420\u0418\u041d\u0410, \u0421\u041c"),t.k0s())}function So(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0412\u042b\u0421\u041e\u0422\u0410, \u0421\u041c"),t.k0s())}function qo(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0412\u0415\u0421, \u041a\u0413"),t.k0s())}function Po(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u041a\u041e\u041b-\u0412\u041e, \u0428\u0422"),t.k0s())}function No(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0418\u0442\u043e\u0433\u043e \u041e\u0431\u044a\u0435\u043c,\u043c"),t.j41(2,"sup",38),t.EFF(3,"3"),t.k0s(),t.EFF(4,":"),t.k0s())}function Vo(n,r){1&n&&(t.j41(0,"div",20),t.EFF(1,"\u0418\u0442\u043e\u0433\u043e \u0432\u0435\u0441"),t.k0s())}function Yo(n,r){1&n&&t.nrm(0,"div",20)}let Ao=(()=>{class n{constructor(e,i){this.fb=e,this.cargoService=i,this.removePlace=new t.bkB,this.data_CargoPackages=[],this.onChange=o=>{},this.onTouched=()=>{},this._destroy$=new w.B,this.touched=!1,this.cargoPackages=[],this.filteredCargoPackage=[],this.currentTotalVolume=0,this.currentTotalWeight=0,this.stakingArr=[{value:!0,text:"\u0441\u0442\u0430\u043a\u0438\u043d\u0433"},{value:!1,text:" \u043d\u0435 \u0441\u0442\u0430\u043a\u0438\u043d\u0433"}],this.placeForm=this.fb.group({cargo_package_id:[,[]],stacking:[!0,[]],length:[,[]],width:[,[]],height:[,[]],weight:[,[]],count:[,[]],volume:[,[]],total_weight:[,[]]})}ngOnInit(){this.cargoPackages=this.data_CargoPackages,this.filteredCargoPackage=this.data_CargoPackages,this.placeForm.valueChanges.pipe((0,p.Q)(this._destroy$)).subscribe(i=>{this.onChange(i)}),["length","width","height","weight"].forEach(i=>{this.roundingTo2Digits(i)}),this.placeForm.statusChanges.pipe((0,p.Q)(this._destroy$)).subscribe(()=>{this.touched||(this.onTouched(),this.touched=!0)}),this.subscribeControl_CargoPackageId()}subscribeControl_CargoPackageId(){this.placeForm.get("cargo_package_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredCargoPackage=this.cargoPackages.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCargoPackage.length&&this.filteredCargoPackage[0].name?.toLowerCase()===e.toLowerCase()&&this.placeForm.patchValue({cargo_package_id:this.filteredCargoPackage[0].id}))})}displayFn_CargoPackageId(e){return this.cargoPackages&&this.cargoPackages.find(o=>o.id===e)?.name||""}onCalkTotalVolumeAndWeight(){const u=this.placeForm.value.length*this.placeForm.value.width*this.placeForm.value.height*this.placeForm.value.count,l=this.placeForm.value.weight*this.placeForm.value.count;this.currentTotalWeight="number"==typeof l&&l>0&&l<1/0?Number(l.toFixed(2)):0,this.currentTotalVolume="number"==typeof u&&u>0&&u<1/0?Number((u/1e6).toFixed(2)):0,this.placeForm.patchValue({total_weight:this.currentTotalWeight,volume:this.currentTotalVolume})}onDeletePlace(){this.removePlace.emit()}writeValue(e){this.placeForm.patchValue(e)}registerOnChange(e){this.onChange=e,this.onCalkTotalVolumeAndWeight()}registerOnTouched(e){this.onTouched=e}roundingTo2Digits(e){this.placeForm.get(e)?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(i=>{const o=i?.toFixed(2);this.placeForm.get(e)?.setValue(o,{emitEvent:!1})})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}ngOnChanges(e){this.onCalkTotalVolumeAndWeight()}validate(e){return e.value&&this.placeForm.valid?null:{contact:!0}}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(a.ok),t.rXU(D.qT))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-place-editor"]],inputs:{currentRequestFormat:"currentRequestFormat",isFormSubmitted:"isFormSubmitted",num:"num",data_CargoPackages:"data_CargoPackages"},outputs:{removePlace:"removePlace"},features:[t.Jv_([{provide:a.kq,multi:!0,useExisting:n},{provide:a.cz,useExisting:n,multi:!0}]),t.OA$],decls:41,vars:13,consts:[[1,"form-item-table-row",3,"formGroup"],[1,"form-item","w100"],["class","form-label",4,"ngIf"],[1,"form-data","nm"],[1,"form-item-block","w232"],["class","form-item","class","form-item w156",4,"ngIf"],["class","form-item w70",4,"ngIf"],[1,"form-item-block"],[1,"form-item","w72","r"],[1,"form-data"],["type","number","name","length","formControlName","length","placeholder","\u2014","required","",3,"ngModelChange"],["type","number","name","width","formControlName","width","placeholder","\u2014","required","",3,"ngModelChange"],["type","number","name","height","formControlName","height","placeholder","\u2014","required","",3,"ngModelChange"],["type","number","name","weight","formControlName","weight","placeholder","\u2014","required","",3,"ngModelChange"],["type","number","step","1","oninput","this.value = ~~this.value;","name","count","formControlName","count","placeholder","\u2014","required","",3,"ngModelChange"],[1,"form-item","w96","r"],["type","number","name","volume","formControlName","volume","placeholder","\u2014","required","","readonly",""],["type","number","name","total_weight","formControlName","total_weight","placeholder","\u2014","required","","readonly",""],[1,"form-item"],[1,"del",3,"click"],[1,"form-label"],[1,"form-item","w156"],["matInput","","type","text","formControlName","cargo_package_id",3,"matAutocomplete"],[3,"displayWith"],["cargo_package_id","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["disabled","",4,"ngIf"],[4,"ngIf"],[3,"value"],["disabled",""],[1,"form-item","w70"],["appearance","outline",1,"ui-select"],["formControlName","stacking",3,"ngClass"],[1,"stacking-div"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 14 14","fill","none"],["id","Vector","d","M0 10V14H14V10H0ZM13 13H1V11H13V13ZM10 0H4V4H10V0ZM9 3H5V1H9V3ZM12 5.00049H2V9.00049H12V5.00049ZM11 8.00049H3V6.00049H11V8.00049Z","fill","#83909E"],["id","Vector","d","M10.207 5.29297C10.5977 5.68359 10.5977 6.31641 10.207 6.70703C10.0117 6.90234 9.75586 7 9.5 7C9.24414 7 8.98828 6.90234 8.79297 6.70703L7 4.91406L5.20703 6.70703C5.01172 6.90234 4.75586 7 4.5 7C4.24414 7 3.98828 6.90234 3.79297 6.70703C3.40234 6.31641 3.40234 5.68359 3.79297 5.29297L5.58594 3.5L3.79297 1.70703C3.40234 1.31641 3.40234 0.683594 3.79297 0.292969C4.18359 -0.0976561 4.81641 -0.0976561 5.20703 0.292969L7 2.08594L8.79297 0.292969C9.18359 -0.0976562 9.81641 -0.0976562 10.207 0.292969C10.5977 0.683594 10.5977 1.31641 10.207 1.70703L8.41406 3.5L10.207 5.29297Z","fill","#DB563B"],["id","Vector_2","d","M0 14H14V10H0V14ZM1 11H13V13H1V11ZM14 4.99951V5.99951V8.99951H0V5.99951V4.99951H1H2V5.99951H1V7.99951H13V5.99951H12V4.99951H13H14Z","fill","#83909E"],[1,"sup"]],template:function(i,o){1&i&&(t.j41(0,"form",0)(1,"div",1),t.DNE(2,Do,2,0,"div",2),t.j41(3,"div",3),t.EFF(4),t.k0s()(),t.j41(5,"div",4),t.DNE(6,Go,9,6,"div",5),t.DNE(7,Oo,14,4,"div",6),t.k0s(),t.j41(8,"div",7)(9,"div",8),t.DNE(10,Bo,2,0,"div",2),t.j41(11,"div",9)(12,"input",10),t.bIt("ngModelChange",function(){return o.onCalkTotalVolumeAndWeight()}),t.k0s()()(),t.j41(13,"div",8),t.DNE(14,Io,2,0,"div",2),t.j41(15,"div",9)(16,"input",11),t.bIt("ngModelChange",function(){return o.onCalkTotalVolumeAndWeight()}),t.k0s()()(),t.j41(17,"div",8),t.DNE(18,So,2,0,"div",2),t.j41(19,"div",9)(20,"input",12),t.bIt("ngModelChange",function(){return o.onCalkTotalVolumeAndWeight()}),t.k0s()()()(),t.j41(21,"div",7)(22,"div",8),t.DNE(23,qo,2,0,"div",2),t.j41(24,"div",9)(25,"input",13),t.bIt("ngModelChange",function(){return o.onCalkTotalVolumeAndWeight()}),t.k0s()()(),t.j41(26,"div",8),t.DNE(27,Po,2,0,"div",2),t.j41(28,"div",9)(29,"input",14),t.bIt("ngModelChange",function(){return o.onCalkTotalVolumeAndWeight()}),t.k0s()()()(),t.j41(30,"div",15),t.DNE(31,No,5,0,"div",2),t.j41(32,"div",9),t.nrm(33,"input",16),t.k0s()(),t.j41(34,"div",15),t.DNE(35,Vo,2,0,"div",2),t.j41(36,"div",9),t.nrm(37,"input",17),t.k0s()(),t.j41(38,"div",18),t.DNE(39,Yo,1,0,"div",2),t.j41(40,"span",19),t.bIt("click",function(){return o.onDeletePlace()}),t.k0s()()()),2&i&&(t.Y8G("formGroup",o.placeForm),t.R7$(2),t.Y8G("ngIf",1===o.num),t.R7$(2),t.SpI("\u041c\u0435\u0441\u0442\u043e \u2116",o.num,""),t.R7$(2),t.Y8G("ngIf",2===o.currentRequestFormat),t.R7$(1),t.Y8G("ngIf",2===o.currentRequestFormat),t.R7$(3),t.Y8G("ngIf",1===o.num),t.R7$(4),t.Y8G("ngIf",1===o.num),t.R7$(4),t.Y8G("ngIf",1===o.num),t.R7$(5),t.Y8G("ngIf",1===o.num),t.R7$(4),t.Y8G("ngIf",1===o.num),t.R7$(4),t.Y8G("ngIf",1===o.num),t.R7$(4),t.Y8G("ngIf",1===o.num),t.R7$(4),t.Y8G("ngIf",1===o.num))},dependencies:[d.YU,d.Sq,d.bT,a.qT,a.me,a.Q0,a.BC,a.cb,a.YS,a.j4,a.JD,f.rl,f.TL,C.VO,B.wT,P.$3,P.pN,it.fg]})}}return n})();function Lo(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",1)(1,"label",2),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.toggle(s.id))}),t.nrm(2,"input",3)(3,"i"),t.j41(4,"span"),t.EFF(5),t.k0s()()()}if(2&n){const e=r.$implicit,i=t.XpG();t.R7$(1),t.Mz_("for","service-kind-",e.id,""),t.R7$(1),t.Mz_("name","service-kind-",e.id,""),t.Y8G("checked",i.isChecked(e.id)),t.R7$(3),t.JRh(e.name)}}let Xo=(()=>{class n{constructor(){this.services=[],this.kinds=new Set,this.isDisabled=!1,this.touched=!1,this.onChange=e=>{},this.onTouched=()=>{}}ngOnInit(){}writeValue(e){this.kinds=new Set(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}isChecked(e){return this.kinds.has(e)}toggle(e){this.kinds.has(e)?this.kinds.delete(e):this.kinds.add(e);const i=Array.from(this.kinds.values());this.onChange(i)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-services-ediotor"]],inputs:{services:"services"},features:[t.Jv_([{provide:a.kq,multi:!0,useExisting:n}])],decls:1,vars:1,consts:[["class","check-item",4,"ngFor","ngForOf"],[1,"check-item"],[3,"for","click"],["type","checkbox",3,"checked","name"]],template:function(i,o){1&i&&t.DNE(0,Lo,6,4,"div",0),2&i&&t.Y8G("ngForOf",o.services)},dependencies:[d.Sq],styles:['.form-item-layout-col[_ngcontent-%COMP%]{font-family:regular,arial,"sans-serif";color:#606a74;outline:none;box-sizing:border-box;max-width:100%;display:flex;flex-direction:column}.label[_ngcontent-%COMP%]{margin-top:25px}.span[_ngcontent-%COMP%]{font-family:regular,arial,"sans-serif";outline:none;color:#83909e;cursor:pointer;min-width:100%}']})}}return n})();const Ho=["fileList"],Uo=["fileListDanger"];function Wo(n,r){1&n&&(t.j41(0,"div",83),t.nrm(1,"mat-spinner"),t.k0s())}function zo(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Zo(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u041a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Ko(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Jo(n,r){if(1&n&&(t.j41(0,"mat-option",86),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function Qo(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function tr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0435\u0442"),t.k0s())}function er(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function nr(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function ir(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0438 \u043d\u0435\u0442"),t.k0s())}function or(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function rr(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function sr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0422\u0438\u043f\u0430 \u0433\u0440\u0443\u0437\u0430 \u043d\u0435\u0442 "),t.k0s())}function ar(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function ur(n,r){1&n&&(t.j41(0,"div",91),t.nrm(1,"input",92),t.j41(2,"span",93),t.EFF(3,"\u2014"),t.k0s(),t.nrm(4,"input",94),t.j41(5,"span",95)(6,"sup"),t.EFF(7,"O"),t.k0s(),t.EFF(8,"C"),t.k0s()())}function cr(n,r){if(1&n&&(t.j41(0,"div",87)(1,"div",5)(2,"div",88)(3,"label"),t.nrm(4,"input",89)(5,"i"),t.j41(6,"span"),t.EFF(7,"\u041d\u0443\u0436\u0435\u043d \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c?"),t.k0s()()(),t.DNE(8,ur,9,0,"div",90),t.k0s()()),2&n){const e=t.XpG();t.R7$(8),t.Y8G("ngIf",e.requestForm.value.cargo_temperature.cargo_temperature_control)}}function lr(n,r){if(1&n&&t.nrm(0,"app-file-list",98,99),2&n){const e=t.XpG(2);t.Y8G("isTitle",!1)("showLinks",!1)("isError",!0)("documents",e.documentsDanger)("itemId",e.id)}}function dr(n,r){if(1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"label"),t.nrm(3,"input",96)(4,"i"),t.j41(5,"span"),t.EFF(6,"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0431\u0430\u0442\u0430\u0440\u0435\u0435\u043a, \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u0438\u0442\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0436\u0438\u0434\u043a\u043e\u0441\u0442\u0435\u0439 "),t.j41(7,"span"),t.EFF(8,"(\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438)"),t.k0s()()()(),t.DNE(9,lr,2,5,"app-file-list",97),t.k0s()),2&n){const e=t.XpG();t.R7$(9),t.Y8G("ngIf",e.requestForm.value.cargo_danger)}}function _r(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-place-editor",104),t.bIt("removePlace",function(){const s=t.eBV(e).index,u=t.XpG(2);return t.Njj(u.removePlace(s))})("keyup",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onPlaceEditorChange())})("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onPlaceEditorChange())})("paste",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onPlaceEditorChange())}),t.k0s()}if(2&n){const e=r.index,i=t.XpG(2);t.Y8G("formControlName",e)("currentRequestFormat",i.requestForm.value.request_type_id)("num",e+1)("data_CargoPackages",i.cargoPackages)}}function pr(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",100),t.DNE(1,_r,1,4,"app-place-editor",101),t.j41(2,"div",102)(3,"span",103),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.addPlace())}),t.EFF(4,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",e.places.controls)}}function mr(n,r){1&n&&t.nrm(0,"input",105)}function hr(n,r){if(1&n&&t.nrm(0,"input",56),2&n){const e=t.XpG();t.Y8G("value",e.requestForm.value.cargo_places_count)}}function gr(n,r){if(1&n){const e=t.RV6();t.j41(0,"input",106),t.bIt("keyup",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.weightAndVolumeChange())})("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.weightAndVolumeChange())}),t.k0s()}}function fr(n,r){if(1&n&&t.nrm(0,"input",56),2&n){const e=t.XpG();t.Y8G("value",e.requestForm.value.cargo_places_weight)}}function Cr(n,r){if(1&n){const e=t.RV6();t.j41(0,"input",107),t.bIt("keyup",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.weightAndVolumeChange())})("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.weightAndVolumeChange())}),t.k0s()}}function vr(n,r){if(1&n&&t.nrm(0,"input",56),2&n){const e=t.XpG();t.Y8G("value",e.requestForm.value.cargo_places_volume)}}function kr(n,r){if(1&n&&(t.j41(0,"div",55)(1,"div",7),t.EFF(2,"\u043e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0432\u0435\u0441:"),t.k0s(),t.j41(3,"div",9),t.nrm(4,"input",56),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("value",e.requestForm.value.cargo_places_paid_weight)}}function br(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.code," ")}}function Fr(n,r){if(1&n&&(t.j41(0,"div",47)(1,"div",108)(2,"div",7),t.EFF(3,"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(4,"div",9),t.nrm(5,"input",109),t.k0s()(),t.j41(6,"div",110)(7,"div",7),t.EFF(8,"\u0412\u0430\u043b\u044e\u0442\u0430:"),t.k0s(),t.j41(9,"div",9)(10,"mat-form-field",111)(11,"mat-select",112),t.DNE(12,br,2,2,"mat-option",13),t.k0s()()()()()),2&n){const e=t.XpG();t.R7$(12),t.Y8G("ngForOf",e.currencys)}}function Er(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function Rr(n,r){if(1&n&&(t.j41(0,"div",47)(1,"div",113)(2,"div",7),t.EFF(3,"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(4,"div",9),t.nrm(5,"input",109),t.k0s()(),t.j41(6,"div",110)(7,"div",7),t.EFF(8,"\u0412\u0430\u043b\u044e\u0442\u0430:"),t.k0s(),t.j41(9,"div",9)(10,"mat-form-field",111)(11,"mat-select",112),t.DNE(12,Er,2,2,"mat-option",13),t.k0s()()()()()),2&n){const e=t.XpG();t.R7$(12),t.Y8G("ngForOf",e.currencys)}}function yr(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",48)(1,"div",7),t.EFF(2,"\u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u044c"),t.k0s(),t.j41(3,"div",9)(4,"div",114),t.bIt("click",function(){t.eBV(e);const o=t.sdS(10);return t.XpG().validReset(),t.Njj(o.open())}),t.j41(5,"div"),t.EFF(6),t.k0s(),t.j41(7,"input",115),t.bIt("dateChange",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.onValidChange(o))}),t.k0s(),t.nrm(8,"button",116)(9,"mat-datepicker",null,117),t.k0s()()()}if(2&n){const e=t.sdS(10),i=t.XpG();t.R7$(6),t.JRh(i.returnValid()),t.R7$(1),t.Y8G("matDatepicker",e)}}function xr(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Dr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0435\u0442"),t.k0s())}function jr(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function wr(n,r){if(1&n&&(t.j41(0,"div",47)(1,"div",118)(2,"div",7),t.EFF(3,"\u0412\u0438\u0434 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438: "),t.j41(4,"span",8),t.EFF(5,"\u2022"),t.k0s()(),t.j41(6,"div",9),t.nrm(7,"input",38),t.j41(8,"mat-autocomplete",11,39),t.DNE(10,xr,2,2,"mat-option",13),t.DNE(11,Dr,2,0,"mat-option",14),t.k0s(),t.DNE(12,jr,2,0,"mat-error",15),t.k0s()(),t.j41(13,"div",119)(14,"div",120),t.EFF(15,"stacking"),t.k0s(),t.j41(16,"div",9)(17,"mat-form-field",111)(18,"mat-select",121)(19,"mat-option",84)(20,"div",122),t.qSk(),t.j41(21,"svg",123),t.nrm(22,"path",124),t.k0s()()(),t.joV(),t.j41(23,"mat-option",84)(24,"div",122),t.qSk(),t.j41(25,"svg",123)(26,"g",125),t.nrm(27,"path",126)(28,"path",127),t.k0s(),t.j41(29,"defs")(30,"clipPath",128),t.nrm(31,"rect",129),t.k0s()()()()()()()()()()),2&n){const e=t.sdS(9),i=t.XpG();t.R7$(7),t.Y8G("matAutocomplete",e),t.R7$(1),t.Y8G("displayWith",i.displayFn_CargoPackageId.bind(i)),t.R7$(2),t.Y8G("ngForOf",i.filteredCargoPackage),t.R7$(1),t.Y8G("ngIf",0==i.filteredCargoPackage.length),t.R7$(1),t.Y8G("ngIf",i.requestForm.controls.cargo_package_id.hasError("required")),t.R7$(6),t.Y8G("ngClass","staking-"+i.requestForm.value.cargo_places_stacking),t.R7$(1),t.FS9("value",!0),t.R7$(4),t.FS9("value",!1)}}function Mr(n,r){if(1&n&&(t.j41(0,"div",4),t.nrm(1,"app-file-list",130,131),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("showLinks",!1)("documents",e.documents)("itemId",e.id)}}function Tr(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",132),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.changeForm_DepartureCity(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Gr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0413\u043e\u0440\u043e\u0434\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function $r(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Or(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",132),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.changeForm_DepartureCountry(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Br(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0421\u0442\u0440\u0430\u043d \u043d\u0435\u0442"),t.k0s())}function Ir(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Sr(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function qr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0421\u0442\u0440\u0430\u043d \u043d\u0435\u0442"),t.k0s())}function Pr(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Nr(n,r){if(1&n&&(t.j41(0,"div",37)(1,"div",7),t.EFF(2,"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430:"),t.k0s(),t.j41(3,"div",9),t.nrm(4,"input",133),t.j41(5,"mat-autocomplete",11,134),t.DNE(7,Sr,2,2,"mat-option",13),t.DNE(8,qr,2,0,"mat-option",14),t.k0s(),t.DNE(9,Pr,2,0,"mat-error",15),t.k0s()()),2&n){const e=t.sdS(6),i=t.XpG();t.R7$(4),t.Y8G("matAutocomplete",e),t.R7$(1),t.Y8G("displayWith",i.displayFn_DeparturePointId.bind(i)),t.R7$(2),t.Y8G("ngForOf",i.filteredDeparturePoint),t.R7$(1),t.Y8G("ngIf",0==i.filteredDeparturePoint.length),t.R7$(1),t.Y8G("ngIf",i.requestForm.controls.departure_point_id.hasError("required"))}}function Vr(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",132),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.changeForm_ArrivalCity(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Yr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0413\u043e\u0440\u043e\u0434\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Ar(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Lr(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",132),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.changeForm_ArrivalCountry(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Xr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0421\u0442\u0440\u0430\u043d \u043d\u0435\u0442"),t.k0s())}function Hr(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Ur(n,r){if(1&n&&(t.j41(0,"mat-option",84),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Wr(n,r){1&n&&(t.j41(0,"mat-option",85),t.EFF(1,"\u0421\u0442\u0440\u0430\u043d \u043d\u0435\u0442"),t.k0s())}function zr(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Zr(n,r){if(1&n&&(t.j41(0,"div",37)(1,"div",7),t.EFF(2,"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f:"),t.k0s(),t.j41(3,"div",9),t.nrm(4,"input",135),t.j41(5,"mat-autocomplete",11,136),t.DNE(7,Ur,2,2,"mat-option",13),t.DNE(8,Wr,2,0,"mat-option",14),t.k0s(),t.DNE(9,zr,2,0,"mat-error",15),t.k0s()()),2&n){const e=t.sdS(6),i=t.XpG();t.R7$(4),t.Y8G("matAutocomplete",e),t.R7$(1),t.Y8G("displayWith",i.displayFn_ArrivalPointId.bind(i)),t.R7$(2),t.Y8G("ngForOf",i.filteredArrivalPoint),t.R7$(1),t.Y8G("ngIf",0==i.filteredArrivalPoint.length),t.R7$(1),t.Y8G("ngIf",i.requestForm.controls.arrival_point_id.hasError("required"))}}function Kr(n,r){if(1&n&&(t.j41(0,"label"),t.nrm(1,"input",137)(2,"i"),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&n){const e=r.$implicit;t.R7$(1),t.Y8G("value",e.id),t.R7$(3),t.JRh(e.name)}}function Jr(n,r){1&n&&(t.j41(0,"div",34),t.EFF(1,"\u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"),t.k0s())}function Qr(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",132),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(2);return t.Njj(u.onIncotermsChange(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function ts(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",132),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(2);return t.Njj(u.onPortChange(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(1),t.SpI(" ",e.name," ")}}function es(n,r){if(1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"div",35)(3,"div",142),t.EFF(4,"\u0412 \u0441\u0442\u0430\u0432\u043a\u0443 \u0414\u041e\u041b\u0416\u041d\u041e \u0431\u044b\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e:"),t.k0s(),t.j41(5,"div",9),t.nrm(6,"app-services-ediotor",143),t.k0s()(),t.j41(7,"div",35)(8,"div",142),t.EFF(9,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438:"),t.k0s(),t.j41(10,"div",9),t.nrm(11,"app-services-ediotor",144),t.k0s()()()()),2&n){const e=t.XpG(2);t.R7$(6),t.Y8G("services",e.services),t.R7$(5),t.Y8G("services",e.servicesAdditionals)}}function ns(n,r){1&n&&(t.j41(0,"div",46)(1,"div",6)(2,"div",7),t.EFF(3,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),t.k0s(),t.j41(4,"div",9),t.nrm(5,"textarea",145),t.k0s()()())}function is(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.EFF(5,"\u0423\u0421\u041b\u041e\u0412\u0418\u0415 \u041f\u041e\u0421\u0422\u0410\u0412\u041a\u0418 (INCOTERMS): "),t.j41(6,"span",8),t.EFF(7,"\u2022"),t.k0s()(),t.j41(8,"div",9)(9,"mat-form-field",111)(10,"mat-select",138),t.DNE(11,Qr,2,2,"mat-option",61),t.k0s()()()(),t.j41(12,"div",6)(13,"div",7),t.EFF(14,"\u0413\u041e\u0420\u041e\u0414 / \u041f\u041e\u0420\u0422:"),t.k0s(),t.j41(15,"div",9)(16,"input",139),t.bIt("keyup",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.searchPort(o))}),t.k0s(),t.j41(17,"mat-autocomplete",null,140),t.DNE(19,ts,2,2,"mat-option",61),t.k0s()()()()(),t.DNE(20,es,12,2,"div",43),t.DNE(21,ns,6,0,"div",141),t.k0s()}if(2&n){const e=t.sdS(18),i=t.XpG();t.R7$(11),t.Y8G("ngForOf",i.incoterms),t.R7$(5),t.Y8G("matAutocomplete",e),t.R7$(3),t.Y8G("ngForOf",i.ports),t.R7$(1),t.Y8G("ngIf",1===i.transport_kind_id||3===i.transport_kind_id||4===i.transport_kind_id),t.R7$(1),t.Y8G("ngIf",2===i.requestForm.value.request_type_id)}}function os(n,r){1&n&&(t.j41(0,"div",34),t.EFF(1,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),t.k0s())}function rs(n,r){1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"div",146)(3,"label"),t.nrm(4,"input",147)(5,"i"),t.j41(6,"span"),t.EFF(7,"\u0420\u0430\u0437\u043c\u0435\u0449\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e \u0431\u0430\u0437\u0430\u043c \u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u043e\u0432"),t.k0s()(),t.j41(8,"label"),t.nrm(9,"input",148)(10,"i"),t.j41(11,"span"),t.EFF(12,"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043a\u043e\u0442\u0438\u0440\u043e\u0432\u043a\u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0443 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),t.k0s()()()()())}function ss(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",149),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.remove())}),t.j41(1,"span"),t.EFF(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()}}let Nt=(()=>{class n{constructor(e,i,o,s,u,l,x,I,N,Y,U,X,at,ut,ul){this.route=e,this.fb=i,this.customerService=o,this.transportService=s,this.requestService=u,this.cargoService=l,this.directionService=x,this.countryService=I,this.cityService=N,this.systemService=Y,this.snackBar=U,this.location=X,this.router=at,this.requestManager=ut,this.loaderService=ul,this.id=0,this.title="",this.request={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this.isEditMode=!1,this.isNavigateAfterSave=!0,this.requestFormats=[],this.transportationFormats=[],this.customers=[],this.filteredCustomers=[],this.transportFormats=[],this.filteredTransportFormats=[],this.cargoPackages=[],this.filteredCargoPackage=[],this.cargoTypes=[],this.filteredCargoType=[],this.countrys=[],this.filteredDepartureCountrys=[],this.filteredArrivalCountrys=[],this.filteredArrivalCitys=[],this.filteredDepartureCitys=[],this.citys=[],this.currencys=[],this.departureCitys=[],this.filteredDeparturePoint=[],this.departurePoint=[],this.arrivalPoint=[],this.filteredArrivalPoint=[],this.directionFlights=[],this.incoterms=[],this.ports=[],this.services=[],this.servicesAdditionals=[],this.documentsDanger=[],this.documents=[],this.currentPlacesDensity=0,this.currentDepartureCountryName="",this.currentArrivalCountryName="",this._destroy$=new w.B,this.production=jt.c.production,this.isLoading$=this.loaderService.isLoading$,this.requestForm=this.fb.group({customer_id:[,[a.k0.required]],customer_name:["",[a.k0.required]],request_type_name:["",[]],request_type_id:[1,[a.k0.required]],transport_type_name:["",[]],transport_kind_id:[,[a.k0.required]],transport_type_id:["",[a.k0.required]],cargo_description:["",[a.k0.required,a.k0.minLength(2)]],cargo_package_id:[,[]],cargo_package_name:["",[]],cargo_type_id:[,[]],cargo_type_name:["",[]],cargo_danger:[!1,[]],cargo_temperature:this.fb.group({cargo_temperature_control:[!1,[]],cargo_temperature_min:["",[]],cargo_temperature_max:["",[]]}),cargo_separately:[!1,[]],cargo_places_count:["",[]],cargo_places_weight:["",[]],cargo_places_volume:["",[]],cargo_places_paid_weight:["",[]],cargo_places_density:["",[]],cargo_cost:["",[]],cargo_currency_id:["",[]],cargo_places_stacking:[!0,[]],cargo_readiness:["",[]],cargo_places:i.array([],[]),departure_city_id:["",[a.k0.required]],departure_city_name:["",[]],departure_country_id:[,[a.k0.required]],departure_country_name:["",[]],departure_point_id:["",[]],departure_address:["",[]],arrival_city_id:["",[a.k0.required]],arrival_city_name:["",[]],arrival_country_id:["",[a.k0.required]],arrival_country_name:["",[]],arrival_point_id:["",[]],arrival_address:["",[]],departure_flight:["",[]],incoterms_id:["",[]],incoterms_city_name:[,[]],incoterms_city_id:[,[]],services:[[],[]],services_optional:[[],[]],comment:["",[]],send_to:["contractor",[]]})}linkRate(){this.router.navigate(["rate_request","638d85d28962c195e5ff113ad5e01e43"])}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}ngOnInit(){this.initialization_isFormMode(),this.initialization_getDatas(),this.initialization_subscribeForm()}initialization_isFormMode(){const e=this.route.snapshot.url.map(i=>i.path);this.isEditMode="add"!==e[1],this.id=Number(this.route.snapshot.paramMap.get("id")),this.title=this.isEditMode?`\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u2116 ${this.id}`:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}initialization_getDatas(){const e=[this.getCustomers(),this.get\u0421argoTypes(),this.getCities(),this.getTransportFormats(),this.getCountries(),this.get\u0421argoPackages(),this.getRequestFormats(),this.getTransportationFormats(),this.getDirectionFlight(),this.getCurrencys()],i=[this.getRequest()];this.requestManager.executeQueues([e,this.isEditMode?i:[]])}initialization_subscribeForm(){this.subscribeControl_CustomerId(),this.subscribeControl_TransportTypeId(),this.subscribeControl_CargoPackageId(),this.subscribeControl_CargoTypeId(),this.subscribeControl_DepartureCityId(),this.subscribeControl_DepartureCountryId(),this.subscribeControl_ArrivalCityId(),this.subscribeControl_ArrivalCountryId(),this.subscribeControl_ArrivalPointId(),this.subscribeControl_DeparturePointId()}subscribeControl_CustomerId(){this.requestForm.get("customer_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredCustomers=this.customers.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCustomers.length&&this.filteredCustomers[0].name?.toLowerCase()===e.toLowerCase()&&this.requestForm.patchValue({customer_id:this.filteredCustomers[0].id}))})}subscribeControl_TransportTypeId(){this.requestForm.get("transport_type_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredTransportFormats=this.transportFormats.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredTransportFormats.length&&this.filteredTransportFormats[0].name?.toLowerCase()===e.toLowerCase()&&this.requestForm.patchValue({transport_type_id:this.filteredTransportFormats[0].id}))})}subscribeControl_CargoPackageId(){this.requestForm.get("cargo_package_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredCargoPackage=this.cargoPackages.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCargoPackage.length&&this.filteredCargoPackage[0].name?.toLowerCase()===e.toLowerCase()&&this.requestForm.patchValue({cargo_package_id:this.filteredCargoPackage[0].id}))})}subscribeControl_CargoTypeId(){this.requestForm.get("cargo_type_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredCargoType=this.cargoTypes.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCargoType.length&&this.filteredCargoType[0].name?.toLowerCase()===e.toLowerCase()&&this.requestForm.patchValue({cargo_type_id:this.filteredCargoType[0].id}))})}subscribeControl_DepartureCityId(){this.requestForm.get("departure_city_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredDepartureCitys=this.citys.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredDepartureCitys.length&&this.filteredDepartureCitys[0].name?.toLowerCase()===e.toLowerCase()&&(this.changeForm_DepartureCity(this.filteredDepartureCitys[0]),this.requestForm.patchValue({departure_city_id:this.filteredDepartureCitys[0].id})))})}subscribeControl_DepartureCountryId(){this.requestForm.get("departure_country_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredDepartureCountrys=this.countrys.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredDepartureCountrys.length&&this.filteredDepartureCountrys[0].name?.toLowerCase()===e.toLowerCase()&&(this.changeForm_DepartureCountry(this.filteredDepartureCountrys[0]),this.requestForm.patchValue({departure_country_id:this.filteredDepartureCountrys[0].id})))})}subscribeControl_ArrivalCityId(){this.requestForm.get("arrival_city_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredArrivalCitys=this.citys.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredArrivalCitys.length&&this.filteredArrivalCitys[0].name?.toLowerCase()===e.toLowerCase()&&(this.changeForm_ArrivalCity(this.filteredArrivalCitys[0]),this.requestForm.patchValue({arrival_city_id:this.filteredArrivalCitys[0].id})))})}subscribeControl_ArrivalCountryId(){this.requestForm.get("arrival_country_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredArrivalCountrys=this.citys.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredArrivalCountrys.length&&this.filteredArrivalCountrys[0].name?.toLowerCase()===e.toLowerCase()&&(this.changeForm_ArrivalCity(this.filteredArrivalCountrys[0]),this.requestForm.patchValue({arrival_country_id:this.filteredArrivalCountrys[0].id})))})}subscribeControl_ArrivalPointId(){this.requestForm.get("arrival_point_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredArrivalPoint=this.arrivalPoint.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredArrivalPoint.length&&(this.filteredArrivalPoint[0].name?.toLowerCase(),e.toLowerCase()))})}subscribeControl_DeparturePointId(){this.requestForm.get("departure_point_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(e=>{"string"==typeof e&&(this.filteredDeparturePoint=this.departurePoint.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredDeparturePoint.length&&(this.filteredDeparturePoint[0].name?.toLowerCase(),e.toLowerCase()))})}changeForm_ArrivalCity(e){this.requestForm.patchValue({arrival_country_id:e.country_id}),1==this.requestForm.value.transport_kind_id&&this.getArrivalPoint(e.country_id,this.requestForm.value.transport_kind_id),this.requestForm.controls.arrival_point_id.reset()}changeForm_ArrivalCountry(e){this.requestForm.controls.arrival_city_id.reset(),this.requestForm.controls.arrival_point_id.reset(),1==this.requestForm.value.transport_kind_id&&this.getArrivalPoint(e.id,this.requestForm.value.transport_kind_id),this.filteredArrivalCitys=this.citys.filter(i=>e.id==i.country_id)}changeForm_DepartureCity(e){this.requestForm.patchValue({departure_country_id:e.country_id}),1==this.requestForm.value.transport_kind_id&&this.getDeparturePoint(e.country_id,this.requestForm.value.transport_kind_id),this.requestForm.controls.departure_point_id.reset()}changeForm_DepartureCountry(e){this.requestForm.controls.departure_city_id.reset(),this.requestForm.controls.departure_point_id.reset(),1==this.requestForm.value.transport_kind_id&&this.getDeparturePoint(e.id,this.requestForm.value.transport_kind_id),this.filteredDepartureCitys=this.citys.filter(i=>e.id==i.country_id)}displayFn_DeparturePointId(e){return this.departurePoint&&this.departurePoint.find(o=>o.id===e)?.name||""}displayFn_ArrivalPointId(e){return this.arrivalPoint&&this.arrivalPoint.find(o=>o.id===e)?.name||""}displayFn_ArrivalCountryId(e){return this.countrys&&this.countrys.find(o=>o.id===e)?.name||""}displayFn_ArrivalCityId(e){return this.citys&&this.citys.find(o=>o.id===e)?.name||""}displayFn_DepartureCountryId(e){return this.countrys&&this.countrys.find(o=>o.id===e)?.name||""}displayFn_DepartureCityId(e){return this.citys&&this.citys.find(o=>o.id===e)?.name||""}displayFn_CargoTypeId(e){return this.cargoTypes&&this.cargoTypes.find(o=>o.id===e)?.name||""}displayFn_CargoPackageId(e){return this.cargoPackages&&this.cargoPackages.find(o=>o.id===e)?.name||""}displayFn_TransportTypeId(e){return this.transportFormats&&this.transportFormats.find(o=>o.id===e)?.name||""}displayFn_CustomerId(e){return this.customers&&this.customers.find(o=>o.id===e)?.name||""}onValidChange(e){this.requestForm.patchValue({cargo_readiness:(0,d.Yq)(this.requestForm.value.cargo_readiness,"yyyy-MM-dd","en-US")})}validReset(){this.requestForm.controls.cargo_readiness.reset()}returnValid(){return this.requestForm.value.cargo_readiness?(0,d.Yq)(this.requestForm.value.cargo_readiness,"dd.MM.yyyy","ru-US"):""}save(){const e=this.requestForm.value;1===e.request_type_id&&0==e.cargo_separately&&(console.log("\u041f\u043b\u0430\u043d \u0410 \u0432\u044b\u0437\u0432\u0430\u043d"),this.planA(e)),1===e.request_type_id&&1==e.cargo_separately&&(console.log("\u041f\u043b\u0430\u043d B \u0432\u044b\u0437\u0432\u0430\u043d"),this.planB(e)),2===e.request_type_id&&0==e.cargo_separately&&(console.log("\u041f\u043b\u0430\u043d C \u0432\u044b\u0437\u0432\u0430\u043d"),this.planC(e)),2===e.request_type_id&&1==e.cargo_separately&&(console.log("\u041f\u043b\u0430\u043d D \u0432\u044b\u0437\u0432\u0430\u043d"),this.planD(e))}remove(){console.log("\u041d\u0430\u0436\u0430\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u043e\u0442\u043c\u0435\u043d\u0430")}goBack(){this.location.back()}calc(){const e=Number(this.route.snapshot.paramMap.get("id"));this.router.navigate(["pages/request/edit/translate",e])}planA(e){const i={id:this.id,customer_id:e.customer_id,request_type_id:e.request_type_id,transport_kind_id:e.transport_kind_id,transport_type_id:e.transport_type_id,cargo_description:e.cargo_description,cargo_package_id:e.cargo_package_id,cargo_separately:e.cargo_separately,cargo_places:e.cargo_places,cargo_places_count:e.cargo_places_count,cargo_places_weight:e.cargo_places_weight,cargo_places_volume:e.cargo_places_volume,cargo_places_density:e.cargo_places_density,cargo_cost:e.cargo_cost,cargo_currency_id:e.cargo_currency_id,departure_city_id:e.departure_city_id,departure_country_id:e.departure_country_id,departure_address:e.departure_address,arrival_city_id:e.arrival_city_id,arrival_country_id:e.arrival_country_id,arrival_address:e.arrival_address,departure_flight:e.departure_flight,send_to:e.send_to,cargo_places_paid_weight:e.cargo_places_paid_weight,departure_point_id:e.departure_point_id,arrival_point_id:e.arrival_point_id,incoterms_id:e.incoterms_id,incoterms_city_id:e.incoterms_city_id,services:e.services,services_optional:e.services_optional};1!==e.transport_kind_id&&(delete i.departure_point_id,delete i.arrival_point_id,delete i.cargo_places_paid_weight),2===e.transport_kind_id&&(delete i.incoterms_city_id,delete i.incoterms_id,delete i.services,delete i.services_optional),console.log(i),this.isEditMode?this.updateRequest(i):this.createRequest(i)}planB(e){const i={id:this.id,customer_id:e.customer_id,request_type_id:e.request_type_id,transport_kind_id:e.transport_kind_id,transport_type_id:e.transport_type_id,cargo_description:e.cargo_description,cargo_package_id:e.cargo_package_id,cargo_separately:e.cargo_separately,cargo_places:e.cargo_places,cargo_places_count:e.cargo_places.length,cargo_places_weight:e.cargo_places_weight,cargo_places_volume:e.cargo_places_volume,cargo_places_density:e.cargo_places_density,cargo_cost:e.cargo_cost,cargo_currency_id:e.cargo_currency_id,departure_city_id:e.departure_city_id,departure_country_id:e.departure_country_id,departure_address:e.departure_address,arrival_city_id:e.arrival_city_id,arrival_country_id:e.arrival_country_id,arrival_address:e.arrival_address,departure_flight:e.departure_flight,cargo_places_paid_weight:e.cargo_places_paid_weight,departure_point_id:e.departure_point_id,arrival_point_id:e.arrival_point_id,incoterms_id:e.incoterms_id,incoterms_city_id:e.incoterms_city_id,services:e.services,services_optional:e.services_optional,send_to:e.send_to};1!==e.transport_kind_id&&(delete i.departure_point_id,delete i.arrival_point_id,delete i.cargo_places_paid_weight),2===e.transport_kind_id&&(delete i.incoterms_city_id,delete i.incoterms_id,delete i.services,delete i.services_optional),i.cargo_places.forEach(o=>{delete o.cargo_package_id,delete o.stacking}),console.log(i),this.isEditMode?this.updateRequest(i):this.createRequest(i)}planC(e){const i={id:this.id,customer_id:e.customer_id,request_type_id:e.request_type_id,transport_kind_id:e.transport_kind_id,transport_type_id:e.transport_type_id,cargo_description:e.cargo_description,cargo_type_id:e.cargo_type_id,cargo_danger:e.cargo_danger,cargo_separately:e.cargo_separately,cargo_places:e.cargo_places,cargo_places_count:e.cargo_places.length,cargo_places_weight:e.cargo_places_weight,cargo_places_volume:e.cargo_places_volume,cargo_places_density:e.cargo_places_density,cargo_cost:e.cargo_cost,cargo_currency_id:e.cargo_currency_id,cargo_readiness:e.cargo_readiness,cargo_package_id:e.cargo_package_id,cargo_places_stacking:e.cargo_places_stacking,departure_city_id:e.departure_city_id,departure_country_id:e.departure_country_id,departure_address:e.departure_address,arrival_city_id:e.arrival_city_id,arrival_country_id:e.arrival_country_id,arrival_address:e.arrival_address,departure_flight:e.departure_flight,cargo_temperature:e.cargo_temperature,cargo_places_paid_weight:e.cargo_places_paid_weight,departure_point_id:e.departure_point_id,arrival_point_id:e.arrival_point_id,incoterms_id:e.incoterms_id,incoterms_city_id:e.incoterms_city_id,services:e.services,services_optional:e.services_optional,comment:e.comment,send_to:e.send_to};e.cargo_temperature.cargo_temperature_control||delete i.cargo_temperature,1!==e.transport_kind_id&&(delete i.departure_point_id,delete i.arrival_point_id,delete i.cargo_places_paid_weight),2===e.transport_kind_id&&(delete i.incoterms_city_id,delete i.incoterms_id,delete i.services,delete i.services_optional,delete i.comment),console.log(i),this.isEditMode?this.updateRequest(i):this.createRequest(i)}planD(e){const i={id:this.id,customer_id:e.customer_id,request_type_id:e.request_type_id,transport_kind_id:e.transport_kind_id,transport_type_id:e.transport_type_id,cargo_description:e.cargo_description,cargo_type_id:e.cargo_type_id,cargo_danger:e.cargo_danger,cargo_separately:e.cargo_separately,cargo_places:e.cargo_places,cargo_places_count:e.cargo_places.length,cargo_places_weight:e.cargo_places_weight,cargo_places_volume:e.cargo_places_volume,cargo_places_density:e.cargo_places_density,cargo_cost:e.cargo_cost,cargo_currency_id:e.cargo_currency_id,cargo_readiness:e.cargo_readiness,departure_city_id:e.departure_city_id,departure_country_id:e.departure_country_id,departure_address:e.departure_address,arrival_city_id:e.arrival_city_id,arrival_country_id:e.arrival_country_id,arrival_address:e.arrival_address,departure_flight:e.departure_flight,cargo_temperature:e.cargo_temperature,cargo_places_paid_weight:e.cargo_places_paid_weight,departure_point_id:e.departure_point_id,arrival_point_id:e.arrival_point_id,incoterms_id:e.incoterms_id,incoterms_city_id:e.incoterms_city_id,services:e.services,services_optional:e.services_optional,comment:e.comment,send_to:e.send_to};e.cargo_temperature.cargo_temperature_control||delete i.cargo_temperature,1!==e.transport_kind_id&&(delete i.departure_point_id,delete i.arrival_point_id,delete i.cargo_places_paid_weight),2===e.transport_kind_id&&(delete i.incoterms_city_id,delete i.incoterms_id,delete i.services,delete i.services_optional,delete i.comment),console.log(i),this.isEditMode?this.updateRequest(i):this.createRequest(i)}removePlace(e){this.places.removeAt(e),this.requestForm.markAsTouched()}addPlace(){this.places.push(this.fb.control({request_id:this.request.id})),this.requestForm.markAsTouched()}get places(){return this.requestForm.get("cargo_places")}onPlaceEditorChange(){let e=0,i=0,o=this.requestForm.value.cargo_places.length,s=0,u=0;this.requestForm.value.cargo_places.forEach(I=>{I&&(I.volume>0&&(e+=I.volume),I.total_weight>0&&(i+=I.total_weight))}),u=i/e>0?i/e:0;let x=167*e;s=i>=x?i:x,this.requestForm.patchValue({cargo_places_volume:e.toFixed(2),cargo_places_weight:i.toFixed(2),cargo_places_count:o,cargo_places_paid_weight:s.toFixed(2),cargo_places_density:u.toFixed(2)})}weightAndVolumeChange(){const e=this.requestForm.value.cargo_places_weight/this.requestForm.value.cargo_places_volume;let o,s=this.requestForm.value.cargo_places_weight,u=167*this.requestForm.value.cargo_places_volume;o=s>=u?s:u,this.requestForm.patchValue({cargo_places_density:(e>0&&e<1/0?e:0).toFixed(2),cargo_places_paid_weight:o.toFixed(2)})}changeForm_Customer(e){this.requestForm.patchValue({customer_id:e.id,customer_name:e.name})}changeForm_TransportType(e){this.requestForm.patchValue({transport_type_id:e.id,transport_type_name:e.name})}changeForm_CargoPackage(e){this.requestForm.patchValue({cargo_package_id:e.id,cargo_package_name:e.name})}changeForm_CargoType(e){this.requestForm.patchValue({cargo_type_id:e.id,cargo_type_name:e.name}),"temperature"!==e.param&&this.requestForm.controls.cargo_temperature.reset()}changeForm_DepartureSity(e){this.getCountries(),this.requestForm.patchValue({departure_city_id:e.id,departure_country_id:e.country_id,departure_country_name:e.country_name}),1==this.requestForm.value.transport_kind_id&&this.getDeparturePoint(e.country_id,this.requestForm.value.transport_kind_id)}onIncotermsChange(e){this.requestForm.controls.services.reset(),this.requestForm.controls.services_optional.reset();let i=[],o=[];i=e.services_id.filter(s=>this.services.some(u=>u.id===s)),o=e.services_id.filter(s=>this.servicesAdditionals.some(u=>u.id===s)),this.requestForm.patchValue({services:i,services_optional:o})}onPlaceModeChange(){for(;this.requestForm.value.cargo_places.length>2;)this.removePlace(0);for(;this.requestForm.value.cargo_places.length<2;)this.addPlace();this.requestForm.controls.cargo_places.reset([{},{}]),this.requestForm.controls.cargo_places_count.reset(),this.requestForm.controls.cargo_places_weight.reset(),this.requestForm.controls.cargo_places_volume.reset(),this.requestForm.controls.cargo_places_paid_weight.reset(),this.requestForm.controls.cargo_places_density.reset(),this.requestForm.controls.cargo_cost.reset(),this.requestForm.controls.cargo_currency_id.reset()}onTempModeChange(){this.requestForm.value.cargo_temperature.cargo_temperature_control||this.requestForm.controls.cargo_temperature.reset()}onRequestFormatsChange(e){this.requestForm.controls.cargo_package_id.reset(),this.requestForm.controls.cargo_type_id.reset(),this.requestForm.controls.cargo_places_count.reset(),this.requestForm.controls.cargo_places_weight.reset(),this.requestForm.controls.cargo_places_volume.reset(),this.requestForm.controls.cargo_places_paid_weight.reset(),this.requestForm.controls.cargo_places_density.reset(),this.requestForm.controls.cargo_cost.reset(),this.requestForm.controls.cargo_currency_id.reset(),this.requestForm.controls.comment.reset()}onTransportationFormatsChange(e){this.requestForm.controls.transport_type_id.reset(),this.requestForm.controls.transport_type_name.reset(),this.requestForm.controls.incoterms_id.reset(),this.requestForm.controls.departure_point_id.reset(),this.requestForm.controls.services.reset(),this.requestForm.controls.services_optional.reset(),this.transport_kind_id=e,this.getTransportFormatsById(this.requestForm.value.transport_kind_id),this.getIncoterms(this.requestForm.value.transport_kind_id),this.getRequestServices(this.requestForm.value.transport_kind_id),this.getRequestServicesAdditional(this.requestForm.value.transport_kind_id)}onArrivalCityChange(e){this.requestForm.controls.arrival_country_id.reset(),this.requestForm.patchValue({arrival_city_id:e.id,arrival_country_id:e.country_id,arrival_country_name:e.country_name}),this.getArrivalPoint(e.country_id,this.requestForm.value.transport_kind_id)}onPortChange(e){this.requestForm.patchValue({incoterms_city_id:e.id})}onRequestTypeChange(e){this.requestForm.patchValue({request_type_id:e.id})}searchPort(e){this.getPorts(e.target.value)}getCustomers(){return this.customerService.customerList().pipe((0,g.M)(e=>{this.customers=e.items,this.filteredCustomers=e.items}),(0,p.Q)(this._destroy$))}getCustomersByName(e){this.customerService.customerList({name:e}).pipe((0,g.M)(i=>this.customers=i.items),(0,p.Q)(this._destroy$)).subscribe()}getRequestFormats(){return this.requestService.requestType().pipe((0,g.M)(e=>this.requestFormats=e),(0,p.Q)(this._destroy$))}getTransportationFormats(){return this.transportService.transportKind().pipe((0,g.M)(e=>this.transportationFormats=e),(0,p.Q)(this._destroy$))}getTransportFormatsById(e){this.transportService.transportType({kind_id:e}).pipe((0,g.M)(i=>{console.log("transportFormats",i),this.transportFormats=i,this.filteredTransportFormats=i}),(0,p.Q)(this._destroy$)).subscribe()}getTransportFormats(){return this.transportService.transportType().pipe((0,g.M)(e=>{this.transportFormats=e,this.filteredTransportFormats=e}),(0,p.Q)(this._destroy$))}get\u0421argoPackages(){return this.cargoService.cargoPackage().pipe((0,g.M)(e=>{this.cargoPackages=e,this.filteredCargoPackage=e}),(0,p.Q)(this._destroy$))}get\u0421argoTypes(){return this.cargoService.cargoType().pipe((0,g.M)(e=>{this.filteredCargoType=e,this.cargoTypes=e}),(0,p.Q)(this._destroy$))}getCurrencys(){return this.systemService.systemCurrency().pipe((0,g.M)(e=>this.currencys=e),(0,p.Q)(this._destroy$))}getCountries(){return this.countryService.getCountries().pipe((0,g.M)(e=>{this.filteredDepartureCountrys=e,this.filteredArrivalCountrys=e,this.countrys=e}),(0,p.Q)(this._destroy$))}getCities(){return this.directionService.directionCity().pipe((0,g.M)(e=>{this.filteredArrivalCitys=e,this.filteredDepartureCitys=e,this.citys=e}),(0,p.Q)(this._destroy$))}getDeparturePoint(e,i){this.directionService.directionPoint({country_id:e,transport_kind_id:i}).pipe((0,g.M)(o=>{this.departurePoint=o||[],this.filteredDeparturePoint=o||[],this.requestForm.patchValue({departure_point_id:this.requestForm.value.departure_point_id})}),(0,p.Q)(this._destroy$)).subscribe()}getArrivalPoint(e,i){this.directionService.directionPoint({country_id:e,transport_kind_id:i}).pipe((0,g.M)(o=>{this.arrivalPoint=o||[],this.filteredArrivalPoint=o||[],this.requestForm.patchValue({arrival_point_id:this.requestForm.value.arrival_point_id})}),(0,p.Q)(this._destroy$)).subscribe()}getDirectionFlight(){return this.directionService.directionFlight().pipe((0,g.M)(e=>this.directionFlights=e),(0,p.Q)(this._destroy$))}getPorts(e){this.directionService.directionCity({search:e}).pipe((0,g.M)(i=>this.ports=i),(0,p.Q)(this._destroy$)).subscribe()}getIncoterms(e){this.requestService.requestIncoterms({kind_id:e}).pipe((0,g.M)(i=>{this.incoterms=i}),(0,p.Q)(this._destroy$)).subscribe()}getRequestServices(e){this.requestService.requestServices({kind_id:e}).pipe((0,g.M)(i=>this.services=i),(0,p.Q)(this._destroy$)).subscribe()}getRequestServicesAdditional(e){this.requestService.requestServicesAdditional({kind_id:e}).pipe((0,g.M)(i=>this.servicesAdditionals=i),(0,p.Q)(this._destroy$)).subscribe()}getFile(e){this.requestService.requestFiles({item_id:e,var:"documents_file"}).pipe((0,g.M)(i=>this.documents=i||[]),(0,p.Q)(this._destroy$)).subscribe()}getDangerFile(e){this.requestService.requestFiles({item_id:e,var:"cargo_file"}).pipe((0,g.M)(i=>this.documentsDanger=i||[]),(0,p.Q)(this._destroy$)).subscribe()}updateRequest(e){this.requestService.requestUpdate({body:e}).pipe().subscribe({next:()=>{this.fileListDanger?.update().subscribe(),this.fileList?.update().subscribe(),this.isNavigateAfterSave&&this.goBack(),this.snackBar.open("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0451\u043d",void 0,this.snackBarWithShortDuration)},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}getRequest(){return this.requestService.requestInfo({id:this.id}).pipe((0,g.M)(e=>{e.arrival_country_id&&e.transport_kind_id&&this.getArrivalPoint(e.arrival_country_id,e.transport_kind_id),e.departure_country_id&&e.transport_kind_id&&this.getDeparturePoint(e.departure_country_id,e.transport_kind_id),console.log("\u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",e)}),(0,g.M)(e=>{if(!e)throw{error:{error_message:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}};e.cargo_places?.forEach(()=>{this.addPlace()}),this.requestForm.patchValue(e),this.transport_kind_id=e.transport_kind_id,this.getFile(e.id),this.getDangerFile(e.id),this.getTransportFormatsById(this.requestForm.value.transport_kind_id),this.getIncoterms(this.requestForm.value.transport_kind_id),this.getRequestServices(this.requestForm.value.transport_kind_id),this.getRequestServicesAdditional(this.requestForm.value.transport_kind_id)}),(0,wt.W)(e=>(this.snackBar.open("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: "+e.error.error_message,void 0,this.snackBarWithShortDuration),this.goBack(),(0,Mt.$)(()=>e))),(0,p.Q)(this._destroy$))}createRequest(e){this.requestService.requestCreate({body:e}).pipe().subscribe({next:i=>{console.log(i),this.fileListDanger?.create(i.id).subscribe(),this.fileList?.create(i.id).subscribe(),this.isNavigateAfterSave?this.goBack():this.router.navigate(["pages/request/edit",i.id]),this.snackBar.open("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0437\u0434\u0430\u043d",void 0,this.snackBarWithShortDuration)},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(F.nX),t.rXU(a.ok),t.rXU(D.m6),t.rXU(D.TD),t.rXU(D.By),t.rXU(D.qT),t.rXU(D.H7),t.rXU(ft),t.rXU(Ct),t.rXU(D.V9),t.rXU(q.UG),t.rXU(d.aZ),t.rXU(F.Ix),t.rXU(lo),t.rXU(qt.Z))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-request-editor"]],viewQuery:function(i,o){if(1&i&&(t.GBs(Ho,5),t.GBs(Uo,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.fileList=s.first),t.mGM(s=t.lsd())&&(o.fileListDanger=s.first)}},decls:235,vars:85,consts:[["class","loader",4,"ngIf"],[3,"title","name","isCalck","isEditMode","save","remove","calc"],[1,"edit-form","request",3,"formGroup"],[1,"form-block"],[1,"form-row"],[1,"form-item-layout"],[1,"form-item"],[1,"form-label"],[1,"req"],[1,"form-data"],["matInput","","type","text","formControlName","customer_id",3,"matAutocomplete"],[3,"displayWith"],["customer_id","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["disabled","",4,"ngIf"],[4,"ngIf"],["formControlName","request_type_id",3,"valueChange"],["class","edit-form__mat-option",3,"value",4,"ngFor","ngForOf"],[1,"radio-btn",3,"change"],["type","radio","name","transport_kind_id","formControlName","transport_kind_id",3,"value","checked"],["title","\u0410\u0432\u0438\u0430",1,"avia"],["width","21","height","20","viewBox","0 0 21 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M20.636 10.0449L16.9866 9.01727V7.41992C16.9866 6.63672 16.3143 6 15.4877 6C14.6613 6 13.989 6.63672 13.989 7.41992V8.17322L12.0068 7.61511L12.0042 3.75586C12.0042 3.71875 11.8452 0 10.5063 0C9.16852 0 9.00946 3.71875 9.00946 3.75586V7.61053L7.01105 8.17328V7.41992C7.01105 6.63672 6.33875 6 5.51227 6C4.68573 6 4.01343 6.63672 4.01343 7.41992V9.0174L0.364441 10.0449C0.148804 10.1055 0 10.3027 0 10.5264V12.3682C0 12.5078 0.0585327 12.6416 0.161987 12.7363C0.254211 12.8213 0.375183 12.8682 0.499634 12.8682C0.513733 12.8682 0.527893 12.8672 0.542053 12.8662L9.00946 12.1398V14.3264L5.61957 16.3799C5.47028 16.4707 5.37854 16.6328 5.37854 16.8076V17.5C5.37854 17.7764 5.60199 18 5.87817 18H9.31091C9.52667 19.04 9.89081 20 10.5063 20C11.1223 20 11.4867 19.04 11.7026 18H15.1218C15.398 18 15.6215 17.7764 15.6215 17.5V16.8076C15.6215 16.6328 15.5297 16.4707 15.3804 16.3799L12.0042 14.3347V12.141L20.4575 12.8662C20.4721 12.8672 20.4858 12.8682 20.5004 12.8682C20.6253 12.8682 20.7453 12.8213 20.838 12.7363C20.9415 12.6416 21 12.5078 21 12.3682V10.5264C21 10.3027 20.8507 10.1055 20.636 10.0449ZM14.9882 7.41992C14.9882 7.18848 15.2126 7 15.4877 7C15.7629 7 15.9874 7.18848 15.9874 7.41992V8.73596L14.9882 8.45459V7.41992ZM5.01263 7.41992C5.01263 7.18848 5.23706 7 5.51227 7C5.78741 7 6.01184 7.18848 6.01184 7.41992V8.45465L5.01263 8.73602V7.41992ZM6.52509 17L9.01215 15.4935C9.02057 15.6901 9.05389 16.2943 9.14496 17H6.52509ZM11.8687 17C11.9589 16.3015 11.9924 15.7044 12.0012 15.5016L14.4749 17H11.8687ZM20.0008 11.8232L11.5504 11.0986C11.5431 11.0983 11.5366 11.1017 11.5293 11.1017C11.5206 11.1013 11.5134 11.0967 11.5046 11.0967C11.4529 11.0967 11.4058 11.1115 11.3589 11.126C11.3579 11.1264 11.3567 11.1263 11.3556 11.1267C11.2372 11.1643 11.1422 11.243 11.0804 11.3483C11.0753 11.3566 11.0689 11.3634 11.0643 11.3721C11.0416 11.4163 11.03 11.4646 11.0214 11.5153C11.019 11.5289 11.011 11.5397 11.0098 11.5537C11.0095 11.5579 11.0114 11.5615 11.0112 11.5657C11.0105 11.5765 11.0049 11.5857 11.0049 11.5967V15.4238C11.0049 16.2666 10.7591 17.8379 10.5063 18.6289C10.2546 17.8379 10.0087 16.2666 10.0087 15.4238V11.5967C10.0087 11.3693 9.85443 11.1854 9.64709 11.1245C9.64264 11.123 9.63782 11.1232 9.6333 11.1218C9.59259 11.1111 9.55316 11.0967 9.50909 11.0967C9.49884 11.0967 9.49036 11.1019 9.48029 11.1025C9.46973 11.1025 9.46021 11.0979 9.44958 11.0986L0.999207 11.8232V10.9053L9.62811 8.47559C9.6347 8.47369 9.63916 8.46869 9.64557 8.46661C9.8537 8.40625 10.0087 8.22205 10.0087 7.99414V3.75586C10.0087 2.92773 10.2741 1.72754 10.5063 1.19824C10.7396 1.72656 11.0049 2.92773 11.0049 3.75586L11.0079 7.99414C11.0079 8.00513 11.0134 8.01428 11.0141 8.02509C11.0163 8.05981 11.0251 8.09155 11.0342 8.12451C11.0426 8.15503 11.0495 8.18494 11.0633 8.21283C11.0773 8.24127 11.0964 8.26501 11.1155 8.29034C11.135 8.31628 11.1531 8.3418 11.1773 8.3634C11.2 8.38385 11.2264 8.39825 11.253 8.41443C11.2824 8.43237 11.3107 8.44952 11.3438 8.46112C11.354 8.46472 11.3613 8.4726 11.3719 8.47559L20.0008 10.9053V11.8232Z","fill","#83909E"],["title","\u0410\u0432\u0442\u043e",1,"road"],["width","21","height","18","viewBox","0 0 21 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M20.5 2H19V0.5C19 0.223633 18.7764 0 18.5 0H2.5C2.22363 0 2 0.223633 2 0.5V2H0.5C0.223633 2 0 2.22363 0 2.5V6.5C0 6.77637 0.223633 7 0.5 7H2V7.5V15.5V17.5C2 17.7764 2.22363 18 2.5 18H5.5C5.77637 18 6 17.7764 6 17.5V16H15V17.5C15 17.7764 15.2236 18 15.5 18H18.5C18.7764 18 19 17.7764 19 17.5V15.5V7.5V7H20.5C20.7764 7 21 6.77637 21 6.5V2.5C21 2.22363 20.7764 2 20.5 2ZM2 6H1V3H2V6ZM5 17H3V16H4.5H5V17ZM5.5 15H5V14H16V15H15.5H5.5ZM18 17H16V16H16.5H18V17ZM18 15H17V13.5C17 13.2236 16.7764 13 16.5 13H4.5C4.22363 13 4 13.2236 4 13.5V15H3V8H6.00098V9.5V11.5C6.00098 11.7764 6.22461 12 6.50098 12H14.499C14.7754 12 14.999 11.7764 14.999 11.5V9.5V8H18V15ZM13.999 10V11H7.00098V10H13.999ZM7.00098 9V8H13.999V9H7.00098ZM18 2.5V6.5V7H14.499H6.50098H3V6.5V2.5V1H18V2.5ZM20 6H19V3H20V6Z","fill","#83909E"],["title","\u041c\u043e\u0440\u0435",1,"sea"],["width","25","height","18","viewBox","0 0 25 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M24.5 15C23.1582 15 22.5908 15.6475 22.1348 16.167C21.7109 16.6504 21.4043 17 20.5 17C20.2117 17 19.997 16.9543 19.807 16.8902L22.8926 8.82422C22.9463 8.68359 22.9346 8.52734 22.8594 8.39648C22.7852 8.2666 22.6562 8.17676 22.5078 8.15234L20 7.7356V2.5C20 2.22363 19.7764 2 19.5 2H18V0.5C18 0.223633 17.7764 0 17.5 0H7.5C7.22363 0 7 0.223633 7 0.5V2H5.5C5.22363 2 5 2.22363 5 2.5V7.73566L2.49268 8.15234C2.34473 8.17676 2.21533 8.2666 2.14111 8.39648C2.06641 8.52734 2.0542 8.68359 2.10791 8.82422L5.19299 16.8902C5.00299 16.9543 4.78827 17 4.5 17C3.5957 17 3.28955 16.6504 2.86523 16.167C2.40918 15.6475 1.8418 15 0.5 15C0.223633 15 0 15.2236 0 15.5C0 15.7764 0.223633 16 0.5 16C1.38867 16 1.69287 16.3467 2.11328 16.8262C2.57178 17.3496 3.14258 18 4.5 18C5.85742 18 6.42773 17.3496 6.88672 16.8262C7.30762 16.3467 7.61133 16 8.5 16C9.38867 16 9.69238 16.3467 10.1133 16.8262C10.5723 17.3496 11.1426 18 12.5 18C13.8574 18 14.4277 17.3496 14.8867 16.8262C15.3076 16.3467 15.6113 16 16.5 16C17.3887 16 17.6924 16.3467 18.1133 16.8262C18.5723 17.3496 19.1426 18 20.5 18C21.8574 18 22.4277 17.3496 22.8867 16.8262C23.3076 16.3467 23.6113 16 24.5 16C24.7764 16 25 15.7764 25 15.5C25 15.2236 24.7764 15 24.5 15ZM8 1H17V2H8V1ZM6 3H7.5H17.5H19V7.56946L12.582 6.50293C12.5547 6.49823 12.5276 6.50708 12.5001 6.50714C12.4725 6.50708 12.4456 6.49823 12.418 6.50293L6 7.56946V3ZM10.8652 16.167C10.4092 15.6475 9.8418 15 8.5 15C7.1582 15 6.59082 15.6475 6.13477 16.167C6.09869 16.2081 6.06506 16.2417 6.03021 16.2808L3.26025 9.03809L12 7.58594V16.9461C11.468 16.8354 11.1973 16.5457 10.8652 16.167ZM16.5 15C15.1582 15 14.5908 15.6475 14.1348 16.167C13.8027 16.5457 13.532 16.8354 13 16.9461V7.58594L21.7402 9.03809L18.9698 16.2808C18.9349 16.2417 18.9013 16.2081 18.8652 16.167C18.4092 15.6475 17.8418 15 16.5 15ZM10 4.5C10 4.77637 9.77637 5 9.5 5H7.5C7.22363 5 7 4.77637 7 4.5C7 4.22363 7.22363 4 7.5 4H9.5C9.77637 4 10 4.22363 10 4.5ZM13.5 5H11.5C11.2236 5 11 4.77637 11 4.5C11 4.22363 11.2236 4 11.5 4H13.5C13.7764 4 14 4.22363 14 4.5C14 4.77637 13.7764 5 13.5 5ZM15 4.5C15 4.22363 15.2236 4 15.5 4H17.5C17.7764 4 18 4.22363 18 4.5C18 4.77637 17.7764 5 17.5 5H15.5C15.2236 5 15 4.77637 15 4.5Z","fill","#83909E"],["title","\u0416/\u0414",1,"rw"],["width","23","height","22","viewBox","0 0 23 22","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9713 7.19846C13.9127 7.42414 13.7106 7.57265 13.4879 7.57265C13.4469 7.57265 13.4039 7.56776 13.362 7.55604L11.4879 7.06656L9.6139 7.55604C9.3434 7.63224 9.07386 7.46518 9.00453 7.19846C8.93422 6.93173 9.09437 6.65817 9.36195 6.58881L11.362 6.06611C11.444 6.04462 11.5319 6.04462 11.6139 6.06611L13.6139 6.58881C13.8815 6.65817 14.0416 6.93173 13.9713 7.19846ZM13.6139 8.5897L11.6139 8.06701C11.5319 8.04551 11.444 8.04551 11.362 8.06701L9.36195 8.5897C9.09437 8.65907 8.93422 8.93263 9.00453 9.19935C9.07386 9.46705 9.3434 9.63314 9.6139 9.55693L11.4879 9.06746L13.362 9.55693C13.4039 9.56866 13.4469 9.57354 13.4879 9.57354C13.7106 9.57354 13.9127 9.42504 13.9713 9.19935C14.0416 8.93263 13.8815 8.65907 13.6139 8.5897ZM3.98793 15.4971V6.21462V5.49261V2.25679C3.98793 2.0272 4.1432 1.82789 4.36586 1.7722L11.3659 0.00578385C11.3684 0.00505112 11.3711 0.00621124 11.3737 0.00553964C11.4088 -0.00288703 11.444 0.00303612 11.4802 0.0025476C11.5217 0.00169272 11.5621 -0.00423033 11.6027 0.00560077C11.6051 0.00621144 11.6076 0.00511225 11.61 0.00578395L18.61 1.7722C18.8327 1.82789 18.9879 2.0272 18.9879 2.25679V5.49261V6.21462V15.4971C18.9879 15.7736 18.7643 15.9973 18.4879 15.9973H4.48793C4.21156 15.9973 3.98793 15.7736 3.98793 15.4971ZM17.9879 14.9969V6.60383L11.4879 4.96357L4.98793 6.60383V14.9969H17.9879ZM17.9879 2.64661L11.9879 1.13226V4.05838L17.9879 5.57273V5.49261V2.64661ZM4.98793 5.49261V5.57273L10.9879 4.05838V1.13226L4.98793 2.64661V5.49261ZM8.98793 12.4957C8.98793 13.3233 8.31508 13.9964 7.48793 13.9964C6.66078 13.9964 5.98793 13.3233 5.98793 12.4957C5.98793 11.6682 6.66078 10.9951 7.48793 10.9951C8.31508 10.9951 8.98793 11.6682 8.98793 12.4957ZM7.98793 12.4957C7.98793 12.2202 7.76332 11.9955 7.48793 11.9955C7.21254 11.9955 6.98793 12.2202 6.98793 12.4957C6.98793 12.7713 7.21254 12.996 7.48793 12.996C7.76332 12.996 7.98793 12.7713 7.98793 12.4957ZM16.9879 12.4957C16.9879 13.3233 16.3151 13.9964 15.4879 13.9964C14.6608 13.9964 13.9879 13.3233 13.9879 12.4957C13.9879 11.6682 14.6608 10.9951 15.4879 10.9951C16.3151 10.9951 16.9879 11.6682 16.9879 12.4957ZM15.9879 12.4957C15.9879 12.2202 15.7633 11.9955 15.4879 11.9955C15.2125 11.9955 14.9879 12.2202 14.9879 12.4957C14.9879 12.7713 15.2125 12.996 15.4879 12.996C15.7633 12.996 15.9879 12.7713 15.9879 12.4957ZM5.48793 16.9978C5.21156 16.9978 4.98793 17.2215 4.98793 17.498C4.98793 17.7745 5.21156 17.9982 5.48793 17.9982H17.4879C17.7643 17.9982 17.9879 17.7745 17.9879 17.498C17.9879 17.2215 17.7643 16.9978 17.4879 16.9978H5.48793ZM4.48793 19.9991H18.4879C18.7643 19.9991 18.9879 19.7754 18.9879 19.4989C18.9879 19.2224 18.7643 18.9987 18.4879 18.9987H4.48793C4.21156 18.9987 3.98793 19.2224 3.98793 19.4989C3.98793 19.7754 4.21156 19.9991 4.48793 19.9991ZM19.4879 20.9996H3.48793C3.21156 20.9996 2.98793 21.2233 2.98793 21.4998C2.98793 21.7763 3.21156 22 3.48793 22H19.4879C19.7643 22 19.9879 21.7763 19.9879 21.4998C19.9879 21.2233 19.7643 20.9996 19.4879 20.9996ZM3.43812 17.0818C3.20863 16.9284 2.89857 16.9899 2.74476 17.2205L0.0836305 21.2223C-0.0692015 21.4529 -0.0067015 21.7636 0.223279 21.916C0.30824 21.9726 0.404431 22 0.499646 22C0.661267 22 0.819959 21.9218 0.916638 21.7772L3.57777 17.7755C3.7306 17.5449 3.6681 17.2342 3.43812 17.0818ZM22.9157 21.2223L20.2545 17.2205C20.1012 16.9899 19.7907 16.9294 19.5612 17.0818C19.3317 17.2342 19.2692 17.5449 19.4225 17.7755L22.0836 21.7772C22.1793 21.9218 22.3385 22 22.4996 22C22.5953 22 22.6911 21.9726 22.777 21.916C23.0065 21.7636 23.069 21.4529 22.9157 21.2223Z","fill","#83909E"],["matInput","","type","text","formControlName","transport_type_id",3,"matAutocomplete"],["transport_type_id","matAutocomplete"],[1,"form-block-title"],[1,"form-item","i2"],["type","text","name","cargo_description","formControlName","cargo_description","placeholder","\u2014"],[1,"form-item","i4"],["matInput","","type","text","formControlName","cargo_package_id",3,"matAutocomplete"],["cargo_package_id","matAutocomplete"],["matInput","","type","text","formControlName","cargo_type_id",3,"matAutocomplete"],["cargo_type_id","matAutocomplete"],["class","form-row","formGroupName","cargo_temperature",4,"ngIf"],["class","form-row",4,"ngIf"],["type","checkbox","formControlName","cargo_separately",3,"change"],["class","form-item-table","formArrayName","cargo_places",4,"ngIf"],[1,"form-row","bg"],[1,"form-item-block"],[1,"form-item","w124"],["type","number","name","cargo_places_count","formControlName","cargo_places_count",4,"ngIf"],["type","number","readonly","",3,"value",4,"ngIf"],["type","number","formControlName","cargo_places_weight",3,"keyup","click",4,"ngIf"],[1,"sup"],["type","number","name","cargo_places_volume","formControlName","cargo_places_volume",3,"keyup","click",4,"ngIf"],["class","form-item w112",4,"ngIf"],[1,"form-item","w112"],["type","number","readonly","",3,"value"],["class","form-item-block",4,"ngIf"],["class","form-item w124",4,"ngIf"],["matInput","","type","text","formControlName","departure_city_id",3,"matAutocomplete"],["departure_city_id","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"form-item","i8"],["matInput","","type","text","formControlName","departure_country_id",3,"matAutocomplete"],["departure_country_id","matAutocomplete"],["class","form-item i4",4,"ngIf"],[1,"form-item","stretch"],["type","text","name","departure_address","formControlName","departure_address","placeholder","\u2014",1,""],["matInput","","type","text","formControlName","arrival_city_id",3,"matAutocomplete"],["arrival_city_id","matAutocomplete"],["matInput","","type","text","formControlName","arrival_country_id",3,"matAutocomplete"],["arrival_country_id","matAutocomplete"],["type","text","name","arrival_address","formControlName","arrival_address","placeholder","\u2014",1,"edit-form__input","bg-color_grey1"],[1,"form-row","sep"],[4,"ngFor","ngForOf"],["class","form-block-title",4,"ngIf"],["class","form-block",4,"ngIf"],[1,"hdr","ftr"],[1,"title"],[1,"fn"],[1,"btn","v","save",3,"click"],["class","btn v del",3,"click",4,"ngIf"],[1,"btn","v","cancel",3,"click"],[1,"loader"],[3,"value"],["disabled",""],[1,"edit-form__mat-option",3,"value"],["formGroupName","cargo_temperature",1,"form-row"],[1,"form-item","i2","max-w-fc"],["type","checkbox","formControlName","cargo_temperature_control"],["class","form-item i2 wa temperature",4,"ngIf"],[1,"form-item","i2","wa","temperature"],["type","number","name","cargo_temperature_min","formControlName","cargo_temperature_min"],[1,"s"],["type","number","name","cargo_temperature_max","formControlName","cargo_temperature_max"],[1,"t"],["type","checkbox","formControlName","cargo_danger"],["component","request","var","cargo_file",3,"isTitle","showLinks","isError","documents","itemId",4,"ngIf"],["component","request","var","cargo_file",3,"isTitle","showLinks","isError","documents","itemId"],["fileListDanger",""],["formArrayName","cargo_places",1,"form-item-table"],["class","place",3,"formControlName","currentRequestFormat","num","data_CargoPackages","removePlace","keyup","click","paste",4,"ngFor","ngForOf"],[1,"form-item-table-row","btn-del-place"],[1,"btn","add-file",3,"click"],[1,"place",3,"formControlName","currentRequestFormat","num","data_CargoPackages","removePlace","keyup","click","paste"],["type","number","name","cargo_places_count","formControlName","cargo_places_count"],["type","number","formControlName","cargo_places_weight",3,"keyup","click"],["type","number","name","cargo_places_volume","formControlName","cargo_places_volume",3,"keyup","click"],[1,"form-item","w138"],["type","number","name","cargo_cost","formControlName","cargo_cost"],[1,"form-item","w90"],["appearance","outline",1,"ui-select"],["formControlName","cargo_currency_id"],[1,"form-item","w142"],[1,"datepiker",3,"click"],["formControlName","cargo_readiness","readonly","",1,"test",2,"z-index","-1","width","1px",3,"matDatepicker","dateChange"],[1,"btn-date"],["picker",""],[1,"form-item","w172"],[1,"form-item","w70"],[1,"form-label","stacking-label"],["formControlName","cargo_places_stacking",3,"ngClass"],[1,"stacking-div"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 14 14","fill","none"],["id","Vector","d","M0 10V14H14V10H0ZM13 13H1V11H13V13ZM10 0H4V4H10V0ZM9 3H5V1H9V3ZM12 5.00049H2V9.00049H12V5.00049ZM11 8.00049H3V6.00049H11V8.00049Z","fill","#83909E"],["id","III","clip-path","url(#clip0_2405_1643)"],["id","Vector","d","M10.207 5.29297C10.5977 5.68359 10.5977 6.31641 10.207 6.70703C10.0117 6.90234 9.75586 7 9.5 7C9.24414 7 8.98828 6.90234 8.79297 6.70703L7 4.91406L5.20703 6.70703C5.01172 6.90234 4.75586 7 4.5 7C4.24414 7 3.98828 6.90234 3.79297 6.70703C3.40234 6.31641 3.40234 5.68359 3.79297 5.29297L5.58594 3.5L3.79297 1.70703C3.40234 1.31641 3.40234 0.683594 3.79297 0.292969C4.18359 -0.0976561 4.81641 -0.0976561 5.20703 0.292969L7 2.08594L8.79297 0.292969C9.18359 -0.0976562 9.81641 -0.0976562 10.207 0.292969C10.5977 0.683594 10.5977 1.31641 10.207 1.70703L8.41406 3.5L10.207 5.29297Z","fill","#DB563B"],["id","Vector_2","d","M0 14H14V10H0V14ZM1 11H13V13H1V11ZM14 4.99951V5.99951V8.99951H0V5.99951V4.99951H1H2V5.99951H1V7.99951H13V5.99951H12V4.99951H13H14Z","fill","#83909E"],["id","clip0_2405_1643"],["width","14","height","14","fill","white"],["component","request","var","documents_file",3,"showLinks","documents","itemId"],["fileList",""],[3,"value","click"],["matInput","","type","text","formControlName","departure_point_id",3,"matAutocomplete"],["departure_point_id","matAutocomplete"],["matInput","","type","text","formControlName","arrival_point_id",3,"matAutocomplete"],["arrival_point_id","matAutocomplete"],["formControlName","departure_flight","type","radio","name","departure_flight",3,"value"],["formControlName","incoterms_id"],["appearance","outline","type","text","name","incoterms_city_name","formControlName","incoterms_city_name","placeholder","\u2014",3,"matAutocomplete","keyup"],["port","matAutocomplete"],["class","form-row bg",4,"ngIf"],[1,"form-block-sub-title"],["formControlName","services",3,"services"],["formControlName","services_optional",3,"services"],["name","comment","placeholder","\u2014","formControlName","comment",2,"height","120px"],[1,"form-item-layout","sep2"],["type","radio","formControlName","send_to","value","contractor"],["type","radio","formControlName","send_to","value","employee"],[1,"btn","v","del",3,"click"]],template:function(i,o){if(1&i&&(t.DNE(0,Wo,2,0,"div",0),t.nI1(1,"async"),t.j41(2,"app-editor-header",1),t.bIt("save",function(){return o.save()})("remove",function(){return o.remove()})("calc",function(){return o.calc()}),t.k0s(),t.j41(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),t.EFF(9,"\u041a\u041b\u0418\u0415\u041d\u0422: "),t.j41(10,"span",8),t.EFF(11,"\u2022"),t.k0s()(),t.j41(12,"div",9),t.nrm(13,"input",10),t.j41(14,"mat-autocomplete",11,12),t.DNE(16,zo,2,2,"mat-option",13),t.DNE(17,Zo,2,0,"mat-option",14),t.k0s(),t.DNE(18,Ko,2,0,"mat-error",15),t.k0s()(),t.j41(19,"div",6)(20,"div",7),t.EFF(21,"\u0412\u0438\u0434 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "),t.j41(22,"span",8),t.EFF(23,"\u2022"),t.k0s()(),t.j41(24,"div",9)(25,"mat-select",16),t.bIt("valueChange",function(u){return o.onRequestFormatsChange(u)}),t.DNE(26,Jo,2,2,"mat-option",17),t.k0s()()(),t.j41(27,"div",6)(28,"div",7),t.EFF(29,"\u0412\u0438\u0434 \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0438 "),t.j41(30,"span",8),t.EFF(31,"\u2022"),t.k0s()(),t.j41(32,"div",9)(33,"label",18),t.bIt("change",function(){return o.onTransportationFormatsChange(1)}),t.nrm(34,"input",19),t.j41(35,"span",20),t.qSk(),t.j41(36,"svg",21),t.nrm(37,"path",22),t.k0s()()(),t.joV(),t.j41(38,"label",18),t.bIt("change",function(){return o.onTransportationFormatsChange(2)}),t.nrm(39,"input",19),t.j41(40,"span",23),t.qSk(),t.j41(41,"svg",24),t.nrm(42,"path",25),t.k0s()()(),t.joV(),t.j41(43,"label",18),t.bIt("change",function(){return o.onTransportationFormatsChange(4)}),t.nrm(44,"input",19),t.j41(45,"span",26),t.qSk(),t.j41(46,"svg",27),t.nrm(47,"path",28),t.k0s()()(),t.joV(),t.j41(48,"label",18),t.bIt("change",function(){return o.onTransportationFormatsChange(3)}),t.nrm(49,"input",19),t.j41(50,"span",29),t.qSk(),t.j41(51,"svg",30),t.nrm(52,"path",31),t.k0s()()()()(),t.joV(),t.j41(53,"div",6)(54,"div",7),t.EFF(55,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430: "),t.j41(56,"span",8),t.EFF(57,"\u2022"),t.k0s()(),t.j41(58,"div",9),t.nrm(59,"input",32),t.j41(60,"mat-autocomplete",11,33),t.DNE(62,Qo,2,2,"mat-option",13),t.DNE(63,tr,2,0,"mat-option",14),t.k0s(),t.DNE(64,er,2,0,"mat-error",15),t.k0s()()()()(),t.j41(65,"div",34),t.EFF(66,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u0437\u0430"),t.k0s(),t.j41(67,"div",3)(68,"div",4)(69,"div",5)(70,"div",35)(71,"div",7),t.EFF(72,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u0437\u0430: "),t.j41(73,"span",8),t.EFF(74,"\u2022"),t.k0s()(),t.j41(75,"div",9),t.nrm(76,"input",36),t.k0s()(),t.j41(77,"div",37)(78,"div",7),t.EFF(79,"\u0412\u0438\u0434 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438: "),t.j41(80,"span",8),t.EFF(81,"\u2022"),t.k0s()(),t.j41(82,"div",9),t.nrm(83,"input",38),t.j41(84,"mat-autocomplete",11,39),t.DNE(86,nr,2,2,"mat-option",13),t.DNE(87,ir,2,0,"mat-option",14),t.k0s(),t.DNE(88,or,2,0,"mat-error",15),t.k0s()(),t.j41(89,"div",37)(90,"div",7),t.EFF(91,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430: "),t.j41(92,"span",8),t.EFF(93,"\u2022"),t.k0s()(),t.j41(94,"div",9),t.nrm(95,"input",40),t.j41(96,"mat-autocomplete",11,41),t.DNE(98,rr,2,2,"mat-option",13),t.DNE(99,sr,2,0,"mat-option",14),t.k0s(),t.DNE(100,ar,2,0,"mat-error",15),t.k0s()()()(),t.DNE(101,cr,9,1,"div",42),t.DNE(102,dr,10,1,"div",43),t.j41(103,"div",4)(104,"div",5)(105,"label")(106,"input",44),t.bIt("change",function(){return o.onPlaceModeChange()}),t.k0s(),t.nrm(107,"i"),t.j41(108,"span"),t.EFF(109,"\u0412\u0432\u0435\u0441\u0442\u0438 \u0433\u0430\u0431\u0430\u0440\u0438\u0442\u044b \u0438 \u0432\u0435\u0441 \u043c\u0435\u0441\u0442 \u0440\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u043e"),t.k0s()()(),t.DNE(110,pr,5,1,"div",45),t.k0s(),t.j41(111,"div",46)(112,"div",5)(113,"div",47)(114,"div",48)(115,"div",7),t.EFF(116,"\u0418\u0442\u043e\u0433\u043e \u043c\u0435\u0441\u0442, \u0448\u0442:"),t.k0s(),t.j41(117,"div",9),t.DNE(118,mr,1,0,"input",49),t.DNE(119,hr,1,1,"input",50),t.k0s()(),t.j41(120,"div",48)(121,"div",7),t.EFF(122,"\u0418\u0442\u043e\u0433\u043e \u0432\u0435\u0441, \u043a\u0433:"),t.k0s(),t.j41(123,"div",9),t.DNE(124,gr,1,0,"input",51),t.DNE(125,fr,1,1,"input",50),t.k0s()(),t.j41(126,"div",48)(127,"div",7),t.EFF(128,"\u0418\u0442\u043e\u0433\u043e \u041e\u0431\u044a\u0435\u043c, \u043c"),t.j41(129,"sup",52),t.EFF(130,"3"),t.k0s(),t.EFF(131,":"),t.k0s(),t.j41(132,"div",9),t.DNE(133,Cr,1,0,"input",53),t.DNE(134,vr,1,1,"input",50),t.k0s()()(),t.DNE(135,kr,5,1,"div",54),t.j41(136,"div",55)(137,"div",7),t.EFF(138,"\u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c, \u043a\u0433/\u043c"),t.j41(139,"sup",52),t.EFF(140,"3"),t.k0s(),t.EFF(141,":"),t.k0s(),t.j41(142,"div",9),t.nrm(143,"input",56),t.k0s()(),t.DNE(144,Fr,13,1,"div",57),t.k0s(),t.j41(145,"div",5),t.DNE(146,Rr,13,1,"div",57),t.DNE(147,yr,11,2,"div",58),t.DNE(148,wr,32,8,"div",57),t.k0s()(),t.DNE(149,Mr,3,3,"div",43),t.k0s(),t.j41(150,"div",34),t.EFF(151,"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),t.k0s(),t.j41(152,"div",3)(153,"div",4)(154,"div",5)(155,"div",37)(156,"div",7),t.EFF(157,"\u0413\u043e\u0440\u043e\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f: "),t.j41(158,"span",8),t.EFF(159,"\u2022"),t.k0s()(),t.j41(160,"div",9),t.nrm(161,"input",59),t.j41(162,"mat-autocomplete",11,60),t.DNE(164,Tr,2,2,"mat-option",61),t.DNE(165,Gr,2,0,"mat-option",14),t.k0s(),t.DNE(166,$r,2,0,"mat-error",15),t.k0s()(),t.j41(167,"div",62)(168,"div",7),t.EFF(169,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b.: "),t.j41(170,"span",8),t.EFF(171,"\u2022"),t.k0s()(),t.j41(172,"div",9),t.nrm(173,"input",63),t.j41(174,"mat-autocomplete",11,64),t.DNE(176,Or,2,2,"mat-option",61),t.DNE(177,Br,2,0,"mat-option",14),t.k0s(),t.DNE(178,Ir,2,0,"mat-error",15),t.k0s()(),t.DNE(179,Nr,10,5,"div",65),t.j41(180,"div",66)(181,"div",7),t.EFF(182,"\u0410\u0434\u0440\u0435\u0441 \u0437\u0430\u0431\u043e\u0440\u0430 \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(183,"div",9),t.nrm(184,"input",67),t.k0s()()()(),t.j41(185,"div",4)(186,"div",5)(187,"div",37)(188,"div",7),t.EFF(189,"\u0413\u043e\u0440\u043e\u0434 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: "),t.j41(190,"span",8),t.EFF(191,"\u2022"),t.k0s()(),t.j41(192,"div",9),t.nrm(193,"input",68),t.j41(194,"mat-autocomplete",11,69),t.DNE(196,Vr,2,2,"mat-option",61),t.DNE(197,Yr,2,0,"mat-option",14),t.k0s(),t.DNE(198,Ar,2,0,"mat-error",15),t.k0s()(),t.j41(199,"div",62)(200,"div",7),t.EFF(201,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f: "),t.j41(202,"span",8),t.EFF(203,"\u2022"),t.k0s()(),t.j41(204,"div",9),t.nrm(205,"input",70),t.j41(206,"mat-autocomplete",11,71),t.DNE(208,Lr,2,2,"mat-option",61),t.DNE(209,Xr,2,0,"mat-option",14),t.k0s(),t.DNE(210,Hr,2,0,"mat-error",15),t.k0s()(),t.DNE(211,Zr,10,5,"div",65),t.j41(212,"div",66)(213,"div",7),t.EFF(214,"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(215,"div",9),t.nrm(216,"input",72),t.k0s()()()(),t.j41(217,"div",73)(218,"div",5),t.EFF(219," \u0420\u0435\u0439\u0441\u044b: "),t.DNE(220,Kr,5,2,"label",74),t.k0s()()(),t.DNE(221,Jr,2,0,"div",75),t.DNE(222,is,22,5,"div",76),t.DNE(223,os,2,0,"div",75),t.DNE(224,rs,13,0,"div",76),t.j41(225,"div",77),t.nrm(226,"div",78),t.j41(227,"div",79)(228,"button",80),t.bIt("click",function(){return o.save()}),t.j41(229,"span"),t.EFF(230,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.DNE(231,ss,3,0,"button",81),t.j41(232,"button",82),t.bIt("click",function(){return o.goBack()}),t.j41(233,"span"),t.EFF(234,"\u043e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()()()),2&i){const s=t.sdS(15),u=t.sdS(61),l=t.sdS(85),x=t.sdS(97),I=t.sdS(163),N=t.sdS(175),Y=t.sdS(195),U=t.sdS(207);t.Y8G("ngIf",t.bMT(1,83,o.isLoading$)),t.R7$(2),t.Y8G("title",o.title)("name",o.requestForm.value.customer_name)("isCalck",!1)("isEditMode",o.isEditMode),t.R7$(1),t.Y8G("formGroup",o.requestForm),t.R7$(10),t.Y8G("matAutocomplete",s),t.R7$(1),t.Y8G("displayWith",o.displayFn_CustomerId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCustomers),t.R7$(1),t.Y8G("ngIf",0==o.filteredCustomers.length),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.customer_id.hasError("required")),t.R7$(8),t.Y8G("ngForOf",o.requestFormats),t.R7$(8),t.FS9("value",1),t.Y8G("checked",1===o.requestForm.value.transport_kind_id),t.R7$(5),t.FS9("value",2),t.Y8G("checked",2===o.requestForm.value.transport_kind_id),t.R7$(5),t.FS9("value",4),t.Y8G("checked",4===o.requestForm.value.transport_kind_id),t.R7$(5),t.FS9("value",3),t.Y8G("checked",3===o.requestForm.value.transport_kind_id),t.R7$(10),t.Y8G("matAutocomplete",u),t.R7$(1),t.Y8G("displayWith",o.displayFn_TransportTypeId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredTransportFormats),t.R7$(1),t.Y8G("ngIf",0==o.filteredTransportFormats.length),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.transport_type_id.hasError("required")),t.R7$(13),t.xc7("display",1===o.requestForm.value.request_type_id?"block":"none"),t.R7$(6),t.Y8G("matAutocomplete",l),t.R7$(1),t.Y8G("displayWith",o.displayFn_CargoPackageId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCargoPackage),t.R7$(1),t.Y8G("ngIf",0==o.filteredCargoPackage.length),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.cargo_package_id.hasError("required")),t.R7$(1),t.xc7("display",2===o.requestForm.value.request_type_id?"block":"none"),t.R7$(6),t.Y8G("matAutocomplete",x),t.R7$(1),t.Y8G("displayWith",o.displayFn_CargoTypeId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCargoType),t.R7$(1),t.Y8G("ngIf",0==o.filteredCargoType.length),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.cargo_type_id.hasError("required")),t.R7$(1),t.Y8G("ngIf",2===o.requestForm.value.request_type_id&&14===o.requestForm.value.cargo_type_id),t.R7$(1),t.Y8G("ngIf",2===o.requestForm.value.request_type_id),t.R7$(8),t.Y8G("ngIf",o.requestForm.value.cargo_separately),t.R7$(8),t.Y8G("ngIf",!o.requestForm.value.cargo_separately),t.R7$(1),t.Y8G("ngIf",o.requestForm.value.cargo_separately),t.R7$(5),t.Y8G("ngIf",!o.requestForm.value.cargo_separately),t.R7$(1),t.Y8G("ngIf",o.requestForm.value.cargo_separately),t.R7$(8),t.Y8G("ngIf",!o.requestForm.value.cargo_separately),t.R7$(1),t.Y8G("ngIf",o.requestForm.value.cargo_separately),t.R7$(1),t.Y8G("ngIf",1==o.requestForm.value.transport_kind_id),t.R7$(8),t.Y8G("value",o.requestForm.value.cargo_places_density),t.R7$(1),t.Y8G("ngIf",1===o.requestForm.value.request_type_id),t.R7$(2),t.Y8G("ngIf",2===o.requestForm.value.request_type_id),t.R7$(1),t.Y8G("ngIf",2===o.requestForm.value.request_type_id),t.R7$(1),t.Y8G("ngIf",2===o.requestForm.value.request_type_id&&!o.requestForm.value.cargo_separately),t.R7$(1),t.Y8G("ngIf",2===o.requestForm.value.request_type_id),t.R7$(12),t.Y8G("matAutocomplete",I),t.R7$(1),t.Y8G("displayWith",o.displayFn_DepartureCityId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredDepartureCitys),t.R7$(1),t.Y8G("ngIf",0==o.filteredDepartureCitys.length),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.departure_city_id.hasError("required")),t.R7$(7),t.Y8G("matAutocomplete",N),t.R7$(1),t.Y8G("displayWith",o.displayFn_DepartureCountryId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredDepartureCountrys),t.R7$(1),t.Y8G("ngIf",o.filteredDepartureCountrys.length<1),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.departure_country_id.hasError("required")),t.R7$(1),t.Y8G("ngIf",1===o.transport_kind_id),t.R7$(14),t.Y8G("matAutocomplete",Y),t.R7$(1),t.Y8G("displayWith",o.displayFn_ArrivalCityId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredArrivalCitys),t.R7$(1),t.Y8G("ngIf",0==o.filteredArrivalCitys.length),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.arrival_city_id.hasError("required")),t.R7$(7),t.Y8G("matAutocomplete",U),t.R7$(1),t.Y8G("displayWith",o.displayFn_ArrivalCountryId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredArrivalCountrys),t.R7$(1),t.Y8G("ngIf",0==o.filteredArrivalCountrys.length),t.R7$(1),t.Y8G("ngIf",o.requestForm.controls.arrival_country_id.hasError("required")),t.R7$(1),t.Y8G("ngIf",1===o.transport_kind_id),t.R7$(9),t.Y8G("ngForOf",o.directionFlights),t.R7$(1),t.Y8G("ngIf",1===o.transport_kind_id||3===o.transport_kind_id||4===o.transport_kind_id),t.R7$(1),t.Y8G("ngIf",1===o.transport_kind_id||3===o.transport_kind_id||4===o.transport_kind_id),t.R7$(1),t.Y8G("ngIf",2===o.requestForm.value.request_type_id),t.R7$(1),t.Y8G("ngIf",2===o.requestForm.value.request_type_id),t.R7$(7),t.Y8G("ngIf",o.isEditMode)}},dependencies:[d.YU,d.Sq,d.bT,a.qT,a.me,a.Q0,a.Zm,a.Fm,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,f.rl,f.TL,C.VO,B.wT,P.$3,P.pN,it.fg,_.Vh,_.bZ,_o.LG,ot.S,Pt,Ao,Xo,d.Jj],styles:['input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}::-webkit-calendar-picker-indicator{background-image:url(pic-btn-calendar.ab2f9b4231784ae2.svg)}button{border:none}.form-block .form-item{box-sizing:border-box}.max-w-fc{max-width:-moz-fit-content;max-width:fit-content}.place input[type=number]{text-align:right;padding:11px 5px 9px}input[type=date]{font-family:regular,arial,"sans-serif";background:#F7F9FC;border:1px solid #E0E5EB;color:#2c3640;font-size:15px;line-height:15px;border-radius:6px;width:100%;box-sizing:border-box;padding:11px 8px 9px;height:39.88px}.form-block .form-row.bg input[type=number],.form-block .form-row.bg input[type=date]{background:#fff}.bg mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline>*{background:white}.form-item-layout+.form-item-table{margin-top:25px}.form-item-table .place:first-child .form-item-table-row{position:relative;border-top:1px solid #E0E5EB}.form-item-table .form-item-table-row:first-child:before{position:absolute;content:"";display:block;width:100%;left:0;top:39px;border-bottom:1px solid #E0E5EB}.form-item-table-row{display:flex;gap:24px;border-bottom:1px solid #E0E5EB;padding:15px 0}.btn-del-place{border-bottom:none;padding-bottom:0}.form-item-table .form-item-table-row:first-child .form-label{padding-bottom:23px;box-sizing:border-box;min-height:33px}.form-item-table-row .form-data.nm{font-weight:700;color:#2c3640;padding-top:13px}.form-block .stretch{flex-grow:1}.form-item-block{display:flex;gap:6px}.request .form-item{flex-grow:0}.r{text-align:right}.form-block .w72{width:72px;flex-shrink:0;flex-grow:0}.form-block .w96{width:96px;flex-shrink:0;flex-grow:0}.form-block .w100{width:100px;flex-shrink:0;flex-grow:0}.form-block .w156{width:156px;flex-shrink:0;flex-grow:0}.form-block .w232{width:232px;flex-shrink:0;flex-grow:0}.request .form-block .w70{width:70px;flex-shrink:0;flex-grow:0}.request .form-block .w90{width:90px;flex-shrink:0;flex-grow:0}.request .form-block .w112{width:112px;flex-shrink:0;flex-grow:0}.request .form-block .w124{width:124px;flex-shrink:0;flex-grow:0}.request .form-block .w138{width:138px;flex-shrink:0;flex-grow:0}.request .form-block .w142{width:142px;flex-shrink:0;flex-grow:0}.request .form-block .w172{width:172px;flex-shrink:0;flex-grow:0}.form-block .form-item-layout{display:flex;gap:24px}.form-block .form-item-layout .form-item+.form-item{margin-left:0}.bg .stacking-label{color:#f7f9fc}.form-item .staking-true .mat-mdc-select-value{background:url(pic-btn-stacking-true.89f096540ef66f36.svg) left/contain no-repeat;white-space:nowrap}.form-item .staking-false .mat-mdc-select-value{background:url(pic-btn-stacking-false.90547f96bb275c78.svg) left/contain no-repeat;white-space:nowrap;display:inline}.form-item .stacking-div{width:16px;height:16px;width:20px;margin:10px auto 0}.request .bg .form-item-layout input[readonly]{border:1px dashed #C3CCD6;color:#2c3640;background:#EDF2F7}.request .place input[readonly]{border:1px dashed #C3CCD6;color:#2c3640;background:white}.form-item-table .del{display:inline-block;width:16px;height:40px;background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat 50% 50%;cursor:pointer;margin:0}.form-block .temperature .t{margin-left:5px}.datepiker{height:40px;background-color:#fff;padding:11px 2px 13px 9px;box-sizing:border-box;border:1px solid #E0E5EB;color:#2c3640;font-size:15px;line-height:15px;border-radius:6px}.datepiker div{width:76px}\n'],encapsulation:2})}}return n})(),as=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-tariff"]],decls:2,vars:0,template:function(i,o){1&i&&(t.j41(0,"p"),t.EFF(1,"tariff works!"),t.k0s())}})}}return n})(),us=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-currency"]],inputs:{name:"name",code:"code",rate:"rate"},decls:7,vars:5,consts:[[1,"currency"]],template:function(i,o){1&i&&(t.j41(0,"span",0)(1,"span")(2,"span"),t.EFF(3),t.k0s(),t.j41(4,"span"),t.EFF(5),t.nI1(6,"number"),t.k0s()()()),2&i&&(t.R7$(3),t.Lme("",o.name," (",o.code,")"),t.R7$(2),t.JRh(t.bMT(6,3,o.rate)))},dependencies:[d.QX]})}}return n})();function cs(n,r){if(1&n&&t.nrm(0,"app-currency",52),2&n){const e=t.XpG().$implicit;t.Y8G("name",e.code)("code",e.char)("rate",e.currency)}}function ls(n,r){if(1&n&&(t.qex(0),t.DNE(1,cs,1,3,"app-currency",51),t.bVm()),2&n){const e=r.$implicit;t.R7$(1),t.Y8G("ngIf",e.currency)}}let ds=(()=>{class n{constructor(e){this.systemService=e,this._destroy$=new w.B,this.currencyList=[]}ngOnInit(){this.getCurrency()}getCurrency(){this.systemService.systemCurrency().pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.currencyList=e},error:e=>{console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442 \u0432 \u0445\u0435\u0430\u0434\u0435\u0440\u0435")}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(D.V9))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-header"]],decls:78,vars:1,consts:[[1,"header"],[1,"main-menu"],["href","/erp",1,"logo"],["routerLink","./dashboard","routerLinkActive","sel",1,"item","dashboard"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.49988 0H1.5C0.67157 0 0 0.67157 0 1.5V9.5C0 10.3284 0.67157 11 1.5 11H6.49988C7.32831 11 7.99988 10.3284 7.99988 9.5V1.5C7.99988 0.67157 7.32831 0 6.49988 0ZM6.99988 9.5C6.99988 9.7757 6.77557 10 6.49988 10H1.5C1.2243 10 1 9.7757 1 9.5V1.5C1 1.2243 1.2243 1 1.5 1H6.49988C6.77557 1 6.99988 1.2243 6.99988 1.5V9.5ZM16.4999 0H11.5C10.6716 0 10 0.67157 10 1.5V5.5C10 6.32843 10.6716 7 11.5 7H16.4999C17.3283 7 17.9999 6.32843 17.9999 5.5V1.5C17.9999 0.67157 17.3283 0 16.4999 0ZM16.9999 5.5C16.9999 5.7757 16.7756 6 16.4999 6H11.5C11.2243 6 11 5.7757 11 5.5V1.5C11 1.2243 11.2243 1 11.5 1H16.4999C16.7756 1 16.9999 1.2243 16.9999 1.5V5.5ZM16.4999 9.00006H11.5C10.6716 9.00006 10 9.67163 10 10.5001V16.5C10 17.3284 10.6716 18 11.5 18H16.4999C17.3283 18 17.9999 17.3284 17.9999 16.5V10.5001C17.9999 9.67163 17.3283 9.00006 16.4999 9.00006ZM16.9999 16.5C16.9999 16.7757 16.7756 17 16.4999 17H11.5C11.2243 17 11 16.7757 11 16.5V10.5001C11 10.2244 11.2243 10.0001 11.5 10.0001H16.4999C16.7756 10.0001 16.9999 10.2244 16.9999 10.5001V16.5ZM6.49988 13.0001H1.5C0.67157 13.0001 0 13.6716 0 14.5001V16.5C0 17.3284 0.67157 18 1.5 18H6.49988C7.32831 18 7.99988 17.3284 7.99988 16.5V14.5001C7.99988 13.6716 7.32831 13.0001 6.49988 13.0001ZM6.99988 16.5C6.99988 16.7757 6.77557 17 6.49988 17H1.5C1.2243 17 1 16.7757 1 16.5V14.5001C1 14.2244 1.2243 14.0001 1.5 14.0001H6.49988C6.77557 14.0001 6.99988 14.2244 6.99988 14.5001V16.5Z","fill","#B4C3EB"],["routerLink","./request","routerLinkActive","sel",1,"item","request"],["width","26","height","26","viewBox","0 0 26 26","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.2748 18H6.72498C5.22253 18 3.99988 16.7773 3.99988 15.2749V12.5C3.99988 12.2236 4.22351 12 4.49988 12C4.77625 12 4.99988 12.2236 4.99988 12.5V15.2749C4.99988 16.2261 5.7738 17 6.72498 17H19.2748C20.226 17 20.9999 16.2261 20.9999 15.2749V12.5C20.9999 12.2236 21.2235 12 21.4999 12C21.7762 12 21.9999 12.2236 21.9999 12.5V15.2749C21.9999 16.7773 20.7772 18 19.2748 18Z","fill","#B4C3EB"],["d","M12.9999 12C12.8661 12 12.7382 11.9463 12.6439 11.8516L9.46179 8.62988C7.51599 6.65918 7.51599 3.45361 9.46179 1.48291C10.4066 0.526856 11.663 0 12.9999 0C14.3368 0 15.5931 0.526855 16.538 1.48291C18.4838 3.45361 18.4838 6.65918 16.538 8.62988L13.3558 11.8516C13.2616 11.9463 13.1337 12 12.9999 12ZM12.9999 1C11.9325 1 10.9286 1.4209 10.1737 2.18604C8.61023 3.76855 8.61023 6.34424 10.1737 7.92676L12.9999 10.7886L15.826 7.92676C17.3895 6.34424 17.3895 3.76855 15.826 2.18604C15.0712 1.4209 14.0673 1 12.9999 1Z","fill","#B4C3EB"],["d","M12.9999 6C13.5522 6 13.9999 5.55229 13.9999 5C13.9999 4.44772 13.5522 4 12.9999 4C12.4476 4 11.9999 4.44772 11.9999 5C11.9999 5.55229 12.4476 6 12.9999 6Z","fill","#B4C3EB"],["routerLink","./bit","routerLinkActive","sel",1,"item","bit"],["width","18","height","20","viewBox","0 0 18 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M-0.00012207 4V16C-0.00012207 17.5786 3.77136 18 5.99988 18C5.99988 19.5786 9.77136 20 11.9999 20C14.2284 20 17.9999 19.5786 17.9999 18V2C17.9999 0.421387 14.2284 0 11.9999 0C9.77136 0 5.99988 0.421387 5.99988 2C3.77136 2 -0.00012207 2.42139 -0.00012207 4ZM5.99988 3V5C3.03699 5 1.20886 4.36084 1.00671 4C1.20886 3.63916 3.03699 3 5.99988 3ZM6.99988 3.18878C8.27325 3.80511 10.4894 4 11.9999 4C13.5103 4 15.7265 3.80511 16.9999 3.18878V6C16.8632 6.33545 15.0219 7 11.9999 7C8.98633 7 7.14856 6.33948 6.99988 5.9823V3.18878ZM16.9999 7.18878V10C16.8632 10.3354 15.0219 11 11.9999 11C8.98633 11 7.14856 10.3395 6.99988 9.9823V7.18878C8.27325 7.80511 10.4894 8 11.9999 8C13.5103 8 15.7265 7.80511 16.9999 7.18878ZM16.9999 14C16.8632 14.3354 15.0219 15 11.9999 15C8.98633 15 7.14856 14.3395 6.99988 13.9823V11.1888C8.27325 11.8051 10.4894 12 11.9999 12C13.5103 12 15.7265 11.8051 16.9999 11.1888V14ZM16.9999 2.0177V2.02393C16.8512 2.33948 15.0134 3 11.9999 3C9.03699 3 7.20886 2.36084 7.00671 2C7.20886 1.63916 9.03699 1 11.9999 1C15.0134 1 16.8512 1.66052 16.9999 2.0177ZM6.99988 17.9823V15.1888C8.27325 15.8051 10.4894 16 11.9999 16C13.5103 16 15.7265 15.8051 16.9999 15.1888V18C16.8632 18.3354 15.0219 19 11.9999 19C8.98633 19 7.14856 18.3395 6.99988 17.9823ZM0.999878 13.1888C2.27325 13.8051 4.48944 14 5.99988 14V17C2.98633 17 1.14856 16.3395 0.999878 15.9823V13.1888ZM0.999878 9.18878C2.27325 9.80511 4.48944 10 5.99988 10V13C2.98633 13 1.14856 12.3395 0.999878 11.9823V9.18878ZM0.999878 5.18878C2.27325 5.80511 4.48944 6 5.99988 6V9C2.98633 9 1.14856 8.33948 0.999878 7.9823V5.18878Z","fill","#B4C3EB"],["routerLink","./order","routerLinkActive","sel",1,"item","order"],["d","M15.2128 18H2.78699C1.25037 18 -0.00012207 16.7495 -0.00012207 15.2129V9.5C-0.00012207 9.22363 0.223511 9 0.499878 9C0.776245 9 0.999878 9.22363 0.999878 9.5V15.2129C0.999878 16.1982 1.80164 17 2.78699 17H15.2128C16.1981 17 16.9999 16.1982 16.9999 15.2129V9.5C16.9999 9.22363 17.2235 9 17.4999 9C17.7762 9 17.9999 9.22363 17.9999 9.5V15.2129C17.9999 16.7495 16.7494 18 15.2128 18Z","fill","#B4C3EB"],["d","M5.49988 11C5.37195 11 5.24402 10.9512 5.14636 10.8535L3.14636 8.85352C2.95105 8.6582 2.95105 8.3418 3.14636 8.14648C3.34167 7.95117 3.65808 7.95117 3.85339 8.14648L5.85339 10.1465C6.04871 10.3418 6.04871 10.6582 5.85339 10.8535C5.75574 10.9512 5.62781 11 5.49988 11Z","fill","#B4C3EB"],["d","M5.49988 11C5.37195 11 5.24402 10.9512 5.14636 10.8535C4.95105 10.6582 4.95105 10.3418 5.14636 10.1465L7.14636 8.14648C7.34167 7.95117 7.65808 7.95117 7.85339 8.14648C8.04871 8.3418 8.04871 8.6582 7.85339 8.85352L5.85339 10.8535C5.75574 10.9512 5.62781 11 5.49988 11Z","fill","#B4C3EB"],["d","M5.49988 7C5.37195 7 5.24402 6.95117 5.14636 6.85352L3.14636 4.85352C2.95105 4.6582 2.95105 4.3418 3.14636 4.14648C3.34167 3.95117 3.65808 3.95117 3.85339 4.14648L5.85339 6.14648C6.04871 6.3418 6.04871 6.6582 5.85339 6.85352C5.75574 6.95117 5.62781 7 5.49988 7Z","fill","#B4C3EB"],["d","M5.49988 7C5.37195 7 5.24402 6.95117 5.14636 6.85352C4.95105 6.6582 4.95105 6.3418 5.14636 6.14648L7.14636 4.14648C7.34167 3.95117 7.65808 3.95117 7.85339 4.14648C8.04871 4.3418 8.04871 4.6582 7.85339 4.85352L5.85339 6.85352C5.75574 6.95117 5.62781 7 5.49988 7Z","fill","#B4C3EB"],["d","M5.49988 3C5.37195 3 5.24402 2.95117 5.14636 2.85352L3.14636 0.853516C2.95105 0.658203 2.95105 0.341797 3.14636 0.146484C3.34167 -0.0488281 3.65808 -0.0488281 3.85339 0.146484L5.85339 2.14648C6.04871 2.3418 6.04871 2.6582 5.85339 2.85352C5.75574 2.95117 5.62781 3 5.49988 3Z","fill","#B4C3EB"],["d","M5.49988 3C5.37195 3 5.24402 2.95117 5.14636 2.85352C4.95105 2.6582 4.95105 2.3418 5.14636 2.14648L7.14636 0.146484C7.34167 -0.0488281 7.65808 -0.0488281 7.85339 0.146484C8.04871 0.341797 8.04871 0.658203 7.85339 0.853516L5.85339 2.85352C5.75574 2.95117 5.62781 3 5.49988 3Z","fill","#B4C3EB"],["d","M14.4999 3C14.3719 3 14.244 2.95117 14.1464 2.85352L12.1464 0.853516C11.951 0.658203 11.951 0.341797 12.1464 0.146484C12.3417 -0.0488281 12.6581 -0.0488281 12.8534 0.146484L14.8534 2.14648C15.0487 2.3418 15.0487 2.6582 14.8534 2.85352C14.7557 2.95117 14.6278 3 14.4999 3Z","fill","#B4C3EB"],["d","M10.4999 3C10.3719 3 10.244 2.95117 10.1464 2.85352C9.95105 2.6582 9.95105 2.3418 10.1464 2.14648L12.1464 0.146484C12.3417 -0.0488281 12.6581 -0.0488281 12.8534 0.146484C13.0487 0.341797 13.0487 0.658203 12.8534 0.853516L10.8534 2.85352C10.7557 2.95117 10.6278 3 10.4999 3Z","fill","#B4C3EB"],["d","M14.4999 7C14.3719 7 14.244 6.95117 14.1464 6.85352L12.1464 4.85352C11.951 4.6582 11.951 4.3418 12.1464 4.14648C12.3417 3.95117 12.6581 3.95117 12.8534 4.14648L14.8534 6.14648C15.0487 6.3418 15.0487 6.6582 14.8534 6.85352C14.7557 6.95117 14.6278 7 14.4999 7Z","fill","#B4C3EB"],["d","M10.4999 7C10.3719 7 10.244 6.95117 10.1464 6.85352C9.95105 6.6582 9.95105 6.3418 10.1464 6.14648L12.1464 4.14648C12.3417 3.95117 12.6581 3.95117 12.8534 4.14648C13.0487 4.3418 13.0487 4.6582 12.8534 4.85352L10.8534 6.85352C10.7557 6.95117 10.6278 7 10.4999 7Z","fill","#B4C3EB"],["d","M14.4999 11C14.3719 11 14.244 10.9512 14.1464 10.8535L12.1464 8.85352C11.951 8.6582 11.951 8.3418 12.1464 8.14648C12.3417 7.95117 12.6581 7.95117 12.8534 8.14648L14.8534 10.1465C15.0487 10.3418 15.0487 10.6582 14.8534 10.8535C14.7557 10.9512 14.6278 11 14.4999 11Z","fill","#B4C3EB"],["d","M10.4999 11C10.3719 11 10.244 10.9512 10.1464 10.8535C9.95105 10.6582 9.95105 10.3418 10.1464 10.1465L12.1464 8.14648C12.3417 7.95117 12.6581 7.95117 12.8534 8.14648C13.0487 8.3418 13.0487 8.6582 12.8534 8.85352L10.8534 10.8535C10.7557 10.9512 10.6278 11 10.4999 11Z","fill","#B4C3EB"],["routerLink","./tariff","routerLinkActive","sel",1,"item","tariff"],["width","16","height","18","viewBox","0 0 16 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9252 0H2.07458C0.930542 0 -0.00012207 0.930664 -0.00012207 2.07471V15.9253C-0.00012207 17.0693 0.930542 18 2.07458 18H13.9252C15.0692 18 15.9999 17.0693 15.9999 15.9253V2.07471C15.9999 0.930664 15.0692 0 13.9252 0ZM2.07458 1H13.9252C14.5179 1 14.9999 1.48193 14.9999 2.07471V5H0.999878V2.07471C0.999878 1.48193 1.48181 1 2.07458 1ZM13.9252 17H2.07458C1.48181 17 0.999878 16.5181 0.999878 15.9253V6H14.9999V15.9253C14.9999 16.5181 14.5179 17 13.9252 17ZM4.99988 8.5C4.99988 8.77637 4.77625 9 4.49988 9H3.49988C3.22351 9 2.99988 8.77637 2.99988 8.5C2.99988 8.22363 3.22351 8 3.49988 8H4.49988C4.77625 8 4.99988 8.22363 4.99988 8.5ZM8.99988 8.5C8.99988 8.77637 8.77625 9 8.49988 9H7.49988C7.22351 9 6.99988 8.77637 6.99988 8.5C6.99988 8.22363 7.22351 8 7.49988 8H8.49988C8.77625 8 8.99988 8.22363 8.99988 8.5ZM4.99988 11.5C4.99988 11.7764 4.77625 12 4.49988 12H3.49988C3.22351 12 2.99988 11.7764 2.99988 11.5C2.99988 11.2236 3.22351 11 3.49988 11H4.49988C4.77625 11 4.99988 11.2236 4.99988 11.5ZM8.99988 11.5C8.99988 11.7764 8.77625 12 8.49988 12H7.49988C7.22351 12 6.99988 11.7764 6.99988 11.5C6.99988 11.2236 7.22351 11 7.49988 11H8.49988C8.77625 11 8.99988 11.2236 8.99988 11.5ZM4.99988 14.5C4.99988 14.7764 4.77625 15 4.49988 15H3.49988C3.22351 15 2.99988 14.7764 2.99988 14.5C2.99988 14.2236 3.22351 14 3.49988 14H4.49988C4.77625 14 4.99988 14.2236 4.99988 14.5ZM8.99988 14.5C8.99988 14.7764 8.77625 15 8.49988 15H7.49988C7.22351 15 6.99988 14.7764 6.99988 14.5C6.99988 14.2236 7.22351 14 7.49988 14H8.49988C8.77625 14 8.99988 14.2236 8.99988 14.5ZM12.9999 8.5C12.9999 8.77637 12.7762 9 12.4999 9H11.4999C11.2235 9 10.9999 8.77637 10.9999 8.5C10.9999 8.22363 11.2235 8 11.4999 8H12.4999C12.7762 8 12.9999 8.22363 12.9999 8.5ZM12.9999 11.5C12.9999 11.7764 12.7762 12 12.4999 12H11.4999C11.2235 12 10.9999 11.7764 10.9999 11.5C10.9999 11.2236 11.2235 11 11.4999 11H12.4999C12.7762 11 12.9999 11.2236 12.9999 11.5ZM12.9999 14.5C12.9999 14.7764 12.7762 15 12.4999 15H11.4999C11.2235 15 10.9999 14.7764 10.9999 14.5C10.9999 14.2236 11.2235 14 11.4999 14H12.4999C12.7762 14 12.9999 14.2236 12.9999 14.5Z","fill","#B4C3EB"],["routerLink","./contractor","routerLinkActive","sel",1,"item","contractor"],["width","19","height","18","viewBox","0 0 19 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M16.9999 13.0506V11.7256C16.9999 10.2227 15.7772 9 14.2743 9H9.99988V6.94946C11.6915 6.70422 12.9999 5.25848 12.9999 3.5C12.9999 1.57031 11.4296 0 9.49988 0C7.57019 0 5.99988 1.57031 5.99988 3.5C5.99988 5.25848 7.30823 6.70422 8.99988 6.94946V9H4.72546C3.22253 9 1.99988 10.2227 1.99988 11.7256V13.0506C0.860168 13.2829 -0.00012207 14.2928 -0.00012207 15.5C-0.00012207 16.8784 1.12146 18 2.49988 18C3.8783 18 4.99988 16.8784 4.99988 15.5C4.99988 14.2928 4.13959 13.2829 2.99988 13.0506V11.7256C2.99988 10.7739 3.7738 10 4.72546 10H8.99988V13.0506C7.86017 13.2829 6.99988 14.2928 6.99988 15.5C6.99988 16.8784 8.12146 18 9.49988 18C10.8783 18 11.9999 16.8784 11.9999 15.5C11.9999 14.2928 11.1396 13.2829 9.99988 13.0506V10H14.2743C15.226 10 15.9999 10.7739 15.9999 11.7256V13.0506C14.8602 13.2829 13.9999 14.2928 13.9999 15.5C13.9999 16.8784 15.1215 18 16.4999 18C17.8783 18 18.9999 16.8784 18.9999 15.5C18.9999 14.2928 18.1396 13.2829 16.9999 13.0506ZM6.99988 3.5C6.99988 2.12158 8.12146 1 9.49988 1C10.8783 1 11.9999 2.12158 11.9999 3.5C11.9999 4.87842 10.8783 6 9.49988 6C8.12146 6 6.99988 4.87842 6.99988 3.5ZM3.99988 15.5C3.99988 16.3271 3.32703 17 2.49988 17C1.67273 17 0.999878 16.3271 0.999878 15.5C0.999878 14.6729 1.67273 14 2.49988 14C3.32703 14 3.99988 14.6729 3.99988 15.5ZM10.9999 15.5C10.9999 16.3271 10.327 17 9.49988 17C8.67273 17 7.99988 16.3271 7.99988 15.5C7.99988 14.6729 8.67273 14 9.49988 14C10.327 14 10.9999 14.6729 10.9999 15.5ZM16.4999 17C15.6727 17 14.9999 16.3271 14.9999 15.5C14.9999 14.6729 15.6727 14 16.4999 14C17.327 14 17.9999 14.6729 17.9999 15.5C17.9999 16.3271 17.327 17 16.4999 17Z","fill","#4B66AD"],["routerLink","./report","routerLinkActive","sel",1,"item","report"],["d","M15.9252 0H2.07458C0.930542 0 -0.00012207 0.930664 -0.00012207 2.07471V15.9253C-0.00012207 17.0693 0.930542 18 2.07458 18H15.9252C17.0692 18 17.9999 17.0693 17.9999 15.9253V2.07471C17.9999 0.930664 17.0692 0 15.9252 0ZM16.9999 15.9253C16.9999 16.5181 16.5179 17 15.9252 17H2.07458C1.48181 17 0.999878 16.5181 0.999878 15.9253V2.07471C0.999878 1.48193 1.48181 1 2.07458 1H15.9252C16.5179 1 16.9999 1.48193 16.9999 2.07471V15.9253ZM5.99988 4.5C5.99988 4.77637 5.77625 5 5.49988 5H3.49988C3.22351 5 2.99988 4.77637 2.99988 4.5C2.99988 4.22363 3.22351 4 3.49988 4H5.49988C5.77625 4 5.99988 4.22363 5.99988 4.5ZM5.99988 7.5C5.99988 7.77637 5.77625 8 5.49988 8H3.49988C3.22351 8 2.99988 7.77637 2.99988 7.5C2.99988 7.22363 3.22351 7 3.49988 7H5.49988C5.77625 7 5.99988 7.22363 5.99988 7.5ZM5.99988 10.5C5.99988 10.7764 5.77625 11 5.49988 11H3.49988C3.22351 11 2.99988 10.7764 2.99988 10.5C2.99988 10.2236 3.22351 10 3.49988 10H5.49988C5.77625 10 5.99988 10.2236 5.99988 10.5ZM5.99988 13.5C5.99988 13.7764 5.77625 14 5.49988 14H3.49988C3.22351 14 2.99988 13.7764 2.99988 13.5C2.99988 13.2236 3.22351 13 3.49988 13H5.49988C5.77625 13 5.99988 13.2236 5.99988 13.5ZM14.9999 4.5C14.9999 4.77637 14.7762 5 14.4999 5H8.49988C8.22351 5 7.99988 4.77637 7.99988 4.5C7.99988 4.22363 8.22351 4 8.49988 4H14.4999C14.7762 4 14.9999 4.22363 14.9999 4.5ZM14.9999 7.5C14.9999 7.77637 14.7762 8 14.4999 8H8.49988C8.22351 8 7.99988 7.77637 7.99988 7.5C7.99988 7.22363 8.22351 7 8.49988 7H14.4999C14.7762 7 14.9999 7.22363 14.9999 7.5ZM14.9999 10.5C14.9999 10.7764 14.7762 11 14.4999 11H8.49988C8.22351 11 7.99988 10.7764 7.99988 10.5C7.99988 10.2236 8.22351 10 8.49988 10H14.4999C14.7762 10 14.9999 10.2236 14.9999 10.5ZM14.9999 13.5C14.9999 13.7764 14.7762 14 14.4999 14H8.49988C8.22351 14 7.99988 13.7764 7.99988 13.5C7.99988 13.2236 8.22351 13 8.49988 13H14.4999C14.7762 13 14.9999 13.2236 14.9999 13.5Z","fill","#B4C3EB"],["routerLink","./customer","routerLinkActive","sel",1,"item","client"],["d","M13.9999 17.5C13.9999 17.7764 13.7762 18 13.4999 18C13.2235 18 12.9999 17.7764 12.9999 17.5C12.9999 15.5703 11.2054 14 8.99988 14C6.79431 14 4.99988 15.5703 4.99988 17.5C4.99988 17.7764 4.77625 18 4.49988 18C4.22351 18 3.99988 17.7764 3.99988 17.5C3.99988 15.0186 6.24304 13 8.99988 13C11.7567 13 13.9999 15.0186 13.9999 17.5ZM8.99988 9C4.03748 9 -0.00012207 12.813 -0.00012207 17.5C-0.00012207 17.7764 0.223511 18 0.499878 18C0.776245 18 0.999878 17.7764 0.999878 17.5C0.999878 13.3643 4.58875 10 8.99988 10C13.411 10 16.9999 13.3643 16.9999 17.5C16.9999 17.7764 17.2235 18 17.4999 18C17.7762 18 17.9999 17.7764 17.9999 17.5C17.9999 12.813 13.9623 9 8.99988 9ZM4.99988 4C4.99988 1.79443 6.79431 0 8.99988 0C11.2054 0 12.9999 1.79443 12.9999 4C12.9999 6.20557 11.2054 8 8.99988 8C6.79431 8 4.99988 6.20557 4.99988 4ZM5.99988 4C5.99988 5.6543 7.34558 7 8.99988 7C10.6542 7 11.9999 5.6543 11.9999 4C11.9999 2.3457 10.6542 1 8.99988 1C7.34558 1 5.99988 2.3457 5.99988 4Z","fill","#B4C3EB"],["routerLink","./guide","routerLinkActive","sel",1,"item","guide"],["d","M17.4999 0H0.499878C0.223511 0 -0.00012207 0.223633 -0.00012207 0.5V17.5C-0.00012207 17.7764 0.223511 18 0.499878 18H17.4999C17.7762 18 17.9999 17.7764 17.9999 17.5V0.5C17.9999 0.223633 17.7762 0 17.4999 0ZM3.99988 1V17H2.99988V1H3.99988ZM0.999878 1H1.99988V17H0.999878V1ZM16.9999 17H4.99988V1H16.9999V17ZM7.99988 4.5C7.99988 4.22363 8.22351 4 8.49988 4H12.4999C12.7762 4 12.9999 4.22363 12.9999 4.5C12.9999 4.77637 12.7762 5 12.4999 5H8.49988C8.22351 5 7.99988 4.77637 7.99988 4.5ZM7.99988 6.5C7.99988 6.22363 8.22351 6 8.49988 6H10.4999C10.7762 6 10.9999 6.22363 10.9999 6.5C10.9999 6.77637 10.7762 7 10.4999 7H8.49988C8.22351 7 7.99988 6.77637 7.99988 6.5ZM11.9999 8.5C11.9999 8.77637 11.7762 9 11.4999 9H8.49988C8.22351 9 7.99988 8.77637 7.99988 8.5C7.99988 8.22363 8.22351 8 8.49988 8H11.4999C11.7762 8 11.9999 8.22363 11.9999 8.5Z","fill","#B4C3EB"],[1,"div"],[4,"ngFor","ngForOf"],[1,"fn","msg"],["width","22","height","25","viewBox","0 0 22 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.329 3H2.67096C1.19586 3 0 4.1958 0 5.67096V16.329C0 17.8041 1.19586 19 2.67096 19H5V25L11 19H19.329C20.8042 19 22 17.8041 22 16.329V5.67096C22 4.1958 20.8042 3 19.329 3ZM21 16.329C21 17.2504 20.2504 18 19.329 18H11H10.5858L10.2929 18.2928L6 22.5858V19V18H5H2.67096C1.74957 18 1 17.2504 1 16.329V5.67096C1 4.74957 1.74957 4 2.67096 4H19.329C20.2504 4 21 4.74957 21 5.67096V16.329ZM8 11C8 11.5523 7.55231 12 7 12C6.44769 12 6 11.5523 6 11C6 10.4477 6.44769 10 7 10C7.55231 10 8 10.4477 8 11ZM12 11C12 11.5523 11.5523 12 11 12C10.4477 12 10 11.5523 10 11C10 10.4477 10.4477 10 11 10C11.5523 10 12 10.4477 12 11ZM16 11C16 11.5523 15.5523 12 15 12C14.4478 12 14 11.5523 14 11C14 10.4477 14.4478 10 15 10C15.5523 10 16 10.4477 16 11Z","fill","white"],["routerLink","./settings","routerLinkActive","sel",1,"fn","config"],["width","22","height","22","viewBox","0 0 22 22","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M21.8553 9.21893C21.8176 8.98718 21.6408 8.80255 21.4107 8.75494L18.9736 8.25024L18.5824 7.30591L19.9486 5.22626C20.0775 5.02991 20.0721 4.77448 19.9349 4.58386C19.2357 3.61157 18.3881 2.7641 17.4158 2.06476C17.3171 1.99377 17.201 1.95807 17.0847 1.95807C16.9764 1.95807 16.8681 1.98895 16.7735 2.05109L14.6938 3.41724L13.7496 3.02606L13.2449 0.589111C13.1973 0.35907 13.0128 0.182068 12.7809 0.144348C12.1929 0.048645 11.5937 0 10.9999 0C10.406 0 9.80688 0.0485229 9.21887 0.144348C8.987 0.182068 8.80243 0.358887 8.75482 0.588989L8.25006 3.02606L7.30579 3.41724L5.2262 2.05121C5.13153 1.98901 5.02313 1.95807 4.91492 1.95807C4.79865 1.95807 4.68256 1.99377 4.5838 2.06482C3.61145 2.7641 2.76398 3.61163 2.06458 4.58386C1.92749 4.77454 1.92206 5.03003 2.05103 5.22626L3.41705 7.30597L3.02594 8.25031L0.588806 8.75494C0.358765 8.80261 0.181885 8.98712 0.144165 9.21899C0.0484008 9.80695 -0.00012207 10.4062 -0.00012207 11C-0.00012207 11.5938 0.0484008 12.193 0.144226 12.7809C0.181946 13.0128 0.358765 13.1974 0.588806 13.245L3.02594 13.7498L3.41711 14.694L2.05109 16.7737C1.92212 16.9699 1.92749 17.2254 2.0647 17.4161C2.76398 18.3883 3.61151 19.2358 4.5838 19.9351C4.68256 20.0062 4.79871 20.0419 4.91504 20.0419C5.02325 20.0419 5.13159 20.011 5.2262 19.9488L7.30585 18.5828L8.25018 18.9739L8.75488 21.4109C8.80255 21.641 8.98706 21.8179 9.21887 21.8556C9.80682 21.9514 10.4061 22 10.9999 22C11.5938 22 12.1929 21.9515 12.7808 21.8556C13.0126 21.8179 13.1973 21.6411 13.2448 21.4109L13.7496 18.9739L14.6939 18.5827L16.7736 19.9488C16.8682 20.011 16.9766 20.0419 17.0849 20.0419C17.2012 20.0419 17.3173 20.0062 17.416 19.9352C18.3884 19.2358 19.2359 18.3882 19.9351 17.4161C20.0721 17.2254 20.0776 16.97 19.9487 16.7737L18.5827 14.694L18.9738 13.7497L21.4109 13.245C21.6408 13.1973 21.8177 13.0128 21.8555 12.781C21.9513 12.1934 21.9999 11.5941 21.9999 11C21.9999 10.4059 21.9512 9.8067 21.8553 9.21893ZM20.9119 12.3271L18.771 12.7705L18.2525 12.8779L18.0499 13.3671L17.6588 14.3114L17.4562 14.8005L17.7469 15.243L18.9469 17.07C18.4065 17.7767 17.777 18.4062 17.0699 18.947L15.243 17.7469L14.8004 17.4562L14.3112 17.6588L13.3669 18.05L12.8778 18.2526L12.7704 18.7711L12.327 20.912C11.887 20.9705 11.442 21 10.9999 21C10.5582 21 10.1131 20.9704 9.67273 20.9119L9.22937 18.7711L9.12201 18.2526L8.63281 18.05L7.68848 17.6589L7.19934 17.4563L6.75684 17.7469L4.92993 18.947C4.22302 18.4064 3.59332 17.7767 3.05292 17.0699L4.25293 15.243L4.54358 14.8005L4.341 14.3113L3.94983 13.3671L3.74725 12.8779L3.22876 12.7705L1.08789 12.3271C1.02942 11.887 0.999878 11.4418 0.999878 11C0.999878 10.5582 1.02942 10.113 1.08783 9.67279L3.2287 9.22955L3.74719 9.12219L3.94977 8.633L4.34094 7.68866L4.54358 7.19952L4.25287 6.75696L3.05286 4.92993C3.59344 4.22296 4.22302 3.59351 4.92987 3.05298L6.75677 4.25305L7.19928 4.5437L7.68848 4.34113L8.63275 3.94995L9.12195 3.74731L9.22931 3.22888L9.67267 1.08801C10.1129 1.02954 10.558 1 10.9999 1C11.4413 1 11.8865 1.02954 12.327 1.08801L12.7703 3.22882L12.8777 3.74731L13.3668 3.94995L14.3111 4.34106L14.8003 4.54376L15.2429 4.25305L17.0698 3.05298C17.7768 3.59363 18.4063 4.22314 18.9467 4.92999L17.7466 6.7569L17.4559 7.19946L17.6586 7.68866L18.0497 8.63293L18.2524 9.12207L18.7708 9.22943L20.9117 9.67285C20.9703 10.113 20.9999 10.5582 20.9999 11C20.9999 11.442 20.9703 11.8871 20.9119 12.3271ZM12.9999 11C12.9999 12.1046 12.1044 13 10.9999 13C9.89526 13 8.99988 12.1046 8.99988 11C8.99988 9.89545 9.89526 9 10.9999 9C12.1044 9 12.9999 9.89545 12.9999 11Z","fill","white"],["routerLink","/logout",1,"fn","logout"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.9999 10C19.9999 15.5228 15.5227 20 9.99988 20C4.47705 20 -0.00012207 15.5228 -0.00012207 10C-0.00012207 5.90033 2.46942 2.38135 5.99988 0.837646V1.94965C3.0415 3.42578 0.999878 6.47522 0.999878 10C0.999878 14.9626 5.03723 19 9.99988 19C14.9625 19 18.9999 14.9626 18.9999 10C18.9999 6.47522 16.9583 3.42578 13.9999 1.94965V0.837646C17.5303 2.38135 19.9999 5.90033 19.9999 10ZM9.99988 10C10.5521 10 10.9999 9.55231 10.9999 9V0H8.99988V9C8.99988 9.55231 9.44757 10 9.99988 10Z","fill","#B4C3EB"],[3,"name","code","rate",4,"ngIf"],[3,"name","code","rate"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"a",2),t.j41(3,"a",3),t.qSk(),t.j41(4,"svg",4),t.nrm(5,"path",5),t.k0s(),t.joV(),t.j41(6,"span"),t.EFF(7,"\u0414\u0430\u0448\u0431\u043e\u0430\u0440\u0434"),t.k0s()(),t.j41(8,"a",6),t.qSk(),t.j41(9,"svg",7),t.nrm(10,"path",8)(11,"path",9)(12,"path",10),t.k0s(),t.joV(),t.j41(13,"span"),t.EFF(14,"\u0417\u0430\u043f\u0440\u043e\u0441\u044b"),t.k0s()(),t.j41(15,"a",11),t.qSk(),t.j41(16,"svg",12),t.nrm(17,"path",13),t.k0s(),t.joV(),t.j41(18,"span"),t.EFF(19,"\u0421\u0442\u0430\u0432\u043a\u0438"),t.k0s()(),t.j41(20,"a",14),t.qSk(),t.j41(21,"svg",4),t.nrm(22,"path",15)(23,"path",16)(24,"path",17)(25,"path",18)(26,"path",19)(27,"path",20)(28,"path",21)(29,"path",22)(30,"path",23)(31,"path",24)(32,"path",25)(33,"path",26)(34,"path",27),t.k0s(),t.joV(),t.j41(35,"span"),t.EFF(36,"\u0417\u0430\u043a\u0430\u0437\u044b"),t.k0s()(),t.j41(37,"a",28),t.qSk(),t.j41(38,"svg",29),t.nrm(39,"path",30),t.k0s(),t.joV(),t.j41(40,"span"),t.EFF(41,"\u0422\u0430\u0440\u0438\u0444\u044b"),t.k0s()(),t.j41(42,"a",31),t.qSk(),t.j41(43,"svg",32),t.nrm(44,"path",33),t.k0s(),t.joV(),t.j41(45,"span"),t.EFF(46,"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0438"),t.k0s()(),t.j41(47,"a",34),t.qSk(),t.j41(48,"svg",4),t.nrm(49,"path",35),t.k0s(),t.joV(),t.j41(50,"span"),t.EFF(51,"\u041e\u0442\u0447\u0435\u0442\u044b"),t.k0s()(),t.j41(52,"a",36),t.qSk(),t.j41(53,"svg",4),t.nrm(54,"path",37),t.k0s(),t.joV(),t.j41(55,"span"),t.EFF(56,"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"),t.k0s()(),t.j41(57,"a",38),t.qSk(),t.j41(58,"svg",4),t.nrm(59,"path",39),t.k0s(),t.joV(),t.j41(60,"span"),t.EFF(61,"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"),t.k0s()(),t.nrm(62,"span",40),t.DNE(63,ls,2,1,"ng-container",41),t.j41(64,"span",42)(65,"span"),t.qSk(),t.j41(66,"svg",43),t.nrm(67,"path",44),t.k0s(),t.joV(),t.j41(68,"span"),t.EFF(69,"2"),t.k0s()()(),t.j41(70,"span",45)(71,"span"),t.qSk(),t.j41(72,"svg",46),t.nrm(73,"path",47),t.k0s()()(),t.joV(),t.j41(74,"a",48)(75,"span"),t.qSk(),t.j41(76,"svg",49),t.nrm(77,"path",50),t.k0s()()()()()),2&i&&(t.R7$(63),t.Y8G("ngForOf",o.currencyList))},dependencies:[d.Sq,d.bT,F.Wk,F.wQ,us]})}}return n})(),_s=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-pages"]],decls:4,vars:0,consts:[[1,"content"],[1,"user-module"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"app-header")(3,"router-outlet"),t.k0s()())},dependencies:[F.n3,ds],styles:['@charset "UTF-8";.main mat-date-range-input .mat-date-range-input-separator-hidden{opacity:1!important;margin:0 2px 0 0;color:#606a74}.main .border-on .mat-date-range-input-separator{color:#db563b}.main .data .mat-date-range-input-container input{display:block;font-size:13px}.main .data .mat-date-range-input{height:12.5px;margin-right:5px}.main .data .mat-date-range-input-container{height:12.5px}.main .data .mat-date-range-input-start-wrapper{width:66px;height:12.5px;overflow:inherit;line-height:13px}.main .data .mat-date-range-input-end-wrapper{width:66px;height:12.5px;line-height:13px}.main .data .mat-date-range-input-separator{height:12.5px;margin:0 2px 0 1px}.main .data .mat-date-range-input input{margin:0;padding:0;box-sizing:border-box;font-size:13px;line-height:13px;cursor:pointer;height:12.5px}div.mat-calendar-body-cell-content{border-radius:6px}div.mat-calendar-body-selected,.mat-calendar-body-cell.selected .mat-calendar-body-cell-content{background:#DB563B}.mat-calendar-body-in-range:before{background:#83909E}.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:gray}.hoverr{display:flex}.placer .template{visibility:hidden;opacity:0;max-width:0;margin-left:0;overflow:hidden;transition:opacity 2s ease,max-width 1s ease,margin-left 1s ease,visibility 0s 1s;text-wrap:nowrap}.hoverr:hover .template{visibility:visible;opacity:1;max-width:200px;margin-left:24px;transition:opacity 2s ease,max-width 1s ease,margin-left 1s ease,visibility 0s 0s}.additional .w100{min-width:100%}.additional .select-filter-main{display:none}.additional mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline>*{background:white}.main .select-filter-additional{display:none}.main .mat-mdc-select-value-text{font-size:13px;line-height:13px}.main .value-selected .mat-mdc-select-value-text{color:#db563b}.main .mat-select{font-family:regular,arial,"sans-serif"}.placer .search-filter{display:none}.edit-form .ru .form-block .form-row .form-item input,.edit-form .ru .form-block .form-row .form-item textarea{background:transparent}.edit-form .en .form-block .form-row .form-item .bg{background:#F7F9FC;border:1px solid #E0E5EB}.edit-form .en .form-block .form-row .form-item .form-label{display:flex;justify-content:space-between}.edit-form .en .form-block .form-row .form-item .form-label span{font-weight:900;display:flex}.edit-form .en .form-block .form-row .form-item .form-label span:before{display:flex;justify-content:center;margin-right:3px;content:"";background:url(pic-triangle-warning.473f94a24d976fcd.svg) no-repeat;width:10px;height:10px;position:relative}.edit-form .ru .form-block .form-row .form-block-title{color:#606a74}h1.mat-dialog-title{font-size:26px;line-height:30px;color:#4b66ad;text-decoration:none}.mat-dialog-actions button.save{background:#DB563B;color:#fff}.mat-dialog-actions button.download{background:#4b66ad;color:#fff}.mat-dialog-actions button.cancel{background:#606A74;color:#fff}.table-list .td-block-line{max-height:50%}.sort-dir-asc:after{left:2px}.sort-dir-desc:after{left:2px}.edit-form .radio-btn input:checked .radio-btn{border:red solid 1px}.radio-btn :checked+span{border-color:#db563b}.table-list .mat-mdc-table{background-color:#83909e;box-shadow:0 0 5px #0000001a}\n'],encapsulation:2})}}return n})();var Vt=m(1505),ps=m(5736);function ms(n,r){if(1&n){const e=t.RV6();t.j41(0,"label",2),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.toggle(s.id))}),t.nrm(1,"input",3)(2,"i"),t.j41(3,"span"),t.EFF(4),t.k0s()()}if(2&n){const e=r.$implicit,i=t.XpG();t.Mz_("for","service-kind-",e.id,""),t.R7$(1),t.Mz_("name","service-kind-",e.id,""),t.Y8G("checked",i.isChecked(e.id)),t.R7$(3),t.JRh(e.name)}}let hs=(()=>{class n{constructor(){this.services=[],this.kinds=new Set,this.isDisabled=!1,this.touched=!1,this.onChange=e=>{},this.onTouched=()=>{}}ngOnInit(){}writeValue(e){this.kinds=new Set(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}isChecked(e){return this.kinds.has(e)}toggle(e){this.kinds.has(e)?this.kinds.delete(e):this.kinds.add(e);const i=Array.from(this.kinds.values());this.onChange(i)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-services"]],inputs:{services:"services"},features:[t.Jv_([{provide:a.kq,multi:!0,useExisting:n}])],decls:4,vars:1,consts:[[1,"form-item-layout","sep"],[3,"for","click",4,"ngFor","ngForOf"],[3,"for","click"],["type","checkbox",3,"checked","name"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"span"),t.EFF(2,"\u0412\u0438\u0434\u044b \u0443\u0441\u043b\u0443\u0433:"),t.k0s(),t.DNE(3,ms,5,4,"label",1),t.k0s()),2&i&&(t.R7$(3),t.Y8G("ngForOf",o.services))},dependencies:[d.Sq],encapsulation:2})}}return n})();const gs=["fileList"];function fs(n,r){1&n&&t.eu8(0)}function Cs(n,r){1&n&&t.eu8(0)}function vs(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",79),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.onCountryChange(s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function ks(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u0421\u0442\u0440\u0430\u043d \u043d\u0435\u0442"),t.k0s())}function bs(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Fs(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",79),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.onCountryChange(s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Es(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u0413\u043e\u0440\u043e\u0434\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Rs(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function ys(n,r){1&n&&t.eu8(0)}function xs(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function Ds(n,r){1&n&&t.eu8(0)}function js(n,r){1&n&&t.eu8(0)}function ws(n,r){1&n&&t.eu8(0)}function Ms(n,r){1&n&&t.eu8(0)}function Ts(n,r){1&n&&t.eu8(0)}function Gs(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function $s(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Os(n,r){1&n&&t.eu8(0)}function Bs(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Is(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u0413\u0440\u0443\u043f\u043f \u043d\u0435\u0442"),t.k0s())}function Ss(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function qs(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function Ps(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Ns(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Vs(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u0422\u0438\u043f\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Ys(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function As(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Ls(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u0422\u0438\u043f\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Xs(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Hs(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function Us(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Ws(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function zs(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u0422\u0438\u043f\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Zs(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function Ks(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name_i," ")}}function Js(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function Qs(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function ta(n,r){if(1&n&&(t.j41(0,"mat-option",81),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name_i," ")}}function ea(n,r){1&n&&(t.j41(0,"mat-option",80),t.EFF(1,"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432 \u043d\u0435\u0442"),t.k0s())}function na(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e "),t.k0s())}function ia(n,r){if(1&n&&(t.j41(0,"div",83),t.EFF(1),t.k0s()),2&n){const e=t.XpG().name,i=t.XpG();t.R7$(1),t.JRh(i.getError(e))}}function oa(n,r){if(1&n&&t.DNE(0,ia,2,1,"div",82),2&n){const e=r.name,i=t.XpG();t.Y8G("ngIf",i.isFormSubmitted&&i.hasError(e))}}const ra=function(){return{name:"name"}},sa=function(){return{name:"name_full"}},aa=function(){return{name:"inn"}},ua=function(){return{name:"contact_fio"}},ca=function(){return{name:"phone"}},la=function(){return{name:"email"}},da=function(){return{name:"document_contact_phone"}},_a=function(){return{name:"delivery_contact_phone"}},pa=function(){return{name:"accountant_phone"}};let Yt=(()=>{class n extends ps.K{constructor(e,i,o,s,u,l,x,I,N,Y){super(u,s,o,i,l),this.fb=e,this.customerService=x,this.companyService=I,this.cityService=N,this.countryService=Y,this.entity="\u041a\u043b\u0438\u0435\u043d\u0442",this.editTitle="\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435",this.newTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",this.savedMessage=`${this.entity} \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d`,this.removedMessage=`${this.entity} \u0443\u0434\u0430\u043b\u0435\u043d`,this.createdMessage=`${this.entity} \u0441\u043e\u0437\u0434\u0430\u043d`,this.notFoundMessage=`${this.entity} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`,this.countries=[],this.filteredCountries=[],this.cities=[],this.filteredCitys=[],this.clientGroups=[],this.filteredClientGroups=[],this.employees=[],this.filteredEmployeesForClient=[],this.filteredEmployeesForSale=[],this.documents=[],this.form=this.fb.group({id:[""],name:["",[a.k0.required]],name_full:["",[a.k0.required]],country_id:["",[a.k0.required]],city_id:["",[a.k0.required]],inn:["",[Vt.wo]],kpp:["",[]],ogrn:["",[]],okpo:["",[]],head_name:["",[]],head_position_id:["",[]],signature_fio:["",[]],signature_position:["",[]],signature_basis:["",[]],address_legal:["",[]],address_post:["",[]],contact_fio:["",[a.k0.required]],phone:["",[]],email:["",[Vt.Bj]],web:["",[]],group_id:["",[]],business_id:["",[]],interaction_id:["",[]],source_id:["",[]],status_id:["",[]],counterparty_id:["",[]],service_ids:[[],[]],document_address:["",[]],document_path:["",[]],documents_path:["",[]],document_contact_fio:["",[]],document_contact_phone:["",[]],bank_name:["",[]],bank_bik:["",[]],bank_kpp:["",[]],bank_payment_account:["",[]],bank_correspondent_account:["",[]],bank_currency_id:["",[]],accountant_fio:["",[]],accountant_phone:["",[]],delivery_address:["",[]],delivery_contact_fio:["",[]],delivery_contact_phone:["",[]],note:["",[]],warehouse_schedule:["",[]],manager_id:["",[]],manager_sale_id:["",[]]})}ngOnInit(){this.getCountries(),this.loadHeadPositions(),this.loadClientGroups(),this.loadBusinessKinds(),this.loadInteractionKinds(),this.loadContactSources(),this.loadClientStatuses(),this.loadClientKinds(),this.loadServiceKinds(),this.loadEmployees(),this.loadCurrencies(),this.subscribeControl_CountryId(),this.subscribeControl_CityId(),this.subscribeControl_ClientGroupId(),this.subscribeControl_ClientKindId(),this.subscribeControl_BusinessKindId(),this.subscribeControl_ContactSourceId(),this.subscribeControl_EmployeeForClientId(),this.subscribeControl_EmployeeForSaleId(),setTimeout(()=>super.ngOnInit(),1500)}subscribeControl_CountryId(){this.form.get("country_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredCountries=this.countries.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCountries.length&&this.filteredCountries[0].name?.toLowerCase()===e.toLowerCase()&&(this.form.patchValue({country_id:this.filteredCountries[0].id}),this.onCountryChange(this.filteredCountries[0].id)))})}subscribeControl_CityId(){this.form.get("city_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredCitys=this.cities.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredCitys.length&&this.filteredCitys[0].name?.toLowerCase()===e.toLowerCase()&&this.form.patchValue({city_id:this.filteredCitys[0].id}))})}subscribeControl_ClientGroupId(){this.form.get("group_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredClientGroups=this.clientGroups.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredClientGroups.length&&this.filteredClientGroups[0].name?.toLowerCase()===e.toLowerCase()&&this.form.patchValue({group_id:this.filteredClientGroups[0].id}))})}subscribeControl_ClientKindId(){this.form.get("counterparty_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredClientKinds=this.clientKinds.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredClientKinds.length&&this.filteredClientKinds[0].name?.toLowerCase()===e.toLowerCase()&&this.form.patchValue({counterparty_id:this.filteredClientKinds[0].id}))})}subscribeControl_BusinessKindId(){this.form.get("business_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredBusinessKinds=this.businessKinds.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredBusinessKinds.length&&this.filteredBusinessKinds[0].name?.toLowerCase()===e.toLowerCase()&&this.form.patchValue({business_id:this.filteredBusinessKinds[0].id}))})}subscribeControl_ContactSourceId(){this.form.get("source_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredContactSources=this.contactSources.filter(i=>i.name&&i.name.toLowerCase().includes(e.toLowerCase())),1==this.filteredContactSources.length&&this.filteredContactSources[0].name?.toLowerCase()===e.toLowerCase()&&this.form.patchValue({source_id:this.filteredContactSources[0].id}))})}subscribeControl_EmployeeForClientId(){this.form.get("manager_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredEmployeesForClient=this.employees.filter(i=>i.name_i&&i.name_i.toLowerCase().includes(e.toLowerCase())),1==this.filteredEmployeesForClient.length&&this.filteredEmployeesForClient[0].name_i?.toLowerCase()===e.toLowerCase()&&this.form.patchValue({manager_id:this.filteredEmployeesForClient[0].id}))})}subscribeControl_EmployeeForSaleId(){this.form.get("manager_sale_id")?.valueChanges.pipe((0,O.B)(1e3),(0,b.F)()).subscribe(e=>{"string"==typeof e&&(this.filteredEmployeesForSale=this.employees.filter(i=>i.name_i&&i.name_i.toLowerCase().includes(e.toLowerCase())),1==this.filteredEmployeesForSale.length&&this.filteredEmployeesForSale[0].name_i?.toLowerCase()===e.toLowerCase()&&this.form.patchValue({manager_sale_id:this.filteredEmployeesForSale[0].id}))})}displayFn_EmployeeForSaleId(e){return this.employees&&this.employees.find(o=>o.id===e)?.name_i||""}displayFn_EmployeeForClientId(e){return this.employees&&this.employees.find(o=>o.id===e)?.name_i||""}displayFn_ContactSourceId(e){return this.contactSources&&this.contactSources.find(o=>o.id===e)?.name||""}displayFn_BusinessKindId(e){return this.businessKinds&&this.businessKinds.find(o=>o.id===e)?.name||""}displayFn_ClientKindId(e){return this.clientKinds&&this.clientKinds.find(o=>o.id===e)?.name||""}displayFn_ClientStatusesId(e){return this.clientStatuses&&this.clientStatuses.find(o=>o.id===e)?.name||""}displayFn_ClientGroupId(e){return this.clientGroups&&this.clientGroups.find(o=>o.id===e)?.name||""}displayFn_CityId(e){return this.cities&&this.cities.find(o=>o.id===e)?.name||""}displayFn_CountryId(e){return this.countries&&this.countries.find(o=>o.id===e)?.name||""}afterRead(e){this.getCities(e.country_id),this.documents=e.documents_file||[]}create(e){return this.customerService.customerCreate(e)}afterCreate(e){return this.fileList.create(e.id).pipe((0,R.T)(()=>({id:e.id})))}read(e){return this.customerService.customerInfo(e).pipe((0,g.M)(i=>this.afterRead(i)))}update(e){return this.customerService.customerUpdate(e)}afterUpdate(){return this.fileList.update()}delete(e){return this.customerService.customerDelete(e)}afterDelete(){return this.fileList.delete()}getNameForHeader(e){return`${e.name}`}getCountries(){this.countryService.getCountries().subscribe(e=>{this.filteredCountries=e,this.countries=e})}getCities(e){this.cityService.getCities(e).subscribe(i=>{this.filteredCitys=i,this.cities=i})}loadEmployees(){this.companyService.companyEmployeeList().subscribe(e=>{this.employees=e?e.items:[],this.filteredEmployeesForClient=e?e.items:[],this.filteredEmployeesForSale=e?e.items:[]})}onCountryChange(e){this.form.controls.city_id.reset(void 0),this.getCities(e)}loadClientGroups(){this.customerService.customerGroupList().subscribe(e=>{this.filteredClientGroups=e.items?e.items.sort((0,$t.G)("name","asc","case-insensitive")):[],this.clientGroups=e.items?e.items.sort((0,$t.G)("name","asc","case-insensitive")):[]})}onDocumentsPathChange(e){this.form.patchValue({documents_path:e})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(a.ok),t.rXU(q.UG),t.rXU(F.nX),t.rXU(D.V9),t.rXU(d.aZ),t.rXU(F.Ix),t.rXU(D.m6),t.rXU(D.Bl),t.rXU(Ct),t.rXU(ft))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-client-editor"]],viewQuery:function(i,o){if(1&i&&t.GBs(gs,7),2&i){let s;t.mGM(s=t.lsd())&&(o.fileList=s.first)}},features:[t.Vt3],decls:347,vars:82,consts:[[3,"title","isEditMode","name","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-block-title"],[1,"form-block"],[1,"form-row"],[1,"form-item-layout"],[1,"form-item"],[1,"form-label"],[1,"req"],[1,"form-data"],["type","text","formControlName","name"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","formControlName","name_full"],["matInput","","type","text","formControlName","country_id",3,"matAutocomplete"],[3,"displayWith"],["country_id","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["disabled","",4,"ngIf"],[4,"ngIf"],["matInput","","type","text","formControlName","city_id",3,"matAutocomplete"],["city_id","matAutocomplete"],["type","text","formControlName","inn"],["type","text","formControlName","kpp"],["type","text","formControlName","ogrn"],["type","text","formControlName","okpo"],["type","text","formControlName","head_name"],["appearance","outline",1,"ui-select"],["formControlName","head_position_id"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","signature_fio"],["type","text","formControlName","signature_position"],["type","text","formControlName","signature_basis"],["component","customer","var","documents_file",3,"documents","itemId","documentsPath","onDocumentsPathChange"],["fileList",""],["type","text","formControlName","address_legal"],["type","text","formControlName","address_post"],["type","text","formControlName","contact_fio"],["type","text","formControlName","phone","appPhoneMask",""],["type","text","formControlName","email"],["type","text","formControlName","web"],[1,"form-block-sub-title"],[1,"form-item","w50"],["type","text","formControlName","document_address"],["type","text","formControlName","document_contact_fio"],["type","text","formControlName","document_contact_phone","appPhoneMask",""],["type","text","formControlName","delivery_address"],["type","text","formControlName","delivery_contact_fio"],["type","text","formControlName","delivery_contact_phone","appPhoneMask",""],["type","text","formControlName","warehouse_schedule"],["type","text","formControlName","bank_name"],["type","text","formControlName","bank_bik"],["type","text","formControlName","bank_kpp"],["type","text","formControlName","bank_payment_account"],["type","text","formControlName","bank_correspondent_account"],["formControlName","bank_currency_id"],["type","text","formControlName","accountant_fio"],["type","text","formControlName","accountant_phone","appPhoneMask",""],["matInput","","type","text","formControlName","group_id",3,"matAutocomplete"],["group_id","matAutocomplete"],["formControlName","status_id"],["matInput","","type","text","formControlName","counterparty_id",3,"matAutocomplete"],["counterparty_id","matAutocomplete"],["matInput","","type","text","formControlName","business_id",3,"matAutocomplete"],["business_id","matAutocomplete"],["formControlName","interaction_id"],["matInput","","type","text","formControlName","source_id",3,"matAutocomplete"],["source_id","matAutocomplete"],["formControlName","service_ids",3,"services"],["formControlName","note"],["matInput","","type","text","formControlName","manager_id",3,"matAutocomplete"],["manager_id","matAutocomplete"],["matInput","","type","text","formControlName","manager_sale_id",3,"matAutocomplete"],["manager_sale_id","matAutocomplete"],[1,"form-button-right"],[1,"btn","v","save",3,"click"],[1,"btn","v","del",3,"click"],[1,"btn","v","cancel",3,"click"],["error",""],[3,"value","click"],["disabled",""],[3,"value"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,o){if(1&i&&(t.j41(0,"app-editor-header",0),t.bIt("save",function(){return o.save()})("remove",function(){return o.remove()}),t.k0s(),t.j41(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(){return o.save()}),t.j41(3,"div",3),t.EFF(4,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435"),t.k0s(),t.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),t.EFF(10,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0440\u0430\u0442\u043a\u043e\u0435: "),t.j41(11,"span",9),t.EFF(12,"\u2022"),t.k0s()(),t.j41(13,"div",10),t.nrm(14,"input",11),t.DNE(15,fs,1,0,"ng-container",12),t.k0s()(),t.j41(16,"div",7)(17,"div",8),t.EFF(18,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u0435: "),t.j41(19,"span",9),t.EFF(20,"\u2022"),t.k0s()(),t.j41(21,"div",10),t.nrm(22,"input",13),t.DNE(23,Cs,1,0,"ng-container",12),t.k0s()()(),t.j41(24,"div",6)(25,"div",7)(26,"div",8),t.EFF(27,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: "),t.j41(28,"span",9),t.EFF(29,"\u2022"),t.k0s()(),t.j41(30,"div",10),t.nrm(31,"input",14),t.j41(32,"mat-autocomplete",15,16),t.DNE(34,vs,2,2,"mat-option",17),t.DNE(35,ks,2,0,"mat-option",18),t.k0s(),t.DNE(36,bs,2,0,"mat-error",19),t.k0s()(),t.j41(37,"div",7)(38,"div",8),t.EFF(39,"\u0413\u043e\u0440\u043e\u0434 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: "),t.j41(40,"span",9),t.EFF(41,"\u2022"),t.k0s()(),t.j41(42,"div",10),t.nrm(43,"input",20),t.j41(44,"mat-autocomplete",15,21),t.DNE(46,Fs,2,2,"mat-option",17),t.DNE(47,Es,2,0,"mat-option",18),t.k0s(),t.DNE(48,Rs,2,0,"mat-error",19),t.k0s()()()(),t.j41(49,"div",5)(50,"div",6)(51,"div",7)(52,"div",8),t.EFF(53,"\u0418\u041d\u041d:"),t.k0s(),t.j41(54,"div",10),t.nrm(55,"input",22),t.DNE(56,ys,1,0,"ng-container",12),t.k0s()(),t.j41(57,"div",7)(58,"div",8),t.EFF(59,"\u041a\u041f\u041f:"),t.k0s(),t.j41(60,"div",10),t.nrm(61,"input",23),t.k0s()(),t.j41(62,"div",7)(63,"div",8),t.EFF(64,"\u041e\u0413\u0420\u041d:"),t.k0s(),t.j41(65,"div",10),t.nrm(66,"input",24),t.k0s()(),t.j41(67,"div",7)(68,"div",8),t.EFF(69,"\u041e\u041a\u041f\u041e:"),t.k0s(),t.j41(70,"div",10),t.nrm(71,"input",25),t.k0s()()()()(),t.j41(72,"div",3),t.EFF(73,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"),t.k0s(),t.j41(74,"div",4)(75,"div",5)(76,"div",6)(77,"div",7)(78,"div",8),t.EFF(79,"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0424\u0418\u041e:"),t.k0s(),t.j41(80,"div",10),t.nrm(81,"input",26),t.k0s()(),t.j41(82,"div",7)(83,"div",8),t.EFF(84,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f:"),t.k0s(),t.j41(85,"div",10)(86,"mat-form-field",27)(87,"mat-select",28),t.DNE(88,xs,2,2,"mat-option",29),t.k0s()()()()()(),t.j41(89,"div",5)(90,"div",6)(91,"div",7)(92,"div",8),t.EFF(93,"\u0424\u0418\u041e \u0443\u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0430:"),t.k0s(),t.j41(94,"div",10),t.nrm(95,"input",30),t.k0s()(),t.j41(96,"div",7)(97,"div",8),t.EFF(98,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0430:"),t.k0s(),t.j41(99,"div",10),t.nrm(100,"input",31),t.k0s()()(),t.j41(101,"div",6)(102,"div",7)(103,"div",8),t.EFF(104,"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0430:"),t.k0s(),t.j41(105,"div",10),t.nrm(106,"input",32),t.k0s()()()(),t.j41(107,"div",5)(108,"app-file-list",33,34),t.bIt("onDocumentsPathChange",function(u){return o.onDocumentsPathChange(u)}),t.k0s()()(),t.j41(110,"div",3),t.EFF(111,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0438 \u0430\u0434\u0440\u0435\u0441\u0430"),t.k0s(),t.j41(112,"div",4)(113,"div",5)(114,"div",6)(115,"div",7)(116,"div",8),t.EFF(117,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441:"),t.k0s(),t.j41(118,"div",10),t.nrm(119,"input",35),t.k0s()(),t.j41(120,"div",7)(121,"div",8),t.EFF(122,"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441:"),t.k0s(),t.j41(123,"div",10),t.nrm(124,"input",36),t.k0s()()(),t.j41(125,"div",6)(126,"div",7)(127,"div",8),t.EFF(128,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0435 \u043b\u0438\u0446\u043e:"),t.k0s(),t.j41(129,"div",10),t.nrm(130,"input",37),t.DNE(131,Ds,1,0,"ng-container",12),t.k0s()(),t.j41(132,"div",7)(133,"div",8),t.EFF(134,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"),t.k0s(),t.j41(135,"div",10),t.nrm(136,"input",38),t.DNE(137,js,1,0,"ng-container",12),t.k0s()(),t.j41(138,"div",7)(139,"div",8),t.EFF(140,"E-mail:"),t.k0s(),t.j41(141,"div",10),t.nrm(142,"input",39),t.DNE(143,ws,1,0,"ng-container",12),t.k0s()(),t.j41(144,"div",7)(145,"div",8),t.EFF(146,"\u0421\u0430\u0439\u0442:"),t.k0s(),t.j41(147,"div",10),t.nrm(148,"input",40),t.k0s()()()(),t.j41(149,"div",41),t.EFF(150,"\u041a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0446\u0438\u044f"),t.k0s(),t.j41(151,"div",5)(152,"div",6)(153,"div",42)(154,"div",8),t.EFF(155,"\u0410\u0434\u0440\u0435\u0441 \u0434\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0446\u0438\u0438:"),t.k0s(),t.j41(156,"div",10),t.nrm(157,"input",43),t.k0s()(),t.j41(158,"div",7)(159,"div",8),t.EFF(160,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0435 \u043b\u0438\u0446\u043e:"),t.k0s(),t.j41(161,"div",10),t.nrm(162,"input",44),t.k0s()(),t.j41(163,"div",7)(164,"div",8),t.EFF(165,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"),t.k0s(),t.j41(166,"div",10),t.nrm(167,"input",45),t.DNE(168,Ms,1,0,"ng-container",12),t.k0s()()()(),t.j41(169,"div",41),t.EFF(170,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0433\u0440\u0443\u0437\u0430"),t.k0s(),t.j41(171,"div",5)(172,"div",6)(173,"div",42)(174,"div",8),t.EFF(175,"\u0410\u0434\u0440\u0435\u0441 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(176,"div",10),t.nrm(177,"input",46),t.k0s()(),t.j41(178,"div",7)(179,"div",8),t.EFF(180,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0435 \u043b\u0438\u0446\u043e:"),t.k0s(),t.j41(181,"div",10),t.nrm(182,"input",47),t.k0s()(),t.j41(183,"div",7)(184,"div",8),t.EFF(185,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"),t.k0s(),t.j41(186,"div",10),t.nrm(187,"input",48),t.DNE(188,Ts,1,0,"ng-container",12),t.k0s()()(),t.j41(189,"div",6)(190,"div",7)(191,"div",8),t.EFF(192,"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"),t.k0s(),t.j41(193,"div",10),t.nrm(194,"input",49),t.k0s()()()()(),t.j41(195,"div",3),t.EFF(196,"\u0424\u0438\u043d\u0430\u043d\u0441\u044b"),t.k0s(),t.j41(197,"div",4)(198,"div",5)(199,"div",6)(200,"div",42)(201,"div",8),t.EFF(202,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430:"),t.k0s(),t.j41(203,"div",10),t.nrm(204,"input",50),t.k0s()(),t.j41(205,"div",7)(206,"div",8),t.EFF(207,"\u0411\u0418\u041a \u0431\u0430\u043d\u043a\u0430:"),t.k0s(),t.j41(208,"div",10),t.nrm(209,"input",51),t.k0s()(),t.j41(210,"div",7)(211,"div",8),t.EFF(212,"\u041a\u041f\u041f \u0431\u0430\u043d\u043a\u0430:"),t.k0s(),t.j41(213,"div",10),t.nrm(214,"input",52),t.k0s()()(),t.j41(215,"div",6)(216,"div",42)(217,"div",8),t.EFF(218,"\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442:"),t.k0s(),t.j41(219,"div",10),t.nrm(220,"input",53),t.k0s()(),t.j41(221,"div",7)(222,"div",8),t.EFF(223,"\u041a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442:"),t.k0s(),t.j41(224,"div",10),t.nrm(225,"input",54),t.k0s()(),t.j41(226,"div",7)(227,"div",8),t.EFF(228,"\u0412\u0430\u043b\u044e\u0442\u0430 \u0441\u0447\u0435\u0442\u0430:"),t.k0s(),t.j41(229,"mat-form-field",27)(230,"mat-select",55),t.DNE(231,Gs,2,2,"mat-option",29),t.k0s(),t.DNE(232,$s,2,0,"mat-error",19),t.k0s()()()(),t.j41(233,"div",5)(234,"div",6)(235,"div",7)(236,"div",8),t.EFF(237,"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440:"),t.k0s(),t.j41(238,"div",10),t.nrm(239,"input",56),t.k0s()(),t.j41(240,"div",7)(241,"div",8),t.EFF(242,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0413\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0430:"),t.k0s(),t.j41(243,"div",10),t.nrm(244,"input",57),t.DNE(245,Os,1,0,"ng-container",12),t.k0s()()()()(),t.j41(246,"div",3),t.EFF(247,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f"),t.k0s(),t.j41(248,"div",4)(249,"div",5)(250,"div",6)(251,"div",42)(252,"div",8),t.EFF(253,"\u0413\u0440\u0443\u043f\u043f\u0430:"),t.k0s(),t.j41(254,"div",10),t.nrm(255,"input",58),t.j41(256,"mat-autocomplete",15,59),t.DNE(258,Bs,2,2,"mat-option",29),t.DNE(259,Is,2,0,"mat-option",18),t.k0s(),t.DNE(260,Ss,2,0,"mat-error",19),t.k0s()(),t.j41(261,"div",7)(262,"div",8),t.EFF(263,"\u0421\u0442\u0430\u0442\u0443\u0441:"),t.k0s(),t.j41(264,"mat-form-field",27)(265,"mat-select",60),t.DNE(266,qs,2,2,"mat-option",29),t.k0s(),t.DNE(267,Ps,2,0,"mat-error",19),t.k0s()(),t.j41(268,"div",7)(269,"div",8),t.EFF(270,"\u0422\u0438\u043f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430:"),t.k0s(),t.j41(271,"div",10),t.nrm(272,"input",61),t.j41(273,"mat-autocomplete",15,62),t.DNE(275,Ns,2,2,"mat-option",29),t.DNE(276,Vs,2,0,"mat-option",18),t.k0s(),t.DNE(277,Ys,2,0,"mat-error",19),t.k0s()()(),t.j41(278,"div",6)(279,"div",42)(280,"div",8),t.EFF(281,"\u041e\u0442\u0440\u0430\u0441\u043b\u044c \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:"),t.k0s(),t.j41(282,"div",10),t.nrm(283,"input",63),t.j41(284,"mat-autocomplete",15,64),t.DNE(286,As,2,2,"mat-option",29),t.DNE(287,Ls,2,0,"mat-option",18),t.k0s(),t.DNE(288,Xs,2,0,"mat-error",19),t.k0s()(),t.j41(289,"div",7)(290,"div",8),t.EFF(291,"\u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435:"),t.k0s(),t.j41(292,"mat-form-field",27)(293,"mat-select",65),t.DNE(294,Hs,2,2,"mat-option",29),t.k0s(),t.DNE(295,Us,2,0,"mat-error",19),t.k0s()(),t.j41(296,"div",7)(297,"div",8),t.EFF(298,"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a:"),t.k0s(),t.j41(299,"div",10),t.nrm(300,"input",66),t.j41(301,"mat-autocomplete",15,67),t.DNE(303,Ws,2,2,"mat-option",29),t.DNE(304,zs,2,0,"mat-option",18),t.k0s(),t.DNE(305,Zs,2,0,"mat-error",19),t.k0s()()()(),t.j41(306,"div",5),t.nrm(307,"app-services",68),t.k0s(),t.j41(308,"div",5)(309,"div",6)(310,"div",42)(311,"div",8),t.EFF(312,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"),t.k0s(),t.j41(313,"div",10),t.nrm(314,"textarea",69),t.k0s()(),t.j41(315,"div",7)(316,"div",8),t.EFF(317,"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c:"),t.k0s(),t.j41(318,"div",10),t.nrm(319,"input",70),t.j41(320,"mat-autocomplete",15,71),t.DNE(322,Ks,2,2,"mat-option",29),t.DNE(323,Js,2,0,"mat-option",18),t.k0s(),t.DNE(324,Qs,2,0,"mat-error",19),t.k0s()(),t.j41(325,"div",7)(326,"div",8),t.EFF(327,"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c:"),t.k0s(),t.j41(328,"div",10),t.nrm(329,"input",72),t.j41(330,"mat-autocomplete",15,73),t.DNE(332,ta,2,2,"mat-option",29),t.DNE(333,ea,2,0,"mat-option",18),t.k0s(),t.DNE(334,na,2,0,"mat-error",19),t.k0s()()()()()(),t.j41(335,"div",74)(336,"span",75),t.bIt("click",function(){return o.save()}),t.j41(337,"span"),t.EFF(338,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.j41(339,"span",76),t.bIt("click",function(){return o.remove()}),t.j41(340,"span"),t.EFF(341,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()(),t.j41(342,"span",77),t.bIt("click",function(){return o.goBack()}),t.j41(343,"span"),t.EFF(344,"\u043e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()()(),t.DNE(345,oa,1,1,"ng-template",null,78,t.C5r)),2&i){const s=t.sdS(33),u=t.sdS(45),l=t.sdS(257),x=t.sdS(274),I=t.sdS(285),N=t.sdS(302),Y=t.sdS(321),U=t.sdS(331),X=t.sdS(346);t.Y8G("title",o.title)("isEditMode",o.isEditMode)("name",o.nameForHeader),t.R7$(2),t.Y8G("formGroup",o.form),t.R7$(13),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(73,ra)),t.R7$(8),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(74,sa)),t.R7$(8),t.Y8G("matAutocomplete",s),t.R7$(1),t.Y8G("displayWith",o.displayFn_CountryId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCountries),t.R7$(1),t.Y8G("ngIf",0==o.filteredCountries.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.country_id.hasError("required")),t.R7$(7),t.Y8G("matAutocomplete",u),t.R7$(1),t.Y8G("displayWith",o.displayFn_CityId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredCitys),t.R7$(1),t.Y8G("ngIf",0==o.filteredCitys.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.city_id.hasError("required")),t.R7$(8),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(75,aa)),t.R7$(32),t.Y8G("ngForOf",o.headPositions),t.R7$(20),t.Y8G("documents",o.documents)("itemId",o.id)("documentsPath",o.form.value.documents_path),t.R7$(23),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(76,ua)),t.R7$(6),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(77,ca)),t.R7$(6),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(78,la)),t.R7$(25),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(79,da)),t.R7$(20),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(80,_a)),t.R7$(43),t.Y8G("ngForOf",o.currencies),t.R7$(1),t.Y8G("ngIf",o.form.controls.manager_id.hasError("required")),t.R7$(13),t.Y8G("ngTemplateOutlet",X)("ngTemplateOutletContext",t.lJ4(81,pa)),t.R7$(10),t.Y8G("matAutocomplete",l),t.R7$(1),t.Y8G("displayWith",o.displayFn_ClientGroupId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredClientGroups),t.R7$(1),t.Y8G("ngIf",0==o.filteredClientGroups.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.group_id.hasError("required")),t.R7$(6),t.Y8G("ngForOf",o.clientStatuses),t.R7$(1),t.Y8G("ngIf",o.form.controls.status_id.hasError("required")),t.R7$(5),t.Y8G("matAutocomplete",x),t.R7$(1),t.Y8G("displayWith",o.displayFn_ClientKindId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredClientKinds),t.R7$(1),t.Y8G("ngIf",0==o.filteredClientKinds.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.counterparty_id.hasError("required")),t.R7$(6),t.Y8G("matAutocomplete",I),t.R7$(1),t.Y8G("displayWith",o.displayFn_BusinessKindId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredBusinessKinds),t.R7$(1),t.Y8G("ngIf",0==o.filteredBusinessKinds.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.business_id.hasError("required")),t.R7$(6),t.Y8G("ngForOf",o.interactionKinds),t.R7$(1),t.Y8G("ngIf",o.form.controls.interaction_id.hasError("required")),t.R7$(5),t.Y8G("matAutocomplete",N),t.R7$(1),t.Y8G("displayWith",o.displayFn_ContactSourceId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredContactSources),t.R7$(1),t.Y8G("ngIf",0==o.filteredContactSources.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.source_id.hasError("required")),t.R7$(2),t.Y8G("services",o.serviceKinds),t.R7$(12),t.Y8G("matAutocomplete",Y),t.R7$(1),t.Y8G("displayWith",o.displayFn_EmployeeForClientId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredEmployeesForClient),t.R7$(1),t.Y8G("ngIf",0==o.filteredEmployeesForClient.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.manager_id.hasError("required")),t.R7$(5),t.Y8G("matAutocomplete",U),t.R7$(1),t.Y8G("displayWith",o.displayFn_EmployeeForSaleId.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredEmployeesForSale),t.R7$(1),t.Y8G("ngIf",0==o.filteredEmployeesForSale.length),t.R7$(1),t.Y8G("ngIf",o.form.controls.manager_sale_id.hasError("required"))}},dependencies:[d.Sq,d.bT,d.T3,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,f.rl,f.TL,C.VO,B.wT,P.$3,P.pN,it.fg,ot.S,vt.A,hs,Pt],encapsulation:2})}}return n})();var ma=m(3767);let V=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}canActivate(e,i){const o=this.auth.isAuthenticated();return o||(this.router.navigate(["/login"],{queryParams:{returnUrl:i.url}}),!1)}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(ma.u),t.KVO(F.Ix))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ha(n,r){1&n&&(t.j41(0,"span"),t.EFF(1,"\u043c\u0430\u0448\u0438\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435"),t.k0s())}function ga(n,r){1&n&&(t.j41(0,"span"),t.EFF(1,"\u043c\u0430\u0448\u0438\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435"),t.k0s())}function fa(n,r){1&n&&(t.j41(0,"span"),t.EFF(1,"\u043c\u0430\u0448\u0438\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435"),t.k0s())}function Ca(n,r){1&n&&(t.j41(0,"span"),t.EFF(1,"\u043c\u0430\u0448\u0438\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435"),t.k0s())}let va=(()=>{class n{constructor(e,i,o,s,u){this.route=e,this.fb=i,this.requestService=o,this.snackBar=s,this.router=u,this.requestId=0,this.translateAuto=[],this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this._destroy$=new w.B,this.requestFormTranslateRu=this.fb.group({departure_country_name:[,[]],departure_city_name:[,[]],departure_address:[,[]],departure_point_name:[,[]],arrival_country_name:[,[]],arrival_city_name:[,[]],arrival_address:[,[]],arrival_point_name:[,[]],incoterms_name:[,[]],incoterms_city_name:[,[]],departure_flight_name:[,[]],cargo_description:[,[]],cargo_type_name:[,[]],cargo_condition_carriage:[,[]],cargo_places_count:[,[]],cargo_places_volume:[,[]],cargo_places_weight:[,[]],cargo_places_density:[,[]],cargo_places_paid_weight:[,[]],cargo_dimensions:[,[]],comment:[,[]]}),this.requestFormTranslateNoRu=this.fb.group({departure_country_name:[,[]],departure_city_name:[,[]],departure_address:[,[]],departure_point_name:[,[]],arrival_country_name:[,[]],arrival_city_name:[,[]],arrival_address:[,[]],arrival_point_name:[,[]],incoterms_name:[,[]],incoterms_city_name:[,[]],departure_flight_name:[,[]],cargo_description:[,[]],cargo_type_name:[,[]],cargo_condition_carriage:[,[]],cargo_places_count:[,[]],cargo_places_volume:[,[]],cargo_places_weight:[,[]],cargo_places_density:[,[]],cargo_places_paid_weight:[,[]],cargo_dimensions:[,[]],comment:[,[]]})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}ngOnInit(){this.requestId=Number(this.route.snapshot.paramMap.get("id")),this.getRequestTraqnslate(this.requestId)}test(e){return this.translateAuto?.includes(e)}getRequestTraqnslate(e){this.requestService.requestTranslate({id:e}).pipe().subscribe({next:i=>{console.log("get",i),this.requestFormTranslateRu.patchValue(i.ru),this.requestFormTranslateNoRu.patchValue(i.en),this.translateAuto=i.translate_auto.en},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}updateRequestTraqnslate(){console.log("save",{id:this.requestId,ru:this.requestFormTranslateRu.value,en:this.requestFormTranslateNoRu.value}),this.requestService.requestTranslateSave({body:{id:this.requestId,ru:this.requestFormTranslateRu.value,en:this.requestFormTranslateNoRu.value}}).pipe().subscribe({next:()=>{this.snackBar.open("\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0438\u0437\u043c\u0435\u043d\u0435\u043d",void 0,this.snackBarWithShortDuration),this.send()},error:i=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)})}save(){this.updateRequestTraqnslate()}send(){this.router.navigate(["/pages/request/bidding",this.requestId],{queryParams:{translate:!0}})}remove(){window.location.reload()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(F.nX),t.rXU(a.ok),t.rXU(D.By),t.rXU(q.UG),t.rXU(F.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-request-editor-translate"]],decls:277,vars:6,consts:[[1,"edit-form","title"],[1,"edit-form"],[2,"display","flex"],[1,"w50","ru",3,"formGroup"],[1,"title","gr"],[1,"form-block"],[1,"form-row","bg"],[1,"form-block-title"],[1,"form-item-layout"],[1,"form-item"],[1,"form-label"],[1,"form-data"],["formControlName","departure_country_name","type","text","readonly",""],["formControlName","departure_city_name","type","text","readonly",""],["formControlName","departure_address","type","text","readonly",""],["formControlName","departure_point_name","type","text","readonly",""],["formControlName","arrival_country_name","type","text","readonly",""],["formControlName","arrival_city_name","type","text","readonly",""],["formControlName","arrival_address","type","text","readonly",""],["formControlName","arrival_point_name","type","text","readonly",""],["formControlName","departure_flight_name","type","text","readonly",""],["formControlName","incoterms_name","type","text","readonly",""],["formControlName","incoterms_city_name","type","text","readonly",""],["formControlName","cargo_description","type","text","readonly",""],["formControlName","cargo_type_name","type","text","readonly",""],["formControlName","cargo_condition_carriage","type","text","readonly","",2,"resize","none"],["formControlName","cargo_places_count","type","number","readonly",""],["formControlName","cargo_places_volume","type","number","readonly",""],["formControlName","cargo_places_weight","type","number","readonly",""],["formControlName","cargo_places_density","type","number","readonly",""],[1,"form-item",2,"min-width","130px"],["formControlName","cargo_places_paid_weight","type","number","readonly",""],["formControlName","cargo_dimensions","readonly",""],["formControlName","comment","readonly","","type","text"],[1,"w50","en",3,"formGroup"],[1,"title","bl"],[1,"form-row"],["formControlName","departure_country_name","type","text"],["formControlName","departure_city_name","type","text"],[4,"ngIf"],["formControlName","departure_address","type","text"],["formControlName","departure_point_name","type","text"],["formControlName","arrival_country_name","type","text"],["formControlName","arrival_city_name","type","text"],["formControlName","arrival_address","type","text"],["formControlName","arrival_point_name","type","text"],["formControlName","departure_flight_name","type","text"],["formControlName","incoterms_name","type","text"],["formControlName","incoterms_city_name","type","text"],["formControlName","cargo_description","type","text"],["formControlName","cargo_type_name","type","text"],["formControlName","cargo_condition_carriage","type","text",2,"resize","none"],["formControlName","cargo_dimensions",2,"resize","none"],["formControlName","comment","type","text"],[1,"hdr","ftr"],[1,"title"],[1,"fn"],[1,"btn","v","save",3,"click"],[1,"btn","v","cancel",3,"click"],[3,"click"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.EFF(1,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"),t.k0s(),t.j41(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4),t.EFF(6,"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b"),t.k0s(),t.j41(7,"div",5)(8,"div",6)(9,"div",7),t.EFF(10,"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),t.k0s(),t.j41(11,"div",8)(12,"div",9)(13,"div",10),t.EFF(14,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: "),t.k0s(),t.j41(15,"div",11),t.nrm(16,"input",12),t.k0s()(),t.j41(17,"div",9)(18,"div",10),t.EFF(19,"\u0413\u043e\u0440\u043e\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438: "),t.k0s(),t.j41(20,"div",11),t.nrm(21,"input",13),t.k0s()()(),t.j41(22,"div",8)(23,"div",9)(24,"div",10),t.EFF(25,"\u0410\u0434\u0440\u0435\u0441 \u0437\u0430\u0431\u043e\u0440\u0430 \u0433\u0440\u0443\u0437\u0430: "),t.k0s(),t.j41(26,"div",11),t.nrm(27,"input",14),t.k0s()()(),t.j41(28,"div",8)(29,"div",9)(30,"div",10),t.EFF(31,"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430: "),t.k0s(),t.j41(32,"div",11),t.nrm(33,"input",15),t.k0s()()(),t.j41(34,"div",8)(35,"div",9)(36,"div",10),t.EFF(37,"\u0421\u0442\u0440\u0430\u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: "),t.k0s(),t.j41(38,"div",11),t.nrm(39,"input",16),t.k0s()(),t.j41(40,"div",9)(41,"div",10),t.EFF(42,"\u0413\u043e\u0440\u043e\u0434 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: "),t.k0s(),t.j41(43,"div",11),t.nrm(44,"input",17),t.k0s()()(),t.j41(45,"div",8)(46,"div",9)(47,"div",10),t.EFF(48,"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: "),t.k0s(),t.j41(49,"div",11),t.nrm(50,"input",18),t.k0s()()(),t.j41(51,"div",8)(52,"div",9)(53,"div",10),t.EFF(54,"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f: "),t.k0s(),t.j41(55,"div",11),t.nrm(56,"input",19),t.k0s()(),t.j41(57,"div",9)(58,"div",10),t.EFF(59,"\u0422\u0438\u043f \u043f\u0435\u0440\u0435\u043b\u0435\u0442\u0430: "),t.k0s(),t.j41(60,"div",11),t.nrm(61,"input",20),t.k0s()()(),t.j41(62,"div",8)(63,"div",9)(64,"div",10),t.EFF(65,"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438: "),t.k0s(),t.j41(66,"div",11),t.nrm(67,"input",21),t.k0s()(),t.j41(68,"div",9)(69,"div",10),t.EFF(70,"\u0413\u041e\u0420\u041e\u0414 / \u041f\u041e\u0420\u0422 "),t.k0s(),t.j41(71,"div",11),t.nrm(72,"input",22),t.k0s()()()(),t.j41(73,"div",6)(74,"div",7),t.EFF(75,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u0437\u0430"),t.k0s(),t.j41(76,"div",8)(77,"div",9)(78,"div",10),t.EFF(79,"\u0422\u043e\u0432\u0430\u0440: "),t.k0s(),t.j41(80,"div",11),t.nrm(81,"input",23),t.k0s()()(),t.j41(82,"div",8)(83,"div",9)(84,"div",10),t.EFF(85,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430: "),t.k0s(),t.j41(86,"div",11),t.nrm(87,"input",24),t.k0s()()(),t.j41(88,"div",8)(89,"div",9)(90,"div",10),t.EFF(91,"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0438: "),t.k0s(),t.j41(92,"div",11),t.nrm(93,"textarea",25),t.k0s()()(),t.j41(94,"div",8)(95,"div",9)(96,"div",10),t.EFF(97,"\u041a\u043e\u043b-\u0432\u043e: "),t.k0s(),t.j41(98,"div",11),t.nrm(99,"input",26),t.k0s()(),t.j41(100,"div",9)(101,"div",10),t.EFF(102,"\u041e\u0431\u044a\u0435\u043c \u043c3: "),t.k0s(),t.j41(103,"div",11),t.nrm(104,"input",27),t.k0s()(),t.j41(105,"div",9)(106,"div",10),t.EFF(107,"\u0412\u0435\u0441, \u043a\u0433: "),t.k0s(),t.j41(108,"div",11),t.nrm(109,"input",28),t.k0s()(),t.j41(110,"div",9)(111,"div",10),t.EFF(112,"\u041f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c: "),t.k0s(),t.j41(113,"div",11),t.nrm(114,"input",29),t.k0s()(),t.j41(115,"div",30)(116,"div",10),t.EFF(117,"\u041e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0432\u0435\u0441, \u043a\u0433: "),t.k0s(),t.j41(118,"div",11),t.nrm(119,"input",31),t.k0s()()(),t.j41(120,"div",8)(121,"div",9)(122,"div",10),t.EFF(123,"\u0413\u0430\u0431\u0430\u0440\u0438\u0442\u044b: "),t.k0s(),t.j41(124,"div",11),t.nrm(125,"textarea",32),t.k0s()()()(),t.j41(126,"div",6)(127,"div",8)(128,"div",9)(129,"div",10),t.EFF(130,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: "),t.k0s(),t.j41(131,"div",11),t.nrm(132,"input",33),t.k0s()()()()()(),t.j41(133,"form",34)(134,"div",35),t.EFF(135,"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434"),t.k0s(),t.j41(136,"div",5)(137,"div",36)(138,"div",7),t.EFF(139,"Route"),t.k0s(),t.j41(140,"div",8)(141,"div",9)(142,"div",10),t.EFF(143,"Country of dispatch: "),t.k0s(),t.j41(144,"div",11),t.nrm(145,"input",37),t.k0s()(),t.j41(146,"div",9)(147,"div",10),t.EFF(148,"City of dispatch: "),t.k0s(),t.j41(149,"div",11),t.nrm(150,"input",38),t.k0s()()(),t.j41(151,"div",8)(152,"div",9)(153,"div",10),t.EFF(154,"Address of pick-up: "),t.DNE(155,ha,2,0,"span",39),t.k0s(),t.j41(156,"div",11),t.nrm(157,"input",40),t.k0s()()(),t.j41(158,"div",8)(159,"div",9)(160,"div",10),t.EFF(161,"Airport of departure: "),t.k0s(),t.j41(162,"div",11),t.nrm(163,"input",41),t.k0s()()(),t.j41(164,"div",8)(165,"div",9)(166,"div",10),t.EFF(167,"Country of delivery: "),t.k0s(),t.j41(168,"div",11),t.nrm(169,"input",42),t.k0s()(),t.j41(170,"div",9)(171,"div",10),t.EFF(172,"City of delivery: "),t.k0s(),t.j41(173,"div",11),t.nrm(174,"input",43),t.k0s()()(),t.j41(175,"div",8)(176,"div",9)(177,"div",10),t.EFF(178,"Address of delivery: "),t.DNE(179,ga,2,0,"span",39),t.k0s(),t.j41(180,"div",11),t.nrm(181,"input",44),t.k0s()()(),t.j41(182,"div",8)(183,"div",9)(184,"div",10),t.EFF(185,"Airport of destination: "),t.k0s(),t.j41(186,"div",11),t.nrm(187,"input",45),t.k0s()(),t.j41(188,"div",9)(189,"div",10),t.EFF(190,"Type of flights: "),t.k0s(),t.j41(191,"div",11),t.nrm(192,"input",46),t.k0s()()(),t.j41(193,"div",8)(194,"div",9)(195,"div",10),t.EFF(196,"Terms of delivery: "),t.k0s(),t.j41(197,"div",11),t.nrm(198,"input",47),t.k0s()(),t.j41(199,"div",9)(200,"div",10),t.EFF(201,"CITY / PORT"),t.k0s(),t.j41(202,"div",11),t.nrm(203,"input",48),t.k0s()()()(),t.j41(204,"div",36)(205,"div",7),t.EFF(206,"Cargo Description"),t.k0s(),t.j41(207,"div",8)(208,"div",9)(209,"div",10),t.EFF(210,"Commodity: "),t.DNE(211,fa,2,0,"span",39),t.k0s(),t.j41(212,"div",11),t.nrm(213,"input",49),t.k0s()()(),t.j41(214,"div",8)(215,"div",9)(216,"div",10),t.EFF(217,"Type of cargo: "),t.k0s(),t.j41(218,"div",11),t.nrm(219,"input",50),t.k0s()()(),t.j41(220,"div",8)(221,"div",9)(222,"div",10),t.EFF(223,"Condition of carriage: "),t.k0s(),t.j41(224,"div",11),t.nrm(225,"textarea",51),t.k0s()()(),t.j41(226,"div",8)(227,"div",9)(228,"div",10),t.EFF(229,"Total q-ty: "),t.k0s(),t.j41(230,"div",11),t.nrm(231,"input",26),t.k0s()(),t.j41(232,"div",9)(233,"div",10),t.EFF(234,"Total m2: "),t.k0s(),t.j41(235,"div",11),t.nrm(236,"input",27),t.k0s()(),t.j41(237,"div",9)(238,"div",10),t.EFF(239,"Total kg: "),t.k0s(),t.j41(240,"div",11),t.nrm(241,"input",28),t.k0s()(),t.j41(242,"div",9)(243,"div",10),t.EFF(244,"Density: "),t.k0s(),t.j41(245,"div",11),t.nrm(246,"input",29),t.k0s()(),t.j41(247,"div",30)(248,"div",10),t.EFF(249,"Chargeable weight, kg: "),t.k0s(),t.j41(250,"div",11),t.nrm(251,"input",31),t.k0s()()(),t.j41(252,"div",8)(253,"div",9)(254,"div",10),t.EFF(255,"Dimensions: "),t.k0s(),t.j41(256,"div",11),t.nrm(257,"textarea",52),t.k0s()()()(),t.j41(258,"div",36)(259,"div",8)(260,"div",9)(261,"div",10),t.EFF(262,"Notation: "),t.DNE(263,Ca,2,0,"span",39),t.k0s(),t.j41(264,"div",11),t.nrm(265,"input",53),t.k0s()()()()()()(),t.j41(266,"div",54),t.nrm(267,"div",55),t.j41(268,"div",56)(269,"button",57),t.bIt("click",function(){return o.save()}),t.j41(270,"span"),t.EFF(271,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s()(),t.j41(272,"button",58),t.bIt("click",function(){return o.remove()}),t.j41(273,"span"),t.EFF(274,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s()(),t.j41(275,"div",59),t.bIt("click",function(){return o.send()}),t.EFF(276,"send"),t.k0s()()()()),2&i&&(t.R7$(4),t.Y8G("formGroup",o.requestFormTranslateRu),t.R7$(129),t.Y8G("formGroup",o.requestFormTranslateNoRu),t.R7$(22),t.Y8G("ngIf",o.test("departure_address")),t.R7$(24),t.Y8G("ngIf",o.test("arrival_address")),t.R7$(32),t.Y8G("ngIf",o.test("cargo_description")),t.R7$(52),t.Y8G("ngIf",o.test("comment")))},dependencies:[d.bT,a.qT,a.me,a.Q0,a.BC,a.cb,a.j4,a.JD],styles:["input[type=number]{-moz-appearance:textfield}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.w50{width:50%}.form-block-title{padding-top:0}.edit-form .form-item{flex-grow:1}.edit-form.title{margin:20px auto;color:#000;font-size:28px;line-height:29px;font-weight:900}.edit-form .title{height:70px;display:flex;align-items:center;color:#fff;padding-left:40px;font-size:22px;line-height:23px}.gr{background-color:#c3ccd6}.bl{background-color:#4b66ad}.form-block{border:none}.ru .form-block{border:4px solid #C3CCD6;border-top:none;border-right:none}.en .form-block{border:4px solid #4B66AD;border-top:none}button{border:none}.btn.v.go:before{background-image:url(pic-btn-send-white.a5378a66c5bf940b.svg)}.form-block textarea{padding:11px 6px 9px;text-wrap:nowrap}textarea::-webkit-scrollbar{width:0px;height:0px}\n"],encapsulation:2})}}return n})();var ka=m(6404);function ba(n,r){if(1&n&&(t.j41(0,"div",14)(1,"div",15),t.EFF(2,"\u0414\u0440\u0443\u0433\u0438\u0435"),t.k0s(),t.j41(3,"div",16),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.SpI("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e ",null==e.rate||null==e.rate.values?null:e.rate.values.length," \u0443\u0441\u043b\u0443\u0433\u0438")}}function Fa(n,r){if(1&n&&(t.j41(0,"div",11)(1,"div",12),t.EFF(2),t.k0s(),t.DNE(3,ba,5,1,"div",13),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.JRh(null==e.rate?null:e.rate.total_cost_text),t.R7$(1),t.Y8G("ngIf","other"==e.detailsMethod)}}function Ea(n,r){if(1&n&&(t.j41(0,"div",12),t.EFF(1,"\u0414\u043e \u0433\u0440\u0430\u043d\u0438\u0446\u044b: "),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",null==e.rate?null:e.rate.total_cost_text,"")}}function Ra(n,r){if(1&n&&(t.j41(0,"div",12),t.EFF(1,"\u0421\u043a\u043b\u0430\u0434 (\u0421\u0412\u0425): "),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",null==e.rate?null:e.rate.total_cost_text,"")}}function ya(n,r){if(1&n&&(t.j41(0,"div",12),t.EFF(1,"\u0412\u044b\u0432\u043e\u0437: "),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",null==e.rate?null:e.rate.total_cost_text,"")}}function xa(n,r){if(1&n&&(t.j41(0,"div",12),t.EFF(1,"\u0414\u0440\u0443\u0433\u0438\u0435: "),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",null==e.rate?null:e.rate.total_cost_text,"")}}function Da(n,r){if(1&n&&(t.j41(0,"div",17),t.DNE(1,Ea,4,1,"div",18),t.DNE(2,Ra,4,1,"div",18),t.DNE(3,ya,4,1,"div",18),t.DNE(4,xa,4,1,"div",18),t.j41(5,"div",19),t.EFF(6),t.j41(7,"span"),t.EFF(8," \u043e\u0442 \u0438\u0442\u043e\u0433\u043e\u0432\u043e\u0439 \u0441\u0442\u0430\u0432\u043a\u0438"),t.k0s()()()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf","customs"===e.detailsMethod),t.R7$(1),t.Y8G("ngIf","point"===e.detailsMethod),t.R7$(1),t.Y8G("ngIf","transporter"===e.detailsMethod),t.R7$(1),t.Y8G("ngIf","other"===e.detailsMethod),t.R7$(2),t.SpI("",null==e.rate?null:e.rate.cost_percent_of_total,"% ")}}function ja(n,r){1&n&&t.nrm(0,"div",41)}function wa(n,r){1&n&&t.nrm(0,"div",42)}const bt=function(){return[]};function Ma(n,r){if(1&n&&(t.j41(0,"div",38),t.DNE(1,ja,1,0,"div",39),t.DNE(2,wa,1,0,"div",40),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",t.lJ4(2,bt).constructor(null==e.rate||null==e.rate.contractor?null:e.rate.contractor.rating_nps)),t.R7$(1),t.Y8G("ngForOf",t.lJ4(3,bt).constructor(10-e.rate.contractor.rating_nps))}}function Ta(n,r){1&n&&t.nrm(0,"div",42)}function Ga(n,r){1&n&&(t.j41(0,"div",38),t.DNE(1,Ta,1,0,"div",40),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngForOf",t.lJ4(1,bt).constructor(10)))}function $a(n,r){if(1&n&&(t.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23),t.EFF(4,"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a:"),t.k0s(),t.j41(5,"div"),t.EFF(6),t.k0s(),t.j41(7,"a",24),t.EFF(8,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 >"),t.k0s()(),t.j41(9,"div",25),t.nrm(10,"div",26)(11,"div",27)(12,"div",28),t.k0s()(),t.j41(13,"div",29)(14,"div",30)(15,"div",23),t.EFF(16,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435:"),t.k0s(),t.DNE(17,Ma,3,4,"div",31),t.DNE(18,Ga,2,2,"div",31),t.j41(19,"div"),t.EFF(20),t.k0s()(),t.j41(21,"div",32)(22,"div",23),t.EFF(23,"% \u0432\u044b\u0438\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0442\u043e\u0440\u0433\u043e\u0432:"),t.k0s(),t.j41(24,"div",33)(25,"div",34),t.nrm(26,"span",35),t.EFF(27),t.k0s(),t.j41(28,"div",36),t.nrm(29,"span",37),t.EFF(30),t.k0s()()()()()),2&n){const e=t.XpG();t.R7$(6),t.JRh(null==e.rate.contractor?null:e.rate.contractor.name),t.R7$(1),t.Y8G("href","#/pages/contractor/edit/"+(null!=e.rate.contractor&&e.rate.contractor.id?e.rate.contractor.id:e.rate.contractor_id),t.B4B),t.R7$(10),t.Y8G("ngIf",e.rate.contractor.rating_nps),t.R7$(1),t.Y8G("ngIf",!e.rate.contractor.rating_nps),t.R7$(2),t.SpI("",e.rate.contractor.rating_nps?e.rate.contractor.rating_nps:0,"/10 NPS"),t.R7$(7),t.JRh(null==e.rate||null==e.rate.contractor?null:e.rate.contractor.trade_fail_percent),t.R7$(3),t.JRh(null==e.rate||null==e.rate.contractor?null:e.rate.contractor.trade_success_percent)}}function Oa(n,r){if(1&n&&(t.j41(0,"div",48),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.JRh(e.rate.point.svh_address)}}function Ba(n,r){if(1&n&&(t.j41(0,"div",43)(1,"div",23),t.EFF(2,"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442:"),t.k0s(),t.j41(3,"div",44),t.EFF(4),t.nrm(5,"a",45)(6,"button",46),t.k0s(),t.DNE(7,Oa,2,1,"div",47),t.k0s()),2&n){const e=t.XpG();t.R7$(4),t.SpI(" ",null==e.rate||null==e.rate.point?null:e.rate.point.name," "),t.R7$(1),t.Mz_("href","https://www.google.com/maps/search/?api=1&query=",e.rate.point.name,",",t.B4B),t.R7$(2),t.Y8G("ngIf",e.rate.point.svh_address)}}function Ia(n,r){if(1&n&&(t.j41(0,"div",21)(1,"div",22)(2,"div",23),t.EFF(3,"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a:"),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s(),t.j41(6,"a",24),t.EFF(7,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 >"),t.k0s()(),t.j41(8,"div",25),t.nrm(9,"div",26)(10,"div",27)(11,"div",28),t.k0s()()),2&n){const e=r.$implicit;t.R7$(5),t.JRh(null==e.contractor?null:e.contractor.name),t.R7$(1),t.Y8G("href","#/pages/contractor/edit/"+(null!=e.contractor&&e.contractor.id?e.contractor.id:e.contractor_id),t.B4B)}}function Sa(n,r){if(1&n&&(t.j41(0,"div",49),t.DNE(1,Ia,12,2,"div",50),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",null==e.rate?null:e.rate.values)}}function qa(n,r){1&n&&t.eu8(0)}const Pa=function(n,r,e){return{label:n,data:r,isFullWidth:e}};function Na(n,r){if(1&n&&(t.qex(0),t.DNE(1,qa,1,0,"ng-container",55),t.bVm()),2&n){const e=r.$implicit;t.XpG(2);const i=t.sdS(16);t.R7$(1),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.sMw(2,Pa,e.name,e.value,e.wide_row))}}function Va(n,r){if(1&n&&(t.j41(0,"div",51)(1,"div",52),t.EFF(2,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0441\u0442\u0430\u0432\u043a\u0435"),t.k0s(),t.j41(3,"div",53),t.DNE(4,Na,2,6,"ng-container",54),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("ngForOf",e.rate.summary_data)}}function Ya(n,r){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(1),t.JRh(e.cost_text)}}function Aa(n,r){if(1&n&&(t.j41(0,"div",23),t.EFF(1),t.DNE(2,Ya,2,1,"span",62),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI("",e.select?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e:":"\u041d\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e"," "),t.R7$(1),t.Y8G("ngIf",e.select)}}function La(n,r){if(1&n&&(t.j41(0,"div",58)(1,"div",59),t.nrm(2,"span",60),t.EFF(3),t.k0s(),t.DNE(4,Aa,3,2,"div",61),t.k0s()),2&n){const e=r.$implicit,i=t.XpG(2);t.Y8G("ngClass",e.select?"on":"off"),t.R7$(3),t.JRh(e.name),t.R7$(1),t.Y8G("ngIf","nodetail"!==i.rate.rate_type)}}function Xa(n,r){if(1&n&&(t.j41(0,"div",52),t.EFF(1,"\u0412 \u0441\u0442\u0430\u0432\u043a\u0443 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e "),t.j41(2,"span"),t.EFF(3,"/ \u043d\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e"),t.k0s()(),t.j41(4,"div",56),t.DNE(5,La,5,3,"div",57),t.k0s()),2&n){const e=t.XpG();t.R7$(5),t.Y8G("ngForOf",null==e.rate?null:e.rate.values)}}function Ha(n,r){if(1&n&&(t.j41(0,"div",67)(1,"div"),t.EFF(2),t.k0s(),t.j41(3,"div",64),t.EFF(4),t.k0s(),t.j41(5,"div"),t.EFF(6),t.k0s(),t.j41(7,"div",65),t.EFF(8),t.k0s(),t.j41(9,"div"),t.EFF(10),t.k0s()()),2&n){const e=r.$implicit;t.R7$(2),t.JRh(e.kind.name),t.R7$(2),t.Lme("",e.arrival_city.name,"-",e.departure_city.name,""),t.R7$(2),t.Lme("",e.days_min,"-",e.days_max,""),t.R7$(2),t.JRh(null==e?null:e.comment),t.R7$(2),t.JRh(e.amount)}}function Ua(n,r){if(1&n&&(t.j41(0,"div",52),t.EFF(1,"\u0412 \u0441\u0442\u0430\u0432\u043a\u0443 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e"),t.k0s(),t.j41(2,"div",63)(3,"div"),t.EFF(4,"\u0422\u0438\u043f \u0422\u0421"),t.k0s(),t.j41(5,"div",64),t.EFF(6,"\u041c\u0430\u0440\u0448\u0440\u0443\u0442"),t.k0s(),t.j41(7,"div"),t.EFF(8,"\u0421\u0440\u043e\u043a, \u0434\u043d."),t.k0s(),t.j41(9,"div",65),t.EFF(10,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),t.k0s(),t.j41(11,"div"),t.EFF(12,"\u0421\u0442\u0430\u0432\u043a\u0430, \u0440\u0443\u0431."),t.k0s()(),t.DNE(13,Ha,11,7,"div",66)),2&n){const e=t.XpG();t.R7$(13),t.Y8G("ngForOf",null==e.rate?null:e.rate.values)}}function Wa(n,r){if(1&n&&(t.j41(0,"div",72),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(1),t.SpI(" ",e," ")}}function za(n,r){if(1&n&&(t.j41(0,"tr")(1,"td")(2,"div",70)(3,"div",72),t.EFF(4),t.k0s(),t.j41(5,"div",72),t.EFF(6),t.k0s(),t.j41(7,"div",72),t.EFF(8),t.k0s(),t.j41(9,"div",72),t.EFF(10),t.k0s(),t.j41(11,"div",72),t.EFF(12),t.k0s(),t.j41(13,"div",72),t.EFF(14),t.k0s(),t.j41(15,"div",72),t.EFF(16),t.k0s(),t.j41(17,"div",72),t.EFF(18),t.k0s()()()()),2&n){const e=r.$implicit;t.R7$(4),t.SpI(" ",e.name," "),t.R7$(2),t.SpI(" ",e.contractor.name," "),t.R7$(2),t.SpI(" ",e.city_name," "),t.R7$(2),t.SpI(" ",e.point_action," "),t.R7$(2),t.SpI(" ",e.price_text," "),t.R7$(2),t.SpI(" ",e.count_text," "),t.R7$(2),t.SpI(" ",e.cost_text," "),t.R7$(2),t.SpI(" ",e.comment," ")}}const Za=function(){return["\u041d\u0430\u0438\u043c\u0435\u043d\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438","\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a","\u0413\u043e\u0440\u043e\u0434","\u0412\u0438\u0434 \u043f\u0440\u0430\u0439\u0441\u0430","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c","\u0415\u0434.\u0418\u0437\u043c.","\u0418\u0442\u043e\u0433\u043e","\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"]};function Ka(n,r){if(1&n&&(t.j41(0,"div",52),t.EFF(1,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u0443\u0441\u043b\u0443\u0433\u0430\u043c"),t.k0s(),t.j41(2,"div",68)(3,"table",69)(4,"thead")(5,"tr")(6,"th")(7,"div",70),t.DNE(8,Wa,2,1,"div",71),t.k0s()()()(),t.j41(9,"tbody"),t.DNE(10,za,19,8,"tr",54),t.k0s()()()),2&n){const e=t.XpG();t.R7$(8),t.Y8G("ngForOf",t.lJ4(2,Za)),t.R7$(2),t.Y8G("ngForOf",e.rate.values)}}function Ja(n,r){if(1&n&&(t.j41(0,"div",73)(1,"div",74)(2,"div",23)(3,"span",75),t.EFF(4,"i"),t.k0s(),t.EFF(5,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: "),t.k0s(),t.j41(6,"div",76),t.EFF(7),t.k0s()()()),2&n){const e=t.XpG();t.R7$(7),t.JRh(null==e.rate?null:e.rate.comment)}}function Qa(n,r){if(1&n&&(t.j41(0,"div")(1,"div",23),t.EFF(2),t.k0s(),t.j41(3,"div"),t.EFF(4),t.k0s()()),2&n){const e=r.label,i=r.data;t.HbH(r.isFullWidth?"item w100":"item "),t.R7$(2),t.JRh(e),t.R7$(2),t.JRh(i)}}const tu=[[["","test2",""]]],eu=["[test2]"];let nu=(()=>{class n{constructor(e){this.sanitizer=e}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(St.up))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-rate-info-row"]],inputs:{rate:"rate",detailsMethod:"detailsMethod",costClass:"costClass",percent:"percent"},ngContentSelectors:eu,decls:17,vars:12,consts:[[1,"example-element-block"],[1,"first_row"],[1,"first_col",3,"ngSwitch"],["class","cost_block",4,"ngIf"],["class","cost_block_black","style","min-width: 25%;",4,"ngIf"],[3,"ngSwitchDefault"],[3,"ngSwitchCase"],["class","second_col",4,"ngIf"],[1,"third_col",3,"ngSwitch"],["class","second_row",4,"ngIf"],["rateDataItem",""],[1,"cost_block"],[1,"cost"],["style","color: #2C3640;",4,"ngIf"],[2,"color","#2C3640"],[2,"font-weight","700","font-size","22px","line-height","26px"],[2,"margin-top","10px","font-weight","400","font-size","13px","line-height","12px"],[1,"cost_block_black",2,"min-width","25%"],["class","cost",4,"ngIf"],[1,"percent"],[1,"contractor_block"],[2,"display","flex","justify-content","space-between"],[1,"agent_block"],[1,"label"],["target","_blank",1,"detailed",3,"href"],[1,"link_block"],[1,"pic","msg"],[1,"pic","phone"],[1,"pic","mail"],[2,"display","flex","justify-content","space-between","margin-top","40px"],[1,"rating_block"],["class","stars",4,"ngIf"],[1,"pct_block"],[1,"flags"],[1,"red"],[1,"red_flag"],[1,"green"],[1,"green_flag"],[1,"stars"],["class","star_sel",4,"ngFor","ngForOf"],["class","star_no-sel",4,"ngFor","ngForOf"],[1,"star_sel"],[1,"star_no-sel"],[1,"airport_block"],[1,"data"],["title","Open dispatch address in Google maps","target","_blank",1,"btn-map-blue",3,"href"],[1,"btn-globe-blue"],["class","details",4,"ngIf"],[1,"details"],[1,"contractor_block",2,"gap","30px","display","flex","flex-direction","column"],["style","display: flex; justify-content: space-between;",4,"ngFor","ngForOf"],[1,"second_col"],[1,"title"],[1,"items"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"charges"],["class","charge",3,"ngClass",4,"ngFor","ngForOf"],[1,"charge",3,"ngClass"],[1,"name"],[1,"pic"],["class","label",4,"ngIf"],[4,"ngIf"],[1,"paths","head"],[2,"flex-grow","1"],[2,"flex-grow","2"],["class","paths",4,"ngFor","ngForOf"],[1,"paths"],[1,"table-list","no-resize","charges-block",2,"display","flex"],[1,"other_charges",2,"border-collapse","collapse"],[1,"td-block"],["class","column",4,"ngFor","ngForOf"],[1,"column"],[1,"second_row"],[1,"comment_block"],[1,"pic-i-grey"],[1,"comment"]],template:function(i,o){1&i&&(t.NAR(tu),t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,Fa,4,2,"div",3),t.DNE(4,Da,9,5,"div",4),t.DNE(5,$a,31,7,"ng-template",5),t.DNE(6,Ba,8,3,"ng-template",6),t.DNE(7,Sa,2,1,"ng-template",6),t.k0s(),t.DNE(8,Va,5,1,"div",7),t.j41(9,"div",8),t.DNE(10,Xa,6,1,"ng-template",5),t.DNE(11,Ua,14,1,"ng-template",6),t.DNE(12,Ka,11,3,"ng-template",6),t.SdG(13),t.k0s()(),t.DNE(14,Ja,8,1,"div",9),t.k0s(),t.DNE(15,Qa,5,4,"ng-template",null,10,t.C5r)),2&i&&(t.R7$(2),t.Y8G("ngSwitch",o.detailsMethod),t.R7$(1),t.Y8G("ngIf",!o.costClass),t.R7$(1),t.Y8G("ngIf",o.costClass),t.R7$(2),t.Y8G("ngSwitchCase","point"),t.R7$(1),t.Y8G("ngSwitchCase","other"),t.R7$(1),t.Y8G("ngIf","other"!=o.detailsMethod),t.R7$(1),t.Aen("other"==o.detailsMethod?"width:80%":""),t.Y8G("ngSwitch",o.detailsMethod),t.R7$(2),t.Y8G("ngSwitchCase","transporter"),t.R7$(1),t.Y8G("ngSwitchCase","other"),t.R7$(2),t.Y8G("ngIf",o.rate.comment))},dependencies:[d.YU,d.Sq,d.bT,d.T3,d.ux,d.e1,d.fG],styles:[".example-element-block[_ngcontent-%COMP%]{background-color:#fff;width:100%;border:#E0E5EB 1px solid;display:flex;flex-direction:column;color:#2c3640;position:relative}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]{display:flex}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:22px;margin-bottom:40px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#606a74}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]{font-weight:700;font-size:22px;line-height:26px;width:25%;border-right:#E0E5EB 1px solid}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .cost_block[_ngcontent-%COMP%]{border-bottom:#E0E5EB 1px solid;padding:40px;color:#db563b}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .cost_block[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{font-size:48px;font-weight:700;line-height:48px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .cost_block_black[_ngcontent-%COMP%]{border-bottom:#E0E5EB 1px solid;padding:40px;background-color:#83909e;color:#fff}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .cost_block_black[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{font-size:32px;font-weight:400;line-height:32px;text-align:left}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .cost_block_black[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .cost_block_black[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{margin-top:15px;font-size:13px;font-weight:700;line-height:12px;text-align:left}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .cost_block_black[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]{padding:40px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .agent_block[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{margin-top:10px;color:#db563b;font-weight:400;font-size:13px;line-height:12px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .link_block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .link_block[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]{width:16px;height:16px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .link_block[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{background-image:url(pic-card-mail.a659bf6a031326a8.svg)}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .link_block[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{background-image:url(pic-card-msg.13cad8fc95bf32b8.svg)}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .link_block[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{background-image:url(pic-card-phone.9d4e31c8bb8d3dae.svg)}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .rating_block[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;gap:2px;margin-bottom:10px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .rating_block[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .star_sel[_ngcontent-%COMP%]{display:flex;background-image:url(pic-star-sel.e885716b82161629.svg);background-position:center;width:14px;height:14px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .rating_block[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .star_no-sel[_ngcontent-%COMP%]{display:flex;background-image:url(pic-star.1840074b1b770e08.svg);background-position:center;width:14px;height:14px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .pct_block[_ngcontent-%COMP%]   .flags[_ngcontent-%COMP%]{display:flex;gap:18px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .pct_block[_ngcontent-%COMP%]   .flags[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{color:#fd7171}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .pct_block[_ngcontent-%COMP%]   .flags[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#81dd7c}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .pct_block[_ngcontent-%COMP%]   .flags[_ngcontent-%COMP%]   .red_flag[_ngcontent-%COMP%]{display:flex;background-image:url(pic-flag-minus.f97def3e89268c49.svg);background-position:center;width:20px;height:21px;margin-bottom:10px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .contractor_block[_ngcontent-%COMP%]   .pct_block[_ngcontent-%COMP%]   .flags[_ngcontent-%COMP%]   .green_flag[_ngcontent-%COMP%]{display:block;background-image:url(pic-flag-plus.062ad5b9b3ce1629.svg);background-position:center;width:20px;height:21px;margin-bottom:10px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .airport_block[_ngcontent-%COMP%]{padding:40px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .airport_block[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:12px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .airport_block[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;font-size:15px;font-weight:700;line-height:14px;margin-bottom:20px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .first_col[_ngcontent-%COMP%]   .airport_block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:18px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .second_col[_ngcontent-%COMP%]{width:25%;padding:40px;border-right:#E0E5EB 1px solid;font-size:15px;font-weight:700;line-height:14px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .second_col[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;row-gap:20px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .second_col[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item.w100[_ngcontent-%COMP%]{width:100%}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .second_col[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:50%}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .second_col[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:last-child{margin-bottom:0}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]{width:50%;padding:40px;font-size:15px;font-weight:400;line-height:14px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .paths[_ngcontent-%COMP%]{display:flex;font-size:15px;font-weight:700;line-height:14px;margin-bottom:20px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .paths[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:10%}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .paths.head[_ngcontent-%COMP%]{color:#606a74;font-size:13px;line-height:12px;font-weight:400;margin-bottom:10px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;max-height:270px;gap:20px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .charge[_ngcontent-%COMP%]{width:50%}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .charge[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:10px 0 0}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#4b66ad;width:-moz-fit-content;width:fit-content}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]{margin-right:10px;display:block;width:12px;height:12px}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .charge.on[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]{background-image:url(pic-tick-in-ring.f613299be65ee3e6.svg)}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .charge.off[_ngcontent-%COMP%]{color:#606a74}.example-element-block[_ngcontent-%COMP%]   .first_row[_ngcontent-%COMP%]   .third_col[_ngcontent-%COMP%]   .charges[_ngcontent-%COMP%]   .charge.off[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]{background-image:url(pic-cross-in-ring.751a3fe84f473b97.svg)}.example-element-block[_ngcontent-%COMP%]   .second_row[_ngcontent-%COMP%]{border-top:#E0E5EB 1px solid;padding:40px}.example-element-block[_ngcontent-%COMP%]   .second_row[_ngcontent-%COMP%]   .comment_block[_ngcontent-%COMP%]{height:50px;width:100%}.example-element-block[_ngcontent-%COMP%]   .second_row[_ngcontent-%COMP%]   .comment_block[_ngcontent-%COMP%]   .pic-i-grey[_ngcontent-%COMP%]{display:flex;width:12px;height:12px;border-radius:50%;color:#fff;background-color:#83909e;font-size:10px;font-weight:700;line-height:10px;text-align:center;justify-content:center;align-items:center;margin-right:5px}.example-element-block[_ngcontent-%COMP%]   .second_row[_ngcontent-%COMP%]   .comment_block[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;align-content:baseline;flex-wrap:wrap;line-height:normal}.example-element-block[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#606a74;font-size:13px;line-height:12px;font-weight:400;margin-bottom:10px}table.other_charges[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:10%}"]})}}return n})();function iu(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",30),t.bIt("onSelectionChange",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.onContratorChange(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(1),t.JRh(e.name)}}function ou(n,r){1&n&&t.eu8(0)}function ru(n,r){1&n&&t.eu8(0)}function su(n,r){if(1&n&&(t.j41(0,"mat-option",31),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function au(n,r){if(1&n){const e=t.RV6();t.j41(0,"span",46)(1,"input",47),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG(4).$implicit,s=t.XpG();return t.Njj(s.calckChargeCost(o))}),t.k0s(),t.EFF(2),t.k0s()}if(2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.SpI("$/",e.unit," ")}}function uu(n,r){1&n&&t.nrm(0,"div",48)}function cu(n,r){if(1&n){const e=t.RV6();t.j41(0,"span",49)(1,"input",50),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG(4).$implicit,s=t.XpG();return t.Njj(s.calckChargeCost(o))}),t.k0s(),t.EFF(2),t.k0s()}if(2&n){const e=t.XpG(2).$implicit;t.R7$(1),t.Y8G("readonly","kg"===e.unit),t.R7$(1),t.SpI("",e.unit," ")}}function lu(n,r){1&n&&(t.j41(0,"div",51),t.EFF(1,"\u2550"),t.k0s())}function du(n,r){1&n&&(t.j41(0,"span",52),t.nrm(1,"input",23),t.k0s())}function _u(n,r){if(1&n){const e=t.RV6();t.j41(0,"label")(1,"input",38),t.bIt("change",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.calckRateCost())}),t.k0s(),t.nrm(2,"i"),t.EFF(3),t.k0s(),t.DNE(4,au,3,1,"span",39),t.DNE(5,uu,1,0,"div",40),t.DNE(6,cu,3,2,"span",41),t.DNE(7,lu,2,0,"div",42),t.DNE(8,du,2,0,"span",43),t.j41(9,"span",44)(10,"input",45),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG(2).$implicit,u=t.XpG();return t.Njj(o.field_comment?u.calckCommentChargePrice(s):u.calckRateCost())}),t.k0s(),t.EFF(11,"$ "),t.k0s()}if(2&n){const e=t.XpG().$implicit;t.R7$(3),t.SpI(" ",e.title," "),t.R7$(1),t.Y8G("ngIf",!e.field_comment),t.R7$(1),t.Y8G("ngIf",!e.field_comment),t.R7$(1),t.Y8G("ngIf",!e.field_comment),t.R7$(1),t.Y8G("ngIf",!e.field_comment),t.R7$(1),t.Y8G("ngIf",e.field_comment),t.R7$(2),t.Y8G("readonly",!e.field_comment)}}function pu(n,r){1&n&&t.DNE(0,_u,12,7,"ng-template",37),2&n&&t.Y8G("ngSwitchCase",r.$implicit.field_name)}function mu(n,r){if(1&n&&(t.j41(0,"div",35),t.DNE(1,pu,1,1,null,36),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.chargesShema)}}function hu(n,r){if(1&n&&(t.j41(0,"div",32)(1,"div",33),t.DNE(2,mu,2,1,"div",34),t.k0s()()),2&n){const e=r.$implicit,i=r.index;t.R7$(1),t.Y8G("formGroupName",i)("ngSwitch",e.value.field),t.R7$(1),t.Y8G("ngIf",e.value.select)}}function gu(n,r){if(1&n){const e=t.RV6();t.j41(0,"label",53)(1,"input",38),t.bIt("change",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.calckRateCost())}),t.k0s(),t.nrm(2,"i"),t.EFF(3),t.k0s()}if(2&n){const e=t.XpG().$implicit;t.R7$(3),t.SpI(" ",e.title," ")}}function fu(n,r){1&n&&t.DNE(0,gu,4,1,"ng-template",37),2&n&&t.Y8G("ngSwitchCase",r.$implicit.field_name)}function Cu(n,r){if(1&n&&(t.j41(0,"div",35),t.DNE(1,fu,1,1,null,36),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.chargesShema)}}function vu(n,r){if(1&n&&(t.j41(0,"div",32)(1,"div",33),t.DNE(2,Cu,2,1,"div",34),t.k0s()()),2&n){const e=r.$implicit,i=r.index;t.R7$(1),t.Y8G("formGroupName",i)("ngSwitch",e.value.field),t.R7$(1),t.Y8G("ngIf",!e.value.select)}}function ku(n,r){if(1&n&&(t.j41(0,"mat-option",31),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function bu(n,r){if(1&n&&(t.j41(0,"div",54)(1,"div",5),t.EFF(2),t.k0s(),t.j41(3,"div",6)(4,"mat-form-field",14)(5,"mat-select",55),t.DNE(6,ku,2,2,"mat-option",16),t.k0s()()()()),2&n){const e=r.label,i=r.control,o=r.data,s=t.XpG();t.Y8G("formGroup",s.rateForm),t.R7$(2),t.JRh(e),t.R7$(3),t.Y8G("formControlName",i),t.R7$(1),t.Y8G("ngForOf",o)}}const Fu=function(n){return{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430:",control:"point_id",data:n}},Eu=function(n){return{label:"\u0412\u0438\u0434 \u043f\u0440\u0430\u0439\u0441\u0430:",control:"point_action_id",data:n}};let Ru=(()=>{class n{constructor(e,i,o,s,u,l,x,I){this.fb=e,this.transportService=i,this.snackBar=o,this.dialog=s,this.contractorService=u,this.requestService=l,this.directionService=x,this.systemService=I,this.closeDialog=new t.bkB,this.currencyList=[],this._destroy$=new w.B,this.contractorList=[],this.pointList=[],this.pointActionList=[],this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this.rateForm=this.fb.group({id:[,[]],cost:[,[]],request_id:[,[]],contractor_id:[,[]],contractor_name:["",[]],point_id:[,[]],point_action_id:[,[]],comment:[,[]],currency:[0,[]],values:e.array([],[])})}ngOnInit(){this.getChargesShema(),this.getContractor(),this.getArrivalPoinst(),this.getPointAction(),this.getCurrency(),this.rateForm.patchValue({request_id:this.requestId})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}setContractorName(e){const i=this.contractorList.find(o=>o.id===e);this.rateForm.patchValue({contractor_name:i?i.name:""})}onContratorChange(e){this.rateForm.patchValue({contractor_id:e.id})}filterContractor(){return this.contractorList.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(this.rateForm.value.contractor_name.toLowerCase().replaceAll(" ","")))}onCancelBtnClick(){this.closeForm()}closeForm(){this.closeDialog.emit()}get charges(){return this.rateForm.get("values")}calckChargeCost(e){e.patchValue({cost:e.value.price*e.value.value}),this.calckRateCost()}calckRateCost(){let e=0;this.rateForm.value.values.forEach(i=>{i.select&&(e+=i.cost)}),this.rateForm.patchValue({cost:e})}calckCommentChargePrice(e){e.patchValue({price:e.value.cost/1}),this.calckRateCost()}getContractor(){this.contractorService.contractorList().pipe((0,g.M)(e=>{if(console.log(e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.contractorList=e.items,this.rate&&this.setContractorName(this.rate.contractor_id)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getArrivalPoinst(){this.directionService.directionPoint({city_id:this.cityId,transport_kind_id:this.transportKindId}).pipe((0,g.M)(e=>{if(console.log("getArrivalPoinst",e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.pointList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getPointAction(){this.transportService.transportPointAction({direction:"arrival"}).pipe((0,g.M)(e=>{if(console.log("getArrivalPoinst",e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.pointActionList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}rateSave(){console.log(this.rateForm.value),this.requestService.requestRatePointSave({body:this.rateForm.value}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.closeForm(),this.snackBar.open(this.rate?"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430":"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open(this.rate?"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:"+e.error.error_message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:",void 0,this.snackBarWithShortDuration)}})}getChargesShema(){this.requestService.requestRateFormParam({request_id:this.requestId,method:"point"}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.chargesShema=e.charges,this.currencyShema=e.currency,this.chargesShema.forEach(i=>{this.charges.push(this.fb.group({comment:[,[]],cost:[,[]],field:[i.field_name,[]],fix:[,[]],min:[,[]],price:[,[]],select:[i.checked,[]],value:["kg"===i.unit?Math.ceil(this.weight):1,[]]})),this.rateForm.markAsTouched()}),this.rate&&(console.log("this edit mode",this.rate),this.rateForm.patchValue(this.rate))},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0445\u0435\u043c\u044b:"+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getCurrency(){this.systemService.systemCurrency().pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.currencyList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(a.ok),t.rXU(D.TD),t.rXU(q.UG),t.rXU(E.bZ),t.rXU(D.LX),t.rXU(D.By),t.rXU(D.H7),t.rXU(D.V9))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-rate-add-point"]],inputs:{weight:"weight",requestId:"requestId",transportKindId:"transportKindId",cityId:"cityId",rate:"rate"},outputs:{closeDialog:"closeDialog"},decls:53,vars:15,consts:[[1,"edit-form",3,"formGroup"],[1,"form-block"],[1,"form-row"],[1,"form-item-layout"],[1,"form-item"],[1,"form-label"],[1,"form-data"],["type","text","readonly","",3,"value"],["type","text","formControlName","contractor_name",3,"matAutocomplete"],["autoActiveFirstOption",""],["contractor","matAutocomplete"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-item",2,"width","100px"],["appearance","outline",1,"ui-select"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],[1,"charges-block",2,"display","flex"],[1,"charge_on"],["formArrayName","values","class","w100",4,"ngFor","ngForOf"],[1,"charge_off"],[1,"form-item",2,"margin-bottom","20px","width","100px"],["type","number","formControlName","cost","readonly",""],["type","text","formControlName","comment"],[2,"display","flex","justify-content","end","gap","10px"],[1,"btn-close-dialog",3,"click"],[1,"icon-btn-close-dialog"],["type","submit",1,"btn-save-rates",3,"click"],[1,"icon-btn-save-rates"],["formItemSelector",""],[3,"value","onSelectionChange"],[3,"value"],["formArrayName","values",1,"w100"],[1,"w100",3,"formGroupName","ngSwitch"],["class","charge w100",4,"ngIf"],[1,"charge","w100"],[4,"ngFor","ngForOf"],[3,"ngSwitchCase"],["type","checkbox","formControlName","select",3,"change"],["class","unit l",4,"ngIf"],["class","cross",4,"ngIf"],["class","unit m",4,"ngIf"],["class","equal",4,"ngIf"],["class","comment",4,"ngIf"],[1,"unit","s"],["type","number","formControlName","cost",3,"readonly","ngModelChange"],[1,"unit","l"],["type","number","formControlName","price",3,"ngModelChange"],[1,"cross"],[1,"unit","m"],["type","number","formControlName","value",3,"readonly","ngModelChange"],[1,"equal"],[1,"comment"],[2,"height","37px","align-items","center","display","flex"],[1,"form-item",3,"formGroup"],[3,"formControlName"]],template:function(i,o){if(1&i&&(t.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.EFF(6,"\u041e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0432\u0435\u0441:"),t.k0s(),t.j41(7,"div",6),t.nrm(8,"input",7),t.k0s()(),t.j41(9,"div",4)(10,"div",5),t.EFF(11,"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a:"),t.k0s(),t.j41(12,"div",6),t.nrm(13,"input",8),t.j41(14,"mat-autocomplete",9,10),t.DNE(16,iu,2,2,"mat-option",11),t.k0s()()(),t.DNE(17,ou,1,0,"ng-container",12),t.DNE(18,ru,1,0,"ng-container",12),t.j41(19,"div",13)(20,"div",5),t.EFF(21,"Currecy:"),t.k0s(),t.j41(22,"div",6)(23,"mat-form-field",14)(24,"mat-select",15),t.DNE(25,su,2,2,"mat-option",16),t.k0s()()()()()(),t.j41(26,"div",17)(27,"div",18),t.EFF(28," \u0412 \u0441\u0442\u0430\u0432\u043a\u0443 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e "),t.DNE(29,hu,3,3,"div",19),t.k0s(),t.j41(30,"div",20),t.EFF(31," \u041d\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e "),t.DNE(32,vu,3,3,"div",19),t.k0s()(),t.j41(33,"div",2)(34,"div",21)(35,"div",5),t.EFF(36,"\u0421\u0443\u043c\u043c\u0430:"),t.k0s(),t.j41(37,"div",6),t.nrm(38,"input",22),t.k0s()(),t.j41(39,"div",4)(40,"div",5),t.EFF(41,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"),t.k0s(),t.j41(42,"div",6),t.nrm(43,"input",23),t.k0s()()()(),t.j41(44,"div",24)(45,"button",25),t.bIt("click",function(){return o.onCancelBtnClick()}),t.nrm(46,"span",26),t.EFF(47," \u041e\u0442\u043c\u0435\u043d\u0430 "),t.k0s(),t.j41(48,"button",27),t.bIt("click",function(){return o.rateSave()}),t.nrm(49,"span",28),t.EFF(50," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.k0s()()(),t.DNE(51,bu,7,4,"ng-template",null,29,t.C5r)),2&i){const s=t.sdS(15),u=t.sdS(52);t.Y8G("formGroup",o.rateForm),t.R7$(8),t.Y8G("value",o.weight),t.R7$(5),t.Y8G("matAutocomplete",s),t.R7$(3),t.Y8G("ngForOf",o.filterContractor()),t.R7$(1),t.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",t.eq3(11,Fu,o.pointList)),t.R7$(1),t.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",t.eq3(13,Eu,o.pointActionList)),t.R7$(7),t.Y8G("ngForOf",o.currencyList),t.R7$(4),t.Y8G("ngForOf",o.charges.controls),t.R7$(3),t.Y8G("ngForOf",o.charges.controls)}},dependencies:[d.Sq,d.bT,d.T3,d.ux,d.e1,a.qT,a.me,a.Q0,a.Zm,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,f.rl,C.VO,B.wT,P.$3,P.pN],styles:[".charges-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-height:300px;border-top:1px solid #E0E5EB;border-bottom:1px solid #E0E5EB;padding:40px 0}.charges-block[_ngcontent-%COMP%]   .charge_on[_ngcontent-%COMP%]{width:62%}.charges-block[_ngcontent-%COMP%]   .charge_on[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:400px}.charges-block[_ngcontent-%COMP%]   .charge_off[_ngcontent-%COMP%]{width:30%}.w100[_ngcontent-%COMP%]{width:100%}.charge[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px;align-items:baseline}.charge[_ngcontent-%COMP%]   .unit.l[_ngcontent-%COMP%]{width:135px}.charge[_ngcontent-%COMP%]   .unit.m[_ngcontent-%COMP%]{width:120px}.charge[_ngcontent-%COMP%]   .unit.s[_ngcontent-%COMP%]{width:90px}.charge[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:75px;margin-right:5px;padding-left:6px;padding-right:6px;text-align:right}.charge[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:340px}.charge[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{background-image:url(pic-btn-cancel-black.f53b6da97b857302.svg);background-size:contain;width:10px;height:10px}.charge[_ngcontent-%COMP%]   .equal[_ngcontent-%COMP%]{color:#000}.btn-save-rates[_ngcontent-%COMP%]{margin-top:24px;background-color:#db563b;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;width:120px;cursor:pointer}.icon-btn-save-rates[_ngcontent-%COMP%]{background-image:url(pic-btn-send-white.a5378a66c5bf940b.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.btn-close-dialog[_ngcontent-%COMP%]{margin-top:24px;background-color:#606a74;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;cursor:pointer}.icon-btn-close-dialog[_ngcontent-%COMP%]{background-image:url(pic-btn-cancel.7572db71ea38f449.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}"]})}}return n})();function yu(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function xu(n,r){1&n&&t.eu8(0)}function Du(n,r){1&n&&t.eu8(0)}function ju(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function wu(n,r){1&n&&(t.j41(0,"th",39)(1,"div",40)(2,"div",41),t.EFF(3,"\u0422\u0438\u043f \u0422\u0421"),t.k0s(),t.j41(4,"div",42),t.EFF(5,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),t.k0s(),t.j41(6,"div",42),t.EFF(7,"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435"),t.k0s(),t.j41(8,"div",43),t.EFF(9,"\u0421\u0440\u043e\u043a \u043e\u0442"),t.k0s(),t.j41(10,"div",43),t.EFF(11,"\u0421\u0440\u043e\u043a \u0434\u043e"),t.k0s()()())}function Mu(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Tu(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",58),t.bIt("keyup",function(o){t.eBV(e);const s=t.XpG(2);return t.Njj(s.filteredDep(o))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Gu(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function $u(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",44)(1,"div",45)(2,"div",46)(3,"mat-form-field",13)(4,"mat-select",47),t.DNE(5,Mu,2,2,"mat-option",10),t.k0s()()(),t.j41(6,"div",48)(7,"input",49),t.bIt("keyup",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.filteredDep(o))}),t.k0s(),t.j41(8,"mat-autocomplete",50,51),t.DNE(10,Tu,2,2,"mat-option",52),t.k0s()(),t.j41(11,"div",48)(12,"input",53),t.bIt("keyup",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.filteredArr(o))}),t.k0s(),t.j41(13,"mat-autocomplete",50,54),t.DNE(15,Gu,2,2,"mat-option",10),t.k0s()(),t.j41(16,"div",55),t.nrm(17,"input",56),t.k0s(),t.j41(18,"div",55),t.nrm(19,"input",57),t.k0s()()()}if(2&n){const e=r.index,i=t.sdS(9),o=t.sdS(14),s=t.XpG();t.Y8G("formGroupName",e),t.R7$(5),t.Y8G("ngForOf",s.transportKinds),t.R7$(2),t.Y8G("matAutocomplete",i),t.R7$(1),t.Y8G("displayWith",s.displayFn_TransportTypeId.bind(s)),t.R7$(2),t.Y8G("ngForOf",s.filteredDepDirectionCitys),t.R7$(2),t.Y8G("matAutocomplete",o),t.R7$(1),t.Y8G("displayWith",s.displayFn_TransportTypeId.bind(s)),t.R7$(2),t.Y8G("ngForOf",s.filteredArrDirectionCitys)}}function Ou(n,r){1&n&&(t.j41(0,"th",59)(1,"div",40)(2,"div",60),t.EFF(3,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),t.k0s(),t.j41(4,"div",41),t.EFF(5,"\u0421\u0442\u0430\u0432\u043a\u0430"),t.k0s()()())}function Bu(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",61)(1,"div",40)(2,"div",62),t.nrm(3,"input",32),t.k0s(),t.j41(4,"div",46)(5,"input",63),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.calckRateCost())}),t.k0s()()()()}2&n&&t.Y8G("formGroupName",r.index)}function Iu(n,r){1&n&&t.nrm(0,"th",64)}function Su(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",65)(1,"div",40)(2,"div",66),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.removeCharge(s))}),t.k0s()()()}2&n&&t.Y8G("formGroupName",r.index)}function qu(n,r){1&n&&t.nrm(0,"tr",67)}function Pu(n,r){1&n&&t.nrm(0,"tr",68)}function Nu(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Vu(n,r){if(1&n&&(t.j41(0,"div",69)(1,"div",5),t.EFF(2),t.k0s(),t.j41(3,"div",6)(4,"mat-form-field",13)(5,"mat-select",70),t.DNE(6,Nu,2,2,"mat-option",10),t.k0s()()()()),2&n){const e=r.label,i=r.control,o=r.data,s=t.XpG();t.Y8G("formGroup",s.rateForm),t.R7$(2),t.JRh(e),t.R7$(3),t.Y8G("formControlName",i),t.R7$(1),t.Y8G("ngForOf",o)}}const Yu=function(n){return{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430:",control:"point_id",data:n}},Au=function(n){return{label:"\u0412\u0438\u0434 \u043f\u0440\u0430\u0439\u0441\u0430:",control:"point_action_id",data:n}},At=function(){return["del","price","set"]};let Lu=(()=>{class n{constructor(e,i,o,s,u,l,x,I){this.fb=e,this.transportService=i,this.snackBar=o,this.dialog=s,this.contractorService=u,this.requestService=l,this.directionService=x,this.systemService=I,this.closeDialog=new t.bkB,this.currencyList=[],this._destroy$=new w.B,this.contractorList=[],this.filteredContractorsArr=[],this.pointList=[],this.pointActionList=[],this.transportKinds=[],this.directionCitys=[],this.filteredArrDirectionCitys=[],this.filteredDepDirectionCitys=[],this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this.rateForm=this.fb.group({id:[,[]],cost:[,[]],request_id:[this.requestId,[]],contractor_id:[,[]],contractor_name:["",[]],point_id:[,[]],point_action_id:[,[]],comment:[,[]],currency:[0,[]],values:e.array([],[])})}onCancelBtnClick(){this.closeForm()}closeForm(){this.closeDialog.emit()}ngOnInit(){this.getDirectionCity(),this.getContractor(),this.getChargesShema(),this.getTransportKind(),this.getArrivalPoinst(),this.getPointAction(),this.getCurrency(),console.log("this.requestId",this.requestId),this.rate?(console.log("this edit mode",this.rate),this.contractorList.push({name:this.rate.contractor.name,id:this.rate.contractor_id}),this.rate.values.forEach(e=>{this.directionCitys.push({name:e.departure_city.name,id:e.departure_city_id}),this.directionCitys.push({name:e.arrival_city.name,id:e.arrival_city_id}),this.addCharge()}),this.rateForm.patchValue(this.rate)):(this.addCharge(),this.rateForm.patchValue({request_id:this.requestId}))}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}filteredDep(e){console.log(e.target.value),this.filteredDepDirectionCitys=this.directionCitys.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(e.target.value.toLowerCase().replaceAll(" ","")))}filteredArr(e){console.log(e.target.value),this.filteredArrDirectionCitys=this.directionCitys.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(e.target.value.toLowerCase().replaceAll(" ","")))}filteredContractors(e){console.log(e.target.value),this.filteredContractorsArr=this.contractorList.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(e.target.value.toLowerCase().replaceAll(" ","")))}setContractorName(e){const i=this.contractorList.find(o=>o.id===e);this.rateForm.patchValue({contractor_name:i?i.name:""})}onContratorChange(e){this.rateForm.patchValue({contractor_id:e.id})}filterContractor(){return this.contractorList.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(this.rateForm.value.contractor_name.toLowerCase().replaceAll(" ","")))}displayFn_TransportTypeId(e){return this.directionCitys&&this.directionCitys.find(o=>o.id===e)?.name||""}displayFn_Contractors(e){return this.contractorList&&this.contractorList.find(o=>o.id===e)?.name||""}addCharge(){this.charges.push(this.fb.group({kind_id:[,[]],departure_city_id:[,[]],arrival_city_id:[,[]],days_min:[,[]],days_max:[,[]],amount:[,[]],comment:[,[]]}))}renderRows(){this.table?.renderRows()}removeCharge(e){this.charges.length>1&&(this.charges.removeAt(e),this.table?.renderRows())}get charges(){return this.rateForm.get("values")}calckRateCost(){let e=0;return this.rateForm.value.values.forEach(i=>{e+=i.amount}),e}getContractor(){this.contractorService.contractorList().pipe((0,g.M)(e=>{if(console.log(e),this.contractorList=e.items,!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getArrivalPoinst(){this.directionService.directionPoint({city_id:this.cityId,transport_kind_id:this.transportKindId}).pipe((0,g.M)(e=>{if(console.log("getArrivalPoinst",e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.pointList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getPointAction(){this.transportService.transportPointAction({direction:"arrival"}).pipe((0,g.M)(e=>{if(console.log("getArrivalPoinst",e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.pointActionList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getTransportKind(){this.transportService.transportKind().pipe((0,g.M)(e=>{if(!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.transportKinds=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getDirectionCity(){this.directionService.directionCity().pipe((0,g.M)(e=>{if(!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.directionCitys=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}rateSave(){console.log(this.rateForm.value),this.requestService.requestRateTransporterSave({body:this.rateForm.value}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.closeForm(),this.snackBar.open(this.rate?"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430":"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open(this.rate?"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:"+e.error.error_message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:",void 0,this.snackBarWithShortDuration)}})}getChargesShema(){this.requestService.requestRateFormParam({request_id:this.requestId,method:"transporter"}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.currencyShema=e.currency},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0445\u0435\u043c\u044b:"+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getCurrency(){this.systemService.systemCurrency().pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.currencyList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(a.ok),t.rXU(D.TD),t.rXU(q.UG),t.rXU(E.bZ),t.rXU(D.LX),t.rXU(D.By),t.rXU(D.H7),t.rXU(D.V9))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-rate-add-transporter"]],viewQuery:function(i,o){if(1&i&&t.GBs(c.Zl,5),2&i){let s;t.mGM(s=t.lsd())&&(o.table=s.first)}},inputs:{weight:"weight",requestId:"requestId",transportKindId:"transportKindId",cityId:"cityId",rate:"rate"},outputs:{closeDialog:"closeDialog"},decls:57,vars:19,consts:[[1,"edit-form",3,"formGroup"],[1,"form-block"],[1,"form-row"],[1,"form-item-layout"],[1,"form-item"],[1,"form-label"],[1,"form-data"],["type","text","formControlName","contractor_id",3,"matAutocomplete","keyup"],["autoActiveFirstOption","false",3,"displayWith"],["contractor","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-item",2,"width","100px"],["appearance","outline",1,"ui-select"],["formControlName","currency"],[1,"btn-add-rate",3,"click"],[1,"icon-btn-save-rates"],[1,"table-form"],["mat-table","","formArrayName","values",3,"dataSource"],["matColumnDef","del"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","background-color: #F7F9FC;",3,"formGroupName",4,"matCellDef"],["matColumnDef","price"],["mat-header-cell","","class","w50",4,"matHeaderCellDef"],["mat-cell","","class","w50",3,"formGroupName",4,"matCellDef"],["matColumnDef","set"],["mat-header-cell","","class","w5",4,"matHeaderCellDef"],["mat-cell","","class","w5",3,"formGroupName",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"form-item",2,"margin-bottom","20px","width","100px"],["type","number","readonly","",3,"value"],["type","text","formControlName","comment"],[2,"display","flex","justify-content","end","gap","10px"],[1,"btn-close-dialog",3,"click"],[1,"icon-btn-close-dialog"],["type","submit",1,"btn-save-rates",3,"click"],["formItemSelector",""],[3,"value"],["mat-header-cell",""],[1,"td-block"],[1,"column","center","w20"],[1,"column","center","w30"],[1,"column","center","w10"],["mat-cell","",2,"background-color","#F7F9FC",3,"formGroupName"],[1,"td-block","border_select-on"],[1,"column","w20"],["formControlName","kind_id"],[1,"column","w30"],["type","text","formControlName","departure_city_id",3,"matAutocomplete","keyup"],[3,"displayWith"],["dep","matAutocomplete"],[3,"value","keyup",4,"ngFor","ngForOf"],["type","text","formControlName","arrival_city_id",3,"matAutocomplete","keyup"],["arr","matAutocomplete"],[1,"column","w10"],["type","number","formControlName","days_min"],["type","number","formControlName","days_max"],[3,"value","keyup"],["mat-header-cell","",1,"w50"],[1,"column","center"],["mat-cell","",1,"w50",3,"formGroupName"],[1,"column"],["type","number","formControlName","amount",3,"ngModelChange"],["mat-header-cell","",1,"w5"],["mat-cell","",1,"w5",3,"formGroupName"],[1,"btn-del-charge",3,"click"],["mat-header-row",""],["mat-row",""],[1,"form-item",3,"formGroup"],[3,"formControlName"]],template:function(i,o){if(1&i&&(t.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.EFF(6,"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a:"),t.k0s(),t.j41(7,"div",6)(8,"input",7),t.bIt("keyup",function(u){return o.filteredContractors(u)}),t.k0s(),t.j41(9,"mat-autocomplete",8,9),t.DNE(11,yu,2,2,"mat-option",10),t.k0s()()(),t.DNE(12,xu,1,0,"ng-container",11),t.DNE(13,Du,1,0,"ng-container",11),t.j41(14,"div",12)(15,"div",5),t.EFF(16,"Currecy:"),t.k0s(),t.j41(17,"div",6)(18,"mat-form-field",13)(19,"mat-select",14),t.DNE(20,ju,2,2,"mat-option",10),t.k0s()()()(),t.j41(21,"button",15),t.bIt("click",function(){return o.addCharge()})("click",function(){return o.renderRows()}),t.nrm(22,"span",16),t.EFF(23," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 "),t.k0s()()(),t.j41(24,"div",17)(25,"table",18),t.qex(26,19),t.DNE(27,wu,12,0,"th",20),t.DNE(28,$u,20,8,"td",21),t.bVm(),t.qex(29,22),t.DNE(30,Ou,6,0,"th",23),t.DNE(31,Bu,6,1,"td",24),t.bVm(),t.qex(32,25),t.DNE(33,Iu,1,0,"th",26),t.DNE(34,Su,3,1,"td",27),t.bVm(),t.DNE(35,qu,1,0,"tr",28),t.DNE(36,Pu,1,0,"tr",29),t.k0s()(),t.j41(37,"div",2)(38,"div",30)(39,"div",5),t.EFF(40,"\u0421\u0443\u043c\u043c\u0430:"),t.k0s(),t.j41(41,"div",6),t.nrm(42,"input",31),t.k0s()(),t.j41(43,"div",4)(44,"div",5),t.EFF(45,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"),t.k0s(),t.j41(46,"div",6),t.nrm(47,"input",32),t.k0s()()()(),t.j41(48,"div",33)(49,"button",34),t.bIt("click",function(){return o.onCancelBtnClick()}),t.nrm(50,"span",35),t.EFF(51," \u041e\u0442\u043c\u0435\u043d\u0430 "),t.k0s(),t.j41(52,"button",36),t.bIt("click",function(){return o.rateSave()}),t.nrm(53,"span",16),t.EFF(54," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.k0s()()(),t.DNE(55,Vu,7,4,"ng-template",null,37,t.C5r)),2&i){const s=t.sdS(10),u=t.sdS(56);t.Y8G("formGroup",o.rateForm),t.R7$(8),t.Y8G("matAutocomplete",s),t.R7$(1),t.Y8G("displayWith",o.displayFn_Contractors.bind(o)),t.R7$(2),t.Y8G("ngForOf",o.filteredContractorsArr),t.R7$(1),t.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",t.eq3(13,Yu,o.pointList)),t.R7$(1),t.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",t.eq3(15,Au,o.pointActionList)),t.R7$(7),t.Y8G("ngForOf",o.currencyList),t.R7$(5),t.Y8G("dataSource",o.charges.controls),t.R7$(10),t.Y8G("matHeaderRowDef",t.lJ4(17,At)),t.R7$(1),t.Y8G("matRowDefColumns",t.lJ4(18,At)),t.R7$(6),t.Y8G("value",o.calckRateCost())}},dependencies:[d.Sq,d.T3,a.qT,a.me,a.Q0,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,f.rl,C.VO,B.wT,P.$3,P.pN,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB],styles:[".table-form[_ngcontent-%COMP%]   .mat-mdc-select[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.table-form[_ngcontent-%COMP%]   .mat-mdc-select[_ngcontent-%COMP%]   .mat-mdc-select-trigger[_ngcontent-%COMP%]{padding:11px 13px 9px}.table-form[_ngcontent-%COMP%]{border-top:1px solid #E0E5EB;border-bottom:1px solid #E0E5EB;padding:40px 0}.table-form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.12);border-right:1px solid rgba(0,0,0,.12);border-bottom:1px solid rgba(0,0,0,.12)}.table-form[_ngcontent-%COMP%]   .btn-del-charge[_ngcontent-%COMP%]{width:14px;height:16px;background-image:url(pic-btn-del-gray.841cf291092986ee.svg);margin:0 auto;cursor:pointer}.table-form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%]{background:white}.btn-save-rates[_ngcontent-%COMP%]{margin-top:24px;background-color:#db563b;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;width:120px;cursor:pointer}.icon-btn-save-rates[_ngcontent-%COMP%]{background-image:url(pic-btn-send-white.a5378a66c5bf940b.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}.btn-add-rate[_ngcontent-%COMP%]{display:flex;width:159px;height:40px;border-radius:6px;border:none;background-color:#db563b;margin-top:17px;margin-left:24px;color:#fff;padding:13px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.btn-close-dialog[_ngcontent-%COMP%]{margin-top:24px;background-color:#606a74;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;cursor:pointer}.icon-btn-close-dialog[_ngcontent-%COMP%]{background-image:url(pic-btn-cancel.7572db71ea38f449.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}"]})}}return n})();function Xu(n,r){if(1&n){const e=t.RV6();t.j41(0,"label",50)(1,"input",51),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onRateTypeChange())}),t.k0s(),t.nrm(2,"i"),t.j41(3,"span"),t.EFF(4),t.k0s()()}if(2&n){const e=r.$implicit;t.R7$(1),t.Y8G("value",e.value),t.R7$(3),t.JRh(e.label)}}function Hu(n,r){1&n&&t.eu8(0)}function Uu(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",52),t.bIt("onSelectionChange",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.onContratorChange(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(1),t.JRh(e.name)}}function Wu(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",52),t.bIt("onSelectionChange",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.onRouteChange(s))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(1),t.JRh(e.name)}}function zu(n,r){1&n&&t.eu8(0)}function Zu(n,r){if(1&n&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function Ku(n,r){1&n&&t.nrm(0,"input",73),2&n&&t.Y8G("checked",!0)}function Ju(n,r){if(1&n){const e=t.RV6();t.j41(0,"input",74),t.bIt("change",function(){t.eBV(e);const o=t.XpG(6);return t.Njj(o.calckRateCost())}),t.k0s()}}function Qu(n,r){if(1&n){const e=t.RV6();t.j41(0,"span",75)(1,"input",76),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG(5).$implicit,s=t.XpG();return t.Njj(s.calckChargeCost(o))}),t.k0s(),t.EFF(2),t.k0s()}if(2&n){const e=t.XpG(3).$implicit;t.R7$(2),t.SpI("$/",e.unit," ")}}function t0(n,r){1&n&&t.nrm(0,"div",77)}function e0(n,r){if(1&n){const e=t.RV6();t.j41(0,"span",78)(1,"input",79),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG(5).$implicit,s=t.XpG();return t.Njj(s.calckChargeCost(o))}),t.k0s(),t.EFF(2),t.k0s()}if(2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.Y8G("readonly","kg"===e.unit),t.R7$(1),t.SpI("",e.unit," ")}}function n0(n,r){1&n&&(t.j41(0,"div",80),t.EFF(1,"\u2550"),t.k0s())}function i0(n,r){1&n&&(t.j41(0,"span",81),t.nrm(1,"input",42),t.k0s())}const o0=function(){return{"z-index":"-1"}},r0=function(){return{}};function s0(n,r){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"label"),t.DNE(2,Ku,1,1,"input",61),t.DNE(3,Ju,1,0,"input",62),t.nrm(4,"i",63),t.EFF(5),t.k0s(),t.j41(6,"span",64),t.EFF(7," Min $: "),t.j41(8,"input",65),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG(4).$implicit,s=t.XpG();return t.Njj(s.calckChargeCost(o))}),t.k0s()(),t.DNE(9,Qu,3,1,"span",66),t.DNE(10,t0,1,0,"div",67),t.DNE(11,e0,3,2,"span",68),t.DNE(12,n0,2,0,"div",69),t.DNE(13,i0,2,0,"span",70),t.j41(14,"span",71)(15,"input",72),t.bIt("ngModelChange",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG(2).$implicit,u=t.XpG();return t.Njj(o.field_comment?u.calckCommentChargePrice(s):u.calckRateCost())}),t.k0s(),t.EFF(16,"$ "),t.k0s(),t.bVm()}if(2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.Y8G("ngIf",e.checked),t.R7$(1),t.Y8G("ngIf",!e.checked),t.R7$(1),t.Y8G("ngStyle",e.checked?t.lJ4(13,o0):t.lJ4(14,r0)),t.R7$(1),t.SpI(" ",e.title," "),t.R7$(1),t.Aen(e.field_min?"":"z-index: -1;"),t.R7$(2),t.Y8G("readonly",!e.field_min),t.R7$(1),t.Y8G("ngIf",!e.field_comment&&e.unit),t.R7$(1),t.Y8G("ngIf",!e.field_comment&&e.unit),t.R7$(1),t.Y8G("ngIf",!e.field_comment&&e.unit),t.R7$(1),t.Y8G("ngIf",!e.field_comment&&e.unit),t.R7$(1),t.Y8G("ngIf",e.field_comment),t.R7$(2),t.Y8G("readonly",!e.field_comment&&""!==e.unit)}}function a0(n,r){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"label",82)(2,"input",83),t.bIt("change",function(){t.eBV(e);const o=t.XpG(5);return t.Njj(o.calckRateCost())}),t.k0s(),t.nrm(3,"i"),t.EFF(4),t.k0s(),t.bVm()}if(2&n){const e=t.XpG(2).$implicit;t.R7$(4),t.SpI(" ",e.title," ")}}function u0(n,r){if(1&n&&(t.DNE(0,s0,17,15,"ng-container",60),t.DNE(1,a0,5,1,"ng-container",60)),2&n){const e=t.XpG(4);t.Y8G("ngIf","detail"===e.rateForm.value.rate_type),t.R7$(1),t.Y8G("ngIf","nodetail"===e.rateForm.value.rate_type)}}function c0(n,r){1&n&&t.DNE(0,u0,2,2,"ng-template",59),2&n&&t.Y8G("ngSwitchCase",r.$implicit.field_name)}function l0(n,r){if(1&n&&(t.j41(0,"div",57),t.DNE(1,c0,1,1,null,58),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.chargesShema)}}function d0(n,r){if(1&n&&(t.j41(0,"div",54)(1,"div",55),t.DNE(2,l0,2,1,"div",56),t.k0s()()),2&n){const e=r.$implicit,i=r.index;t.R7$(1),t.Y8G("formGroupName",i)("ngSwitch",e.value.field),t.R7$(1),t.Y8G("ngIf",e.value.select)}}function _0(n,r){if(1&n){const e=t.RV6();t.j41(0,"label",84)(1,"input",83),t.bIt("change",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.calckRateCost())}),t.k0s(),t.nrm(2,"i"),t.EFF(3),t.k0s()}if(2&n){const e=t.XpG().$implicit;t.R7$(3),t.SpI(" ",e.title," ")}}function p0(n,r){1&n&&t.DNE(0,_0,4,1,"ng-template",59),2&n&&t.Y8G("ngSwitchCase",r.$implicit.field_name)}function m0(n,r){if(1&n&&(t.j41(0,"div",57),t.DNE(1,p0,1,1,null,58),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.chargesShema)}}function h0(n,r){if(1&n&&(t.j41(0,"div",54)(1,"div",55),t.DNE(2,m0,2,1,"div",56),t.k0s()()),2&n){const e=r.$implicit,i=r.index;t.R7$(1),t.Y8G("formGroupName",i)("ngSwitch",e.value.field),t.R7$(1),t.Y8G("ngIf",!e.value.select)}}function g0(n,r){if(1&n&&(t.j41(0,"div",85)(1,"div",86),t.EFF(2,"Total:"),t.k0s(),t.j41(3,"div",87),t.EFF(4),t.k0s(),t.j41(5,"div",87),t.EFF(6,"$"),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(e.rateForm.value.total_cost)}}function f0(n,r){1&n&&(t.j41(0,"div",88)(1,"div"),t.EFF(2,"Total, USD:"),t.k0s(),t.nrm(3,"input",89),t.k0s())}function C0(n,r){if(1&n&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&n){const e=r.$implicit,i=t.XpG().key;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e[i]," ")}}function v0(n,r){if(1&n&&(t.j41(0,"div",90)(1,"div",7),t.EFF(2),t.k0s(),t.j41(3,"div",8)(4,"mat-form-field",30)(5,"mat-select",91),t.DNE(6,C0,2,2,"mat-option",32),t.k0s()()()()),2&n){const e=r.label,i=r.control,o=r.data,s=r.multiple,u=r.class,l=t.XpG();t.HbH(u),t.Y8G("formGroup",l.rateForm),t.R7$(2),t.JRh(e),t.R7$(3),t.Y8G("formControlName",i)("multiple",s),t.R7$(1),t.Y8G("ngForOf",o)}}const k0=function(n){return{label:"Airline (iata):",control:"carrier_id",data:n,key:"iata",class:"w80px"}},b0=function(n){return{label:"The departure schedule:",control:"departure_schedule",data:n,key:"day",multiple:!0}};let F0=(()=>{class n{constructor(e,i,o,s,u,l,x,I){this.fb=e,this.transportService=i,this.snackBar=o,this.dialog=s,this.contractorService=u,this.requestService=l,this.directionService=x,this.systemService=I,this.transportKindId=0,this.closeDialog=new t.bkB,this.currencyList=[],this._destroy$=new w.B,this.contractorList=[],this.transportCarrier=[],this.transportRoute=[],this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this.weekDayList=[{day:"Monday",id:1},{day:"Tuesday",id:2},{day:"Wednesday",id:3},{day:"Thursday",id:4},{day:"Friday",id:5},{day:"Saturday",id:6},{day:"Sunday",id:7}],this.rateTypeOptions=[{value:"detail",label:"With Details"},{value:"nodetail",label:"With single Amount"}],this.isSelectedDate=N=>{const Y=(0,d.Yq)(N,"yyyy-MM-dd","en-US");return this.rateForm.value.nearest_flight?.find(U=>U==Y)?"selected":""},this.rateForm=this.fb.group({request_id:[this.requestId,[]],contractor_id:[,[]],contractor_name:["",[]],carrier_id:[,[]],comment:[,[]],departure_schedule:[,[]],id:[,[]],nearest_flight:[[],[]],profit_include:[!1,[]],rate_type:["detail",[]],route_name:["",[]],total_cost:[0,[]],transit_time:this.fb.group({from:[,[]],to:[,[]]}),currency:[0,[]],values:e.array([],[])})}setContractorName(e){const i=this.contractorList.find(o=>o.id===e);this.rateForm.patchValue({contractor_name:i?i.name:""})}onContratorChange(e){this.rateForm.patchValue({contractor_id:e.id})}onRouteChange(e){this.rateForm.patchValue({transit_time:{from:e.days_min,to:e.days_max}})}onCancelBtnClick(){this.closeForm()}closeForm(){this.closeDialog.emit()}ngOnInit(){this.getChargesShema(),this.getTransportCarrier(),this.getTransportRoute(),this.getContractor(),this.getCurrency(),this.rateForm.patchValue({request_id:this.requestId})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}filterRote(){const e=this.transportRoute.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(this.rateForm.value.route_name.toLowerCase().replaceAll(" ","")));return 0==e.length?[]:e}filterContractor(){return this.contractorList.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(this.rateForm.value.contractor_name.toLowerCase().replaceAll(" ","")))}get charges(){return this.rateForm.get("values")}calckChargeCost(e){e.patchValue(e.value.min?{cost:e.value.min<e.value.price*e.value.value?e.value.price*e.value.value:e.value.min}:{cost:e.value.price*e.value.value}),this.calckRateCost()}calckRateCost(){let e=0;this.rateForm.value.values.forEach(i=>{i.select&&(e+=i.cost)}),this.rateForm.patchValue({total_cost:e})}calckCommentChargePrice(e){e.patchValue({price:e.value.cost/1}),this.calckRateCost()}onRateTypeChange(){this.charges.controls.forEach(e=>{e.controls.comment.reset(),e.controls.cost.reset(),e.controls.fix.reset(),e.controls.min.reset(),e.controls.price.reset()}),this.rateForm.controls.total_cost.reset()}returnSelectDateText(){let e="",i=[];this.rateForm.value.nearest_flight?.forEach(s=>{const u=new Date(s),l={day:u.toLocaleString("en-US",{day:"numeric"}),mount:u.toLocaleString("en-US",{month:"short"}),date:s};i?.push(l)});const o=i.sort((s,u)=>new Date(s.date)>new Date(u.date)?1:-1);return o?.forEach((s,u)=>{let l=u+1;e=o[l]?.mount===s.mount?e+s.day+",":e+s.day+" "+s.mount+(o.length==l?"":", ")}),e}selectDate(e,i){const o=(0,d.Yq)(e,"yyyy-MM-dd","en-US");null===this.rateForm.value.nearest_flight&&(this.rateForm.value.nearest_flight=[]);const s=this.rateForm.value.nearest_flight.findIndex(u=>u==o);s<0?this.rateForm.value.nearest_flight.push(o):this.rateForm.value.nearest_flight.splice(s,1),i.updateTodaysDate()}returnAirlineName(e){const i=this.transportCarrier.find(o=>e===o.id);return i?i.name:""}getTransportCarrier(){this.transportService.transportCarrier({kind_id:this.transportKindId}).pipe((0,g.M)(e=>{if(!e)throw{error:{error_message:"\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.transportCarrier=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getTransportRoute(){this.directionService.directionRoute({kind_id:this.transportKindId,arrival_city_id:this.cityId,departure_country_id:this.cityIdDep}).pipe((0,g.M)(e=>{if(!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.transportRoute=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getContractor(){this.contractorService.contractorList().pipe((0,g.M)(e=>{if(console.log(e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.contractorList=e.items,this.rate&&this.setContractorName(this.rate.contractor_id)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}rateSave(){console.log(this.rateForm.value),this.requestService.requestRateCustomsSave({body:this.rateForm.value}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.closeForm(),this.snackBar.open(this.rate?"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430":"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open(this.rate?"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:"+e.error.error_message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:",void 0,this.snackBarWithShortDuration)}})}getChargesShema(){this.requestService.requestRateFormParam({request_id:this.requestId,method:"customs"}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.chargesShema=e.charges,this.currencyShema=e.currency,this.chargesShema.forEach(i=>{this.charges.push(this.fb.group({comment:[,[]],cost:[,[]],field:[i.field_name,[]],fix:[,[]],min:[,[]],price:[,[]],select:[i.checked,[]],value:["kg"===i.unit?Math.ceil(this.weight):1,[]]})),this.rateForm.markAsTouched()}),this.rate&&(console.log("this edit mode",this.rate),this.rateForm.patchValue(this.rate))},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0445\u0435\u043c\u044b:"+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getCurrency(){this.systemService.systemCurrency().pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.currencyList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(a.ok),t.rXU(D.TD),t.rXU(q.UG),t.rXU(E.bZ),t.rXU(D.LX),t.rXU(D.By),t.rXU(D.H7),t.rXU(D.V9))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-rate-add-customs"]],inputs:{weight:"weight",requestId:"requestId",transportKindId:"transportKindId",cityId:"cityId",cityIdDep:"cityIdDep",rate:"rate"},outputs:{closeDialog:"closeDialog"},decls:99,vars:24,consts:[[1,"edit-form",3,"formGroup","ngSubmit"],[1,"form-block"],[1,"form-row"],[1,"form-item-layout",2,"gap","24px"],["class","radio",4,"ngFor","ngForOf"],[1,"form-item-layout"],[1,"form-item","i10"],[1,"form-label"],[1,"form-data"],["type","text","readonly","",3,"value"],[1,"form-item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","formControlName","contractor_name",3,"matAutocomplete"],["autoActiveFirstOption",""],["contractor","matAutocomplete"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["type","text","formControlName","route_name",2,"text-transform","uppercase",3,"matAutocomplete"],["route","matAutocomplete"],[1,"form-item","w240px"],[1,"calendar",3,"matMenuTriggerFor"],[1,"calendar-value"],[1,"calendar-icon"],["menu","matMenu"],[3,"click"],[3,"dateClass","selectedChange"],["calendar",""],["formGroupName","transit_time"],[1,"form-item","w110px"],["type","number","formControlName","from"],["type","number","formControlName","to"],["appearance","outline",1,"ui-select"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],[1,"charges-block",2,"display","flex"],[1,"charge_on"],["formArrayName","values","class","w100",4,"ngFor","ngForOf"],[1,"charge_off"],[1,"total"],["class","total-detail",4,"ngIf"],["class","total-nodetail",4,"ngIf"],["type","checkbox","formControlName","profit_include"],[1,"charges-title"],["type","text","formControlName","comment"],[2,"display","flex","justify-content","end","gap","10px"],[1,"btn-close-dialog",3,"click"],[1,"icon-btn-close-dialog"],["type","submit",1,"btn-save-rates",3,"click"],[1,"icon-btn-save-rates"],["type","submit",2,"display","none"],["formItemSelector",""],[1,"radio"],["type","radio","formControlName","rate_type",3,"value","change"],[3,"value","onSelectionChange"],[3,"value"],["formArrayName","values",1,"w100"],[1,"w100",3,"formGroupName","ngSwitch"],["class","charge w100",4,"ngIf"],[1,"charge","w100"],[4,"ngFor","ngForOf"],[3,"ngSwitchCase"],[4,"ngIf"],["class","testclass","type","checkbox","disabled","",3,"checked",4,"ngIf"],["class","testclass","type","checkbox","formControlName","select",3,"change",4,"ngIf"],[3,"ngStyle"],[1,"unit"],["type","number","formControlName","min",3,"readonly","ngModelChange"],["class","unit l",4,"ngIf"],["class","cross",4,"ngIf"],["class","unit m",4,"ngIf"],["class","equal",4,"ngIf"],["class","comment",4,"ngIf"],[1,"unit","s"],["type","number","formControlName","cost",3,"readonly","ngModelChange"],["type","checkbox","disabled","",1,"testclass",3,"checked"],["type","checkbox","formControlName","select",1,"testclass",3,"change"],[1,"unit","l"],["type","number","formControlName","price",3,"ngModelChange"],[1,"cross"],[1,"unit","m"],["type","number","formControlName","value",3,"readonly","ngModelChange"],[1,"equal"],[1,"comment"],[2,"height","37px","align-content","center"],["type","checkbox","formControlName","select",3,"change"],[2,"height","37px","align-items","center","display","flex"],[1,"total-detail"],[1,""],[1,"color-red"],[1,"total-nodetail"],["type","number","formControlName","total_cost",1,"total-cost"],[1,"form-item",3,"formGroup"],[3,"formControlName","multiple"]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"form",0),t.bIt("ngSubmit",function(){return o.rateSave()}),t.j41(1,"div",1)(2,"div",2)(3,"div",3),t.DNE(4,Xu,5,2,"label",4),t.k0s(),t.j41(5,"div",5)(6,"div",6)(7,"div",7),t.EFF(8,"\u041e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0432\u0435\u0441:"),t.k0s(),t.j41(9,"div",8),t.nrm(10,"input",9),t.k0s()(),t.j41(11,"div",10)(12,"div",7),t.EFF(13,"Airline:"),t.k0s(),t.j41(14,"div",8),t.nrm(15,"input",9),t.k0s()(),t.DNE(16,Hu,1,0,"ng-container",11),t.j41(17,"div",10)(18,"div",7),t.EFF(19,"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a:"),t.k0s(),t.j41(20,"div",8),t.nrm(21,"input",12),t.j41(22,"mat-autocomplete",13,14),t.DNE(24,Uu,2,2,"mat-option",15),t.k0s()()(),t.j41(25,"div",10)(26,"div",7),t.EFF(27,"Route:"),t.k0s(),t.j41(28,"div",8),t.nrm(29,"input",16),t.j41(30,"mat-autocomplete",13,17),t.DNE(32,Wu,2,2,"mat-option",15),t.k0s()()(),t.j41(33,"div",18)(34,"div",7),t.EFF(35,"The nearest flight etd:"),t.k0s(),t.j41(36,"div",8)(37,"button",19)(38,"div",20),t.EFF(39),t.k0s(),t.nrm(40,"div",21),t.k0s(),t.j41(41,"mat-menu",null,22)(43,"div",23),t.bIt("click",function(l){return l.stopPropagation()}),t.j41(44,"mat-calendar",24,25),t.bIt("selectedChange",function(l){t.eBV(s);const x=t.sdS(45);return t.Njj(o.selectDate(l,x))}),t.k0s()()()()(),t.DNE(46,zu,1,0,"ng-container",11),t.k0s(),t.j41(47,"div",5),t.qex(48,26),t.j41(49,"div",27)(50,"div",7),t.EFF(51,"Transit time from:"),t.k0s(),t.j41(52,"div",8),t.nrm(53,"input",28),t.k0s()(),t.j41(54,"div",27)(55,"div",7),t.EFF(56,"Transit time to:"),t.k0s(),t.j41(57,"div",8),t.nrm(58,"input",29),t.k0s()(),t.bVm(),t.j41(59,"div",27)(60,"div",7),t.EFF(61,"Currecy:"),t.k0s(),t.j41(62,"div",8)(63,"mat-form-field",30)(64,"mat-select",31),t.DNE(65,Zu,2,2,"mat-option",32),t.k0s()()()()()(),t.j41(66,"div",33)(67,"div",34),t.EFF(68," \u0412 \u0441\u0442\u0430\u0432\u043a\u0443 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e "),t.DNE(69,d0,3,3,"div",35),t.k0s(),t.j41(70,"div",36),t.EFF(71," \u041d\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e "),t.DNE(72,h0,3,3,"div",35),t.k0s()(),t.j41(73,"div",2)(74,"div",5)(75,"div",37),t.DNE(76,g0,7,1,"div",38),t.DNE(77,f0,4,0,"div",39),t.j41(78,"label"),t.nrm(79,"input",40)(80,"i"),t.j41(81,"span",41),t.EFF(82,"Profit is included"),t.k0s()()()(),t.j41(83,"div",5)(84,"div",10)(85,"div",7),t.EFF(86,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"),t.k0s(),t.j41(87,"div",8),t.nrm(88,"input",42),t.k0s()()()()(),t.j41(89,"div",43)(90,"button",44),t.bIt("click",function(){return o.onCancelBtnClick()}),t.nrm(91,"span",45),t.EFF(92," \u041e\u0442\u043c\u0435\u043d\u0430 "),t.k0s(),t.j41(93,"button",46),t.bIt("click",function(){return o.rateSave()}),t.nrm(94,"span",47),t.EFF(95," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.k0s()(),t.nrm(96,"button",48),t.k0s(),t.DNE(97,v0,7,7,"ng-template",null,49,t.C5r)}if(2&i){const s=t.sdS(23),u=t.sdS(31),l=t.sdS(42),x=t.sdS(98);t.Y8G("formGroup",o.rateForm),t.R7$(4),t.Y8G("ngForOf",o.rateTypeOptions),t.R7$(6),t.Y8G("value",o.weight),t.R7$(5),t.Y8G("value",o.returnAirlineName(o.rateForm.value.carrier_id)),t.R7$(1),t.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",t.eq3(20,k0,o.transportCarrier)),t.R7$(5),t.Y8G("matAutocomplete",s),t.R7$(3),t.Y8G("ngForOf",o.filterContractor()),t.R7$(5),t.Y8G("matAutocomplete",u),t.R7$(3),t.Y8G("ngForOf",o.filterRote()),t.R7$(5),t.Y8G("matMenuTriggerFor",l),t.R7$(2),t.JRh(o.returnSelectDateText()),t.R7$(5),t.Y8G("dateClass",o.isSelectedDate),t.R7$(2),t.Y8G("ngTemplateOutlet",x)("ngTemplateOutletContext",t.eq3(22,b0,o.weekDayList)),t.R7$(19),t.Y8G("ngForOf",o.currencyList),t.R7$(4),t.Y8G("ngForOf",o.charges.controls),t.R7$(3),t.Y8G("ngForOf",o.charges.controls),t.R7$(4),t.Y8G("ngIf","detail"===o.rateForm.value.rate_type),t.R7$(1),t.Y8G("ngIf","nodetail"===o.rateForm.value.rate_type)}},dependencies:[d.Sq,d.bT,d.T3,d.B3,d.ux,d.e1,a.qT,a.me,a.Q0,a.Zm,a.Fm,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,f.rl,C.VO,B.wT,P.$3,P.pN,_.JJ,y.kk,y.Cp],styles:[".calendar[_ngcontent-%COMP%]{background:#F7F9FC;border:1px solid #E0E5EB;color:#2c3640;font-size:15px;border-radius:6px;width:100%;max-width:100%;box-sizing:border-box;padding:11px 13px 9px;height:39.88px;display:flex;justify-content:space-between;cursor:pointer}.calendar-value[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left;width:90%}.calendar-icon[_ngcontent-%COMP%]{background-image:url(pic-btn-calendar.ab2f9b4231784ae2.svg);width:15px;height:15px;background-repeat:no-repeat}.edit-form[_ngcontent-%COMP%]   .form-item-layout[_ngcontent-%COMP%]   .form-item.w240px[_ngcontent-%COMP%]{width:240px;flex-shrink:0;flex-grow:0}.edit-form[_ngcontent-%COMP%]   .form-item-layout[_ngcontent-%COMP%]   .form-item.w80px[_ngcontent-%COMP%]{width:80px;flex-shrink:0;flex-grow:0}.edit-form[_ngcontent-%COMP%]   .form-item-layout[_ngcontent-%COMP%]   .form-item.w110px[_ngcontent-%COMP%]{width:110px;flex-shrink:0;flex-grow:0}.charges-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-height:300px;border-top:1px solid #E0E5EB;border-bottom:1px solid #E0E5EB;padding:40px 0}.charges-block[_ngcontent-%COMP%]   .charge_on[_ngcontent-%COMP%]{min-width:65%;margin-right:auto}.charges-block[_ngcontent-%COMP%]   .charge_on[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:300px}.charges-block[_ngcontent-%COMP%]   .charge_off[_ngcontent-%COMP%]{min-width:22%;margin-right:auto}.w100[_ngcontent-%COMP%]{width:100%}.charge[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px;align-items:baseline}.charge[_ngcontent-%COMP%]   .unit.l[_ngcontent-%COMP%]{width:135px}.charge[_ngcontent-%COMP%]   .unit.m[_ngcontent-%COMP%]{width:120px}.charge[_ngcontent-%COMP%]   .unit.s[_ngcontent-%COMP%]{width:90px}.charge[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:75px;margin-right:5px;padding-left:6px;padding-right:6px;text-align:right}.charge[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:340px}.charge[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{background-image:url(pic-btn-cancel-black.f53b6da97b857302.svg);background-size:contain;width:10px;height:10px}.charge[_ngcontent-%COMP%]   .equal[_ngcontent-%COMP%]{color:#000}.btn-save-rates[_ngcontent-%COMP%]{margin-top:24px;background-color:#db563b;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;cursor:pointer}.icon-btn-save-rates[_ngcontent-%COMP%]{background-image:url(pic-btn-send-white.a5378a66c5bf940b.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}.btn-close-dialog[_ngcontent-%COMP%]{margin-top:24px;background-color:#606a74;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;cursor:pointer}.icon-btn-close-dialog[_ngcontent-%COMP%]{background-image:url(pic-btn-cancel.7572db71ea38f449.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.total[_ngcontent-%COMP%]{display:flex;gap:40px;align-items:center}.total[_ngcontent-%COMP%]   .total-detail[_ngcontent-%COMP%]{display:flex;gap:5px;font-weight:700;font-size:22px;line-height:22px;color:#2c3640}.total[_ngcontent-%COMP%]   .total-nodetail[_ngcontent-%COMP%]{display:flex;gap:5px;font-weight:700;font-size:22px;line-height:22px;color:#2c3640;align-items:baseline}.total-nodetail[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]{background:#F7F9FC;border:1px solid #E0E5EB;color:#2c3640;border-radius:6px;padding:11px 7px 9px;font-weight:700;font-size:22px;line-height:22px;max-width:70px;text-align:end}.color-red[_ngcontent-%COMP%]{color:#db563b}.form-block[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   [type=checkbox][_ngcontent-%COMP%]:checked + i[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-weight:400;font-size:16px}"]})}}return n})();function E0(n,r){if(1&n&&(t.j41(0,"div",5),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(1),t.SpI(" ",e," ")}}function R0(n,r){if(1&n&&(t.j41(0,"mat-option",39),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function y0(n,r){if(1&n&&(t.j41(0,"mat-option",39),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function x0(n,r){if(1&n&&(t.j41(0,"mat-option",39),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.name)}}function D0(n,r){1&n&&(t.j41(0,"div",36),t.EFF(1,"%"),t.k0s())}function j0(n,r){if(1&n&&(t.j41(0,"mat-option",39),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function w0(n,r){if(1&n&&(t.j41(0,"mat-form-field",30)(1,"mat-select",40),t.DNE(2,j0,2,2,"mat-option",27),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.currencyList)}}function M0(n,r){if(1&n){const e=t.RV6();t.qex(0,22),t.j41(1,"tr")(2,"td")(3,"div",4)(4,"div",5)(5,"label"),t.nrm(6,"input",23)(7,"i"),t.k0s()()()(),t.j41(8,"td")(9,"div",4)(10,"div",5),t.EFF(11),t.k0s(),t.j41(12,"div",5),t.nrm(13,"input",24),t.j41(14,"mat-autocomplete",25,26),t.DNE(16,R0,2,2,"mat-option",27),t.k0s()(),t.j41(17,"div",5),t.nrm(18,"input",28),t.j41(19,"mat-autocomplete",25,29),t.DNE(21,y0,2,2,"mat-option",27),t.k0s()(),t.j41(22,"div",5)(23,"mat-form-field",30)(24,"mat-select",31),t.DNE(25,x0,2,2,"mat-option",27),t.k0s()()(),t.j41(26,"div",5)(27,"input",32),t.bIt("ngModelChange",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(s.value.multiplier?u.calck_procent(s):u.calck_multiplication(s))}),t.k0s()(),t.j41(28,"div",5),t.DNE(29,D0,2,0,"div",33),t.DNE(30,w0,3,1,"mat-form-field",34),t.k0s(),t.j41(31,"div",5)(32,"input",35),t.bIt("ngModelChange",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(s.value.multiplier?"":u.calck_multiplication(s))}),t.k0s(),t.j41(33,"div",36),t.EFF(34),t.k0s()(),t.j41(35,"div",5),t.nrm(36,"input",37),t.j41(37,"div",38),t.EFF(38),t.k0s()()()(),t.j41(39,"td")(40,"div",4)(41,"div",5),t.nrm(42,"input",15),t.k0s()()()(),t.bVm()}if(2&n){const e=r.$implicit,i=r.index,o=t.sdS(15),s=t.sdS(20),u=t.XpG();t.Y8G("formGroupName",i),t.R7$(11),t.SpI(" ",e.value.title," "),t.R7$(2),t.Y8G("matAutocomplete",o),t.R7$(1),t.Y8G("displayWith",u.displayFn_contractor.bind(u)),t.R7$(2),t.Y8G("ngForOf",u.filteredContractors(e)),t.R7$(2),t.Y8G("matAutocomplete",s),t.R7$(1),t.Y8G("displayWith",u.displayFn_city.bind(u)),t.R7$(2),t.Y8G("ngForOf",u.filteredCitys(e)),t.R7$(4),t.Y8G("ngForOf",u.pointActionList),t.R7$(4),t.Y8G("ngIf",e.value.multiplier),t.R7$(1),t.Y8G("ngIf",!e.value.multiplier),t.R7$(2),t.Y8G("readonly",e.value.multiplier),t.R7$(2),t.JRh(e.value.multiplier?u.requestChar:e.value.multiplier_name),t.R7$(4),t.JRh(e.value.multiplier?u.requestChar:u.returnRateChar(e))}}function T0(n,r){if(1&n&&(t.j41(0,"mat-option",39),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function G0(n,r){if(1&n&&(t.j41(0,"div",41)(1,"div",11),t.EFF(2),t.k0s(),t.j41(3,"div",12)(4,"mat-form-field",30)(5,"mat-select",42),t.DNE(6,T0,2,2,"mat-option",27),t.k0s()()()()),2&n){const e=r.label,i=r.control,o=r.data,s=t.XpG();t.Y8G("formGroup",s.rateForm),t.R7$(2),t.JRh(e),t.R7$(3),t.Y8G("formControlName",i),t.R7$(1),t.Y8G("ngForOf",o)}}let $0=(()=>{class n{constructor(e,i,o,s,u,l,x,I){this.fb=e,this.transportService=i,this.snackBar=o,this.dialog=s,this.contractorService=u,this.requestService=l,this.directionService=x,this.systemService=I,this.closeDialog=new t.bkB,this.fields=["\u041d\u0430\u0438\u043c\u0435\u043d\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438","\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a","\u0413\u043e\u0440\u043e\u0434","\u0412\u0438\u0434 \u043f\u0440\u0430\u0439\u0441\u0430","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c","\u0412\u0430\u043b\u044e\u0442\u0430","\u0415\u0434.\u0418\u0437\u043c.","\u0418\u0442\u043e\u0433\u043e"],this.contractorList=[],this.pointList=[],this.pointActionList=[],this.currencyList=[],this._destroy$=new w.B,this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this.rateForm=this.fb.group({id:[,[]],request_id:[,[]],comment:[,[]],values:e.array([],[])})}ngOnInit(){this.weight=this.currentRequest.cargo_places_paid_weight,this.initialization_getAllData()}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}initialization_getAllData(){(0,ht.p)({charges:this.requestService.requestRateFormParam({request_id:this.currentRequest.id,method:"other"}),contractors:this.contractorService.contractorList(),poinst:this.directionService.directionCity({country_id:this.currentRequest.arrival_country_id}),prices:this.transportService.transportPointAction({direction:"arrival"}),currencys:this.systemService.systemCurrency()}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.processData(e)},error:e=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: ${e.message}`,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")}})}processData(e){this.contractorList=e.contractors.items,this.pointList=e.poinst,this.pointActionList=e.prices,this.currencyList=e.currencys,this.processData_charges(e.charges)}processData_charges(e){this.chargesShema=e.charges,this.chargesShema.forEach(i=>{this.charges.push(this.fb.group({field:[i.field_name,[]],price:[,[]],count:["percent_of_cargo_cost"===i.multiplier?Math.ceil(this.currentRequest.cargo_cost):1,[]],comment:[,[]],select:[i.checked,[]],contractor_id:[,[]],point_action_id:[,[]],city_id:[,[]],currency:[,[]],title:[i.title,[]],cost:[,[]],multiplier:"percent_of_cargo_cost"===i.multiplier,multiplier_name:i.multiplier_name}))}),this.rateForm.patchValue({request_id:this.currentRequest.id}),this.rate&&(console.log("this edit mode",this.rate),this.rateForm.patchValue(this.rate))}filteredContractors(e){let i;return"string"==typeof e.value.contractor_id&&""!=e.value.contractor_id&&(i=this.contractorList.filter(o=>o.name&&o.name.toLowerCase().includes(e.value.contractor_id.toLowerCase()))),i}filteredCitys(e){let i;return"string"==typeof e.value.city_id&&""!=e.value.city_id&&(i=this.pointList.filter(o=>o.name&&o.name.toLowerCase().includes(e.value.city_id.toLowerCase()))),i}get requestChar(){return this.currencyList.find(i=>i.id===this.currentRequest.cargo_currency_id)?.char}returnRateChar(e){return e.value.currency?this.currencyList.find(o=>o.id===e.value.currency)?.char:"?"}displayFn_contractor(e){return this.contractorList&&this.contractorList.find(o=>o.id===e)?.name||""}displayFn_city(e){return this.pointList&&this.pointList.find(o=>o.id===e)?.name||""}returnRateCost(){let e=0;return this.rateForm.value.values.forEach(i=>{i.select&&(e+=i.cost)}),e}calck_procent(e){let i;i=Math.ceil(this.currentRequest.cargo_cost)/100,i*=e.value.price,e.patchValue({cost:i})}calck_multiplication(e){let i;i=e.value.price*e.value.count,e.patchValue({cost:i})}setContractorName(e){const i=this.contractorList.find(o=>o.id===e);this.rateForm.patchValue({contractor_name:i?i.name:""})}onContratorChange(e){this.rateForm.patchValue({contractor_id:e.id})}filterContractor(){return this.contractorList.filter(i=>i.name.toLowerCase().replaceAll(" ","").includes(this.rateForm.value.contractor_name.toLowerCase().replaceAll(" ","")))}onCancelBtnClick(){this.closeForm()}closeForm(){this.closeDialog.emit()}get charges(){return this.rateForm.get("values")}calckChargeCost(e){e.patchValue({cost:e.value.price*e.value.value})}calckCommentChargePrice(e){e.patchValue({price:e.value.cost/1})}getContractor(){this.contractorService.contractorList().pipe((0,g.M)(e=>{if(console.log(e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.contractorList=e.items,this.rate&&this.setContractorName(this.rate.contractor_id)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getArrivalPoinst(){this.directionService.directionCity({country_id:this.currentRequest.arrival_country_id}).pipe((0,g.M)(e=>{if(console.log("getArrivalPoinst",e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.pointList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getPointAction(){this.transportService.transportPointAction({direction:"arrival"}).pipe((0,g.M)(e=>{if(console.log("getArrivalPoinst",e),!e)throw{error:{error_message:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.pointActionList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}rateSave(){console.log(this.rateForm.value),this.requestService.requestRateOtherSave({body:this.rateForm.value}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.closeForm(),this.snackBar.open(this.rate?"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430":"\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open(this.rate?"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:"+e.error.error_message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:",void 0,this.snackBarWithShortDuration)}})}getChargesShema(){this.requestService.requestRateFormParam({request_id:this.currentRequest.id,method:"other"}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.chargesShema=e.charges,this.chargesShema.forEach(i=>{this.charges.push(this.fb.group({field:[i.field_name,[]],price:[,[]],count:["percent_of_cargo_cost"===i.multiplier?Math.ceil(this.currentRequest.cargo_cost):1,[]],comment:[,[]],select:[i.checked,[]],contractor_id:[,[]],point_action_id:[,[]],city_id:[,[]],currency:[,[]],title:[i.title,[]],cost:[,[]],multiplier:"percent_of_cargo_cost"===i.multiplier,multiplier_name:i.multiplier_name})),this.rateForm.markAsTouched()}),this.rate&&(console.log("this edit mode",this.rate),this.rateForm.patchValue(this.rate))},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0445\u0435\u043c\u044b:"+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getCurrency(){this.systemService.systemCurrency().pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{console.log(e),this.currencyList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(a.ok),t.rXU(D.TD),t.rXU(q.UG),t.rXU(E.bZ),t.rXU(D.LX),t.rXU(D.By),t.rXU(D.H7),t.rXU(D.V9))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-rate-add-other"]],inputs:{currentRequest:"currentRequest",rate:"rate"},outputs:{closeDialog:"closeDialog"},decls:38,vars:4,consts:[[1,"edit-form",3,"formGroup"],[1,"form-block"],[1,"table-form","charges-block",2,"display","flex"],[2,"border-collapse","collapse"],[1,"td-block"],[1,"column"],["class","column",4,"ngFor","ngForOf"],["formArrayName","values"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-item",2,"margin-bottom","20px","width","100px"],[1,"form-label"],[1,"form-data"],["type","number","readonly","",3,"value"],[1,"form-item"],["type","text","formControlName","comment"],[2,"display","flex","justify-content","end","gap","10px"],[1,"btn-close-dialog",3,"click"],[1,"icon-btn-close-dialog"],["type","submit",1,"btn-save-rates",3,"click"],[1,"icon-btn-save-rates"],["formItemSelector",""],[3,"formGroupName"],["type","checkbox","formControlName","select"],["type","text","formControlName","contractor_id",3,"matAutocomplete"],[3,"displayWith"],["contractor","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","city_id",3,"matAutocomplete"],["city_id","matAutocomplete"],["appearance","outline",1,"ui-select"],["formControlName","point_action_id"],["type","number","formControlName","price",3,"ngModelChange"],["class","char",4,"ngIf"],["appearance","outline","class","ui-select",4,"ngIf"],["type","number","formControlName","count",3,"readonly","ngModelChange"],[1,"char"],["type","number","readonly","","formControlName","cost"],[1,"char-mini"],[3,"value"],["formControlName","currency"],[1,"form-item",3,"formGroup"],[3,"formControlName"]],template:function(i,o){1&i&&(t.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th")(7,"div",4),t.nrm(8,"div",5),t.k0s()(),t.j41(9,"th")(10,"div",4),t.DNE(11,E0,2,1,"div",6),t.k0s()(),t.j41(12,"th")(13,"div",4)(14,"div",5),t.EFF(15," \u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435 "),t.k0s()()()()(),t.j41(16,"tbody",7),t.DNE(17,M0,43,14,"ng-container",8),t.k0s()()(),t.j41(18,"div",9)(19,"div",10)(20,"div",11),t.EFF(21,"\u0421\u0443\u043c\u043c\u0430:"),t.k0s(),t.j41(22,"div",12),t.nrm(23,"input",13),t.k0s()(),t.j41(24,"div",14)(25,"div",11),t.EFF(26,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"),t.k0s(),t.j41(27,"div",12),t.nrm(28,"input",15),t.k0s()()()(),t.j41(29,"div",16)(30,"button",17),t.bIt("click",function(){return o.onCancelBtnClick()}),t.nrm(31,"span",18),t.EFF(32," \u041e\u0442\u043c\u0435\u043d\u0430 "),t.k0s(),t.j41(33,"button",19),t.bIt("click",function(){return o.rateSave()}),t.nrm(34,"span",20),t.EFF(35," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.k0s()()(),t.DNE(36,G0,7,4,"ng-template",null,21,t.C5r)),2&i&&(t.Y8G("formGroup",o.rateForm),t.R7$(11),t.Y8G("ngForOf",o.fields),t.R7$(6),t.Y8G("ngForOf",o.charges.controls),t.R7$(6),t.Y8G("value",o.returnRateCost()))},dependencies:[d.Sq,d.bT,a.qT,a.me,a.Q0,a.Zm,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,f.rl,C.VO,B.wT,P.$3,P.pN],styles:[".charges-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #E0E5EB;padding-bottom:40px}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   mat-select.mat-mdc-select[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:30px}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(1), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(1){width:15%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(2), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(2){width:10%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(3), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(3){width:10%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(4), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(4){width:10%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(5), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(5){width:6%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(6), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(6){width:5%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(7), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(7){width:15%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(8), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   .column[_ngcontent-%COMP%]:nth-child(8){width:6%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   div.char[_ngcontent-%COMP%], .charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   div.char-mini[_ngcontent-%COMP%]{margin-left:4px;margin-top:auto;margin-bottom:auto}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   div.char[_ngcontent-%COMP%]{min-width:80px}.charges-block[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   div.char-mini[_ngcontent-%COMP%]{width:10px}.w100[_ngcontent-%COMP%]{width:100%}.charge[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px;align-items:baseline}.charge[_ngcontent-%COMP%]   .unit.l[_ngcontent-%COMP%]{width:135px}.charge[_ngcontent-%COMP%]   .unit.m[_ngcontent-%COMP%]{width:120px}.charge[_ngcontent-%COMP%]   .unit.s[_ngcontent-%COMP%]{width:95px}.charge[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:75px;margin-right:5px;padding-left:6px;padding-right:6px;text-align:right}.charge[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:340px}.charge[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{background-image:url(pic-btn-cancel-black.f53b6da97b857302.svg);background-size:contain;width:10px;height:10px}.charge[_ngcontent-%COMP%]   .equal[_ngcontent-%COMP%]{color:#000}.btn-save-rates[_ngcontent-%COMP%]{margin-top:24px;background-color:#db563b;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;width:120px;cursor:pointer}.icon-btn-save-rates[_ngcontent-%COMP%]{background-image:url(pic-btn-send-white.a5378a66c5bf940b.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.btn-close-dialog[_ngcontent-%COMP%]{margin-top:24px;background-color:#606a74;border:none;border-radius:6px;padding:10px;color:#fff;display:flex;cursor:pointer}.icon-btn-close-dialog[_ngcontent-%COMP%]{background-image:url(pic-btn-cancel.7572db71ea38f449.svg);background-repeat:no-repeat;width:20px;height:15px;display:block;margin-right:5px}"]})}}return n})();const O0=["rateOtherDialogRef"],B0=["ratePointDialogRef"],I0=["rateTransporterDialogRef"],S0=["rate\u0421ustomsDialogRef"],q0=["dialogRef"],P0=["fullRouteDetailForm"];function N0(n,r){if(1&n&&(t.j41(0,"div",52)(1,"div",14),t.EFF(2,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),t.k0s(),t.j41(3,"div"),t.EFF(4),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(e.currentRequest.comment)}}function V0(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",54),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(2);return t.Njj(u.getRequestFile(s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.R7$(1),t.JRh(e.file_name)}}function Y0(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",54),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(2);return t.Njj(u.getRequestFile(s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.R7$(1),t.JRh(e.file_name)}}function A0(n,r){if(1&n&&(t.j41(0,"div",52)(1,"div",14),t.EFF(2,"\u0424\u0430\u0439\u043b\u044b"),t.k0s(),t.DNE(3,V0,2,1,"div",53),t.DNE(4,Y0,2,1,"div",53),t.k0s()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngForOf",e.currentRequest.documents_file),t.R7$(1),t.Y8G("ngForOf",e.currentRequest.cargo_file)}}function L0(n,r){if(1&n&&(t.j41(0,"div",65),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.HbH(e.class),t.xc7("width",e.width),t.R7$(1),t.SpI(" ",e.title," ")}}function X0(n,r){if(1&n&&(t.j41(0,"th",62)(1,"div",63),t.DNE(2,L0,2,5,"div",64),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("width",e.width),t.R7$(2),t.Y8G("ngForOf",e.items)}}function H0(n,r){if(1&n&&t.EFF(0),2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(4);t.SpI(" ",o.getVal(i,e.field)," ")}}function U0(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-option",71),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(3).$implicit,l=t.XpG(4);return t.Njj(l.patchKpStatus(u.id,s.id))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.Y8G("value",e.name)("disabled","\u041d\u043e\u0432\u043e\u0435"===e.name),t.R7$(1),t.SpI(" ",e.name," ")}}function W0(n,r){if(1&n&&(t.j41(0,"mat-select",69),t.DNE(1,U0,2,3,"mat-option",70),t.k0s()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(4);t.Y8G("value",e.status_text),t.R7$(1),t.Y8G("ngForOf",i.kpStatusArr)}}function z0(n,r){if(1&n&&(t.j41(0,"div",68),t.DNE(1,H0,1,1,"ng-template",58),t.DNE(2,W0,2,2,"ng-template",59),t.k0s()),2&n){const e=r.$implicit;t.HbH(e.class),t.xc7("width",e.width),t.Y8G("ngSwitch",e.field),t.R7$(2),t.Y8G("ngSwitchCase","status_text")}}function Z0(n,r){if(1&n&&(t.j41(0,"td",66)(1,"div",63),t.DNE(2,z0,3,6,"div",67),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("width",e.width),t.R7$(2),t.Y8G("ngForOf",e.items)}}function K0(n,r){1&n&&(t.DNE(0,X0,3,5,"th",60),t.DNE(1,Z0,3,5,"td",61))}function J0(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",62)(1,"div",63)(2,"label",74)(3,"mat-checkbox",75),t.bIt("change",function(o){t.eBV(e);const s=t.XpG(4);return t.Njj(s.onKpCheckboxHeaderTableChange(o))}),t.k0s()()()()}if(2&n){const e=t.XpG(4);t.xc7("width","64px"),t.R7$(3),t.Y8G("checked",e.isKpCheckboxHeaderTableChecked())("indeterminate",e.isKpCheckboxHeaderTableIndeterminate())("ngClass",e.isKpCheckboxHeaderTableIndeterminate()?"mat-mdc-checkbox-indeterminate":"")}}function Q0(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",66)(1,"div",63)(2,"label",74)(3,"mat-checkbox",76),t.bIt("change",function(o){const u=t.eBV(e).$implicit,l=t.XpG(4);return t.Njj(l.onKpCheckboxBodyTableChange(u.id,o))}),t.k0s()()()()}if(2&n){const e=r.$implicit,i=t.XpG(4);t.xc7("width","64px"),t.R7$(3),t.Y8G("checked",i.isKpCheckboxBodyTableChecked(e.id))("disabled",0!==e.status)}}function tc(n,r){1&n&&(t.DNE(0,J0,4,5,"th",72),t.DNE(1,Q0,4,4,"td",73))}function ec(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",62)(1,"div",63)(2,"button",77),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onSendKpBtnClick())}),t.EFF(3," \u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c "),t.k0s()()()}if(2&n){const e=t.XpG(4);t.xc7("width","240px"),t.R7$(2),t.xc7("visibility",e.returnVisibilitySendKpBtn()?"visible":"hidden")}}function nc(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",66)(1,"div",63)(2,"div",65)(3,"div",78)(4,"button",8),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(4);return t.Njj(u.onEditKpBtnClick(s.id,s.status))}),t.k0s(),t.j41(5,"button",9),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(4);return t.Njj(u.onDubKpBtnClick(s.id))}),t.k0s(),t.j41(6,"button",79),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(4);return t.Njj(u.onCopyKpBtnClick(s.id))}),t.k0s(),t.j41(7,"button",80),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(4);return t.Njj(u.onPdfKpBtnClick(s.id))}),t.k0s(),t.j41(8,"button",81),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(4);return t.Njj(u.onTxtKpBtnClick(s.id))}),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(4);return t.Njj(u.onDelKpBtnClick(s.id))}),t.k0s()()()()()}if(2&n){const e=r.$implicit;t.xc7("width","240px"),t.R7$(4),t.xc7("opacity",0==e.status?"1":"0.2")}}function ic(n,r){1&n&&(t.DNE(0,ec,4,4,"th",72),t.DNE(1,nc,10,4,"td",73))}function oc(n,r){if(1&n&&(t.qex(0,57),t.DNE(1,K0,2,0,"ng-template",58),t.DNE(2,tc,2,0,"ng-template",59),t.DNE(3,ic,2,0,"ng-template",59),t.bVm()),2&n){const e=r.$implicit;t.Y8G("matColumnDef",e.column)("ngSwitch",e.column),t.R7$(2),t.Y8G("ngSwitchCase","checked"),t.R7$(1),t.Y8G("ngSwitchCase","functions")}}function rc(n,r){1&n&&t.nrm(0,"tr",82)}function sc(n,r){1&n&&t.nrm(0,"tr",83)}function ac(n,r){if(1&n&&(t.qex(0),t.j41(1,"div",29),t.EFF(2),t.k0s(),t.j41(3,"div",55)(4,"table",36),t.DNE(5,oc,4,4,"ng-container",37),t.DNE(6,rc,1,0,"tr",40),t.DNE(7,sc,1,0,"tr",56),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(2),t.SpI("\u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f: ",e.offerList.total,""),t.R7$(2),t.Y8G("dataSource",null==e.offerList?null:e.offerList.items),t.R7$(1),t.Y8G("ngForOf",e.offerList.columns),t.R7$(1),t.Y8G("matHeaderRowDef",e.offerList.colList)("matHeaderRowDefSticky",!0),t.R7$(1),t.Y8G("matRowDefColumns",e.offerList.colList)}}function uc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",84),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onTableMethodChange("final"))}),t.EFF(1,"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0435"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass","final"===e.detailsMethod?"table-active":"")}}function cc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",84),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onTableMethodChange("customs"))}),t.EFF(1,"\u0414\u043e \u0433\u0440\u0430\u043d\u0438\u0446\u044b"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass","customs"===e.detailsMethod?"table-active":"")}}function lc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",84),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onTableMethodChange("point"))}),t.EFF(1,"\u0421\u043a\u043b\u0430\u0434 (\u0421\u0412\u0425)"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass","point"===e.detailsMethod?"table-active":"")}}function dc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",84),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onTableMethodChange("transporter"))}),t.EFF(1,"\u0412\u044b\u0432\u043e\u0437"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass","transporter"===e.detailsMethod?"table-active":"")}}function _c(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",84),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onTableMethodChange("other"))}),t.EFF(1,"\u0414\u0440\u0443\u0433\u0438\u0435"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass","other"===e.detailsMethod?"table-active":"")}}function pc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",91),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onAddRateBtnClick(o.detailsMethod))}),t.j41(1,"span",92),t.EFF(2,"+ \u0421\u0422\u0410\u0412\u041a\u0410"),t.k0s()()}}function mc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",93),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onBidSelectRateBtnClick())}),t.EFF(1," \u0422\u041e\u0420\u0413\u0418 "),t.k0s()}}function hc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",94),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onAddKpBtnClick())}),t.j41(1,"span",92),t.EFF(2,"+ \u041a\u041f"),t.k0s()()}}function gc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onDubSelectRateBtnClick())}),t.EFF(1,"\u0414\u0423\u0411\u041b\u042c"),t.k0s()}}function fc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onDelSelectRateBtnClick())}),t.EFF(1,"\u0423\u0414\u0410\u041b\u0418\u0422\u042c"),t.k0s()}}function Cc(n,r){if(1&n&&(t.j41(0,"div",85),t.DNE(1,pc,3,0,"button",86),t.DNE(2,mc,2,0,"button",87),t.DNE(3,hc,3,0,"button",88),t.DNE(4,gc,2,0,"button",89),t.DNE(5,fc,2,0,"button",90),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf","final"!==e.detailsMethod),t.R7$(1),t.Y8G("ngIf",("customs"==e.detailsMethod||"transporter"==e.detailsMethod)&&1==(null==e.currentRequest.tabs?null:e.currentRequest.tabs.length)),t.R7$(1),t.Y8G("ngIf","final"!==e.detailsMethod&&1==(null==e.currentRequest.tabs?null:e.currentRequest.tabs.length)||(null==e.currentRequest.tabs?null:e.currentRequest.tabs.length)>1&&("customs"==e.detailsMethod||"final"==e.detailsMethod)),t.R7$(1),t.Y8G("ngIf",0!==e.arrDetailsCheckedCheck.length),t.R7$(1),t.Y8G("ngIf",0!==e.arrDetailsCheckedCheck.length)}}function vc(n,r){if(1&n&&(t.j41(0,"div",99),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.JRh(e.title)}}function kc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",104),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).$implicit,u=t.XpG(3).index,l=t.XpG();return t.Njj(l.startResize(o,s,l.columnsData[u]))}),t.k0s()}}function bc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",65)(1,"div",102),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG(4);return t.Njj(s.sort(o.field))}),t.EFF(2),t.k0s(),t.DNE(3,kc,1,0,"div",103),t.k0s()}if(2&n){const e=t.XpG(),i=e.$implicit,o=e.index,s=t.XpG(3).$implicit,u=t.XpG();t.HbH(i.class),t.xc7("width",i.width),t.R7$(1),t.Y8G("ngClass",u.getSortClass(i.field)),t.BMQ("title",u.getColTitle(i.field)),t.R7$(1),t.SpI(" ",i.title," "),t.R7$(1),t.Y8G("ngIf",o!==s.items.length-1)}}function Fc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",105),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(4).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()}}function Ec(n,r){if(1&n&&(t.qex(0),t.DNE(1,bc,4,8,"div",100),t.DNE(2,Fc,1,0,"div",101),t.bVm()),2&n){const e=r.$implicit,i=r.index,o=t.XpG(3),s=o.$implicit,u=o.index;t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.Y8G("ngIf",i==s.items.length-1&&0!==u)}}function Rc(n,r){if(1&n&&(t.j41(0,"th",62)(1,"div"),t.DNE(2,vc,2,1,"div",97),t.j41(3,"div"),t.DNE(4,Ec,3,2,"ng-container",98),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(1),t.HbH(e.title?"td-block-column":"td-block"),t.R7$(1),t.Y8G("ngIf",e.title),t.R7$(1),t.HbH(e.title?"td-block-line":"no-layout"),t.R7$(1),t.Y8G("ngForOf",e.items)}}function yc(n,r){if(1&n&&(t.j41(0,"div",106),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.R7$(1),t.JRh(o.getVal(i,e.field))}}function xc(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",106)(1,"button",107),t.bIt("click",function(){t.eBV(e);const o=t.XpG(5);return t.Njj(o.onOpenFullRouteDetailForm())}),t.k0s(),t.EFF(2),t.k0s()}if(2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.R7$(2),t.SpI(" ",o.getVal(i,e.field)," ")}}function Dc(n,r){if(1&n&&(t.j41(0,"div",106),t.nrm(1,"div",108),t.k0s()),2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.R7$(1),t.HbH(o.getVal(i,e.field))}}function jc(n,r){if(1&n&&(t.j41(0,"div",106),t.nrm(1,"div",108),t.k0s()),2&n){const e=t.XpG().$implicit,i=t.XpG().$implicit,o=t.XpG(3);t.R7$(1),t.HbH(o.getVal(i,e.field))}}function wc(n,r){if(1&n&&(t.j41(0,"div",68),t.DNE(1,yc,2,1,"ng-template",58),t.DNE(2,xc,3,1,"ng-template",59),t.DNE(3,Dc,2,2,"ng-template",59),t.DNE(4,jc,2,2,"ng-template",59),t.k0s()),2&n){const e=r.$implicit;t.HbH(e.class),t.xc7("width",e.width),t.Y8G("ngSwitch",e.field),t.R7$(2),t.Y8G("ngSwitchCase","route_text"),t.R7$(1),t.Y8G("ngSwitchCase","custom/route/route_type_key"),t.R7$(1),t.Y8G("ngSwitchCase","route/route_type_key")}}function Mc(n,r){if(1&n&&(t.j41(0,"td",66)(1,"div",63),t.DNE(2,wc,5,8,"div",67),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(2),t.Y8G("ngForOf",e.items)}}function Tc(n,r){1&n&&(t.DNE(0,Rc,5,10,"th",95),t.DNE(1,Mc,3,5,"td",96))}function Gc(n,r){if(1&n){const e=t.RV6();t.j41(0,"th",62)(1,"div",63)(2,"label",74)(3,"mat-checkbox",111),t.bIt("change",function(o){t.eBV(e);const s=t.XpG(3);return t.Njj(s.onCheckboxHeaderTableChange(o))}),t.k0s()()(),t.j41(4,"div",105),t.bIt("mousedown",function(o){t.eBV(e);const s=t.XpG(2).index,u=t.XpG();return t.Njj(u.startResize(o,u.columnsData[s-1].items[u.columnsData[s-1].items.length-1],u.columnsData[s-1]))}),t.k0s()()}if(2&n){const e=t.XpG(2).$implicit,i=t.XpG();t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(3),t.Y8G("indeterminate",i.isCheckboxHeaderTableIndeterminate())("checked",i.isCheckboxHeaderTableChecked())("ngClass",i.isCheckboxHeaderTableIndeterminate()?"mat-mdc-checkbox-indeterminate":"")}}function $c(n,r){if(1&n){const e=t.RV6();t.j41(0,"label",74)(1,"mat-checkbox",113),t.bIt("change",function(o){t.eBV(e);const s=t.XpG().$implicit,u=t.XpG(3);return t.Njj(u.onCheckboxBodyTableChange(s.id,o))}),t.k0s()()}if(2&n){const e=t.XpG().$implicit,i=t.XpG(3);t.R7$(1),t.Y8G("checked",i.isCheckboxBodyTableChecked(e.id))}}function Oc(n,r){if(1&n&&(t.j41(0,"td",66)(1,"div",63),t.DNE(2,$c,2,1,"label",112),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(2),t.Y8G("ngIf","select"===e.column)}}function Bc(n,r){1&n&&(t.DNE(0,Gc,5,7,"th",109),t.DNE(1,Oc,3,5,"td",110))}function Ic(n,r){if(1&n&&(t.j41(0,"th",62)(1,"div",63),t.EFF(2,"\u041a\u041f"),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width)}}function Sc(n,r){if(1&n){const e=t.RV6();t.j41(0,"label",115)(1,"input",116),t.bIt("change",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG(3);return t.Njj(s.onCommercialOfferChange(o))}),t.k0s(),t.j41(2,"div",117),t.nrm(3,"span",118)(4,"span",119),t.k0s()()}if(2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("checked",e.selected)}}function qc(n,r){if(1&n&&(t.j41(0,"td",66)(1,"div",63),t.DNE(2,Sc,5,1,"label",114),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.HbH(e.class),t.xc7("min-width",e.width),t.R7$(2),t.Y8G("ngIf","checked"===e.column)}}function Pc(n,r){1&n&&(t.DNE(0,Ic,3,4,"th",109),t.DNE(1,qc,3,5,"td",110))}function Nc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",125),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onCancelColumnWidth())}),t.EFF(1,"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Vc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",125),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onSaveColumnWidth())}),t.EFF(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.k0s()}}function Yc(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",125),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.updateColumnSize())}),t.EFF(1,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a"),t.k0s()}}function Ac(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",125),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.onResetColumnWidth())}),t.EFF(1,"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),t.k0s()}}function Lc(n,r){if(1&n&&(t.j41(0,"th",121),t.nrm(1,"div",122),t.j41(2,"mat-menu",null,123),t.DNE(4,Nc,2,0,"button",124),t.DNE(5,Vc,2,0,"button",124),t.DNE(6,Yc,2,0,"button",124),t.DNE(7,Ac,2,0,"button",124),t.k0s()()),2&n){const e=t.sdS(3),i=t.XpG(3);t.R7$(1),t.Y8G("matMenuTriggerFor",e),t.R7$(3),t.Y8G("ngIf",i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!i.isResizeColumnMode),t.R7$(1),t.Y8G("ngIf",!i.isTableFixedWidth)}}function Xc(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",66)(1,"div",126),t.bIt("click",function(){const s=t.eBV(e).$implicit,u=t.XpG(3);return t.Njj(u.onOpenDetailsRateBtnClick(s))}),t.j41(2,"div",65),t.nrm(3,"div",127),t.k0s()()()}if(2&n){const e=r.$implicit,i=t.XpG(2).$implicit,o=t.XpG();t.HbH(i.class),t.xc7("width",i.width),t.R7$(3),t.Y8G("ngClass",o.expandedElement===e?"arrow-close":"arrow-open")}}function Hc(n,r){1&n&&(t.DNE(0,Lc,8,5,"th",120),t.DNE(1,Xc,4,5,"td",61))}function Uc(n,r){if(1&n&&(t.qex(0,57),t.DNE(1,Tc,2,0,"ng-template",58),t.DNE(2,Bc,2,0,"ng-template",59),t.DNE(3,Pc,2,0,"ng-template",59),t.DNE(4,Hc,2,0,"ng-template",59),t.bVm()),2&n){const e=r.$implicit;t.Y8G("matColumnDef",e.column)("ngSwitch",e.column),t.R7$(2),t.Y8G("ngSwitchCase","select"),t.R7$(1),t.Y8G("ngSwitchCase","checked"),t.R7$(1),t.Y8G("ngSwitchCase","details")}}function Wc(n,r){1&n&&t.eu8(0,131)}const zc=function(n,r){return{mode:n,data:r}};function Zc(n,r){if(1&n&&(t.qex(0),t.j41(1,"app-rate-info-row",129),t.DNE(2,Wc,1,0,"ng-container",130),t.k0s(),t.bVm()),2&n){const e=t.XpG().$implicit,i=t.XpG(),o=t.sdS(130);t.R7$(1),t.Y8G("rate",e)("detailsMethod",i.detailsMethod),t.R7$(1),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.l_i(4,zc,i.detailsMethod,e))}}function Kc(n,r){1&n&&t.eu8(0)}function Jc(n,r){1&n&&t.eu8(0)}function Qc(n,r){1&n&&t.eu8(0)}function t4(n,r){1&n&&t.eu8(0)}function e4(n,r){1&n&&t.eu8(0)}const n4=function(n){return{label:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430:",sum:n}},i4=function(n){return{label:"\u0414\u043e \u0433\u0440\u0430\u043d\u0438\u0446\u044b:",sum:n}},o4=function(n){return{label:"\u0421\u043a\u043b\u0430\u0434 (\u0421\u0412\u0425):",sum:n}},r4=function(n){return{label:"\u0412\u044b\u0432\u043e\u0437:",sum:n}},s4=function(n){return{label:"\u0414\u0440\u0443\u0433\u0438\u0435:",sum:n}};function a4(n,r){if(1&n&&(t.j41(0,"div",134),t.DNE(1,Kc,1,0,"ng-container",135),t.EFF(2," \u2248 "),t.DNE(3,Jc,1,0,"ng-container",135),t.EFF(4," + "),t.DNE(5,Qc,1,0,"ng-container",135),t.EFF(6," + "),t.DNE(7,t4,1,0,"ng-container",135),t.EFF(8," + "),t.DNE(9,e4,1,0,"ng-container",135),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.XpG();const i=t.sdS(128);t.R7$(1),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(10,n4,null==e?null:e.total_cost_text)),t.R7$(2),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(12,i4,null==e||null==e.custom?null:e.custom.total_cost_text)),t.R7$(2),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(14,o4,null==e||null==e.storage?null:e.storage.total_cost_text)),t.R7$(2),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(16,r4,null==e||null==e.delivery?null:e.delivery.total_cost_text)),t.R7$(2),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(18,s4,null==e||null==e.other?null:e.other.total_cost_text))}}function u4(n,r){1&n&&t.eu8(0,131)}const c4=function(n){return{mode:"customs",data:n}};function l4(n,r){if(1&n&&(t.j41(0,"app-rate-info-row",136),t.DNE(1,u4,1,0,"ng-container",130),t.k0s()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(),o=t.sdS(130);t.Y8G("rate",e.custom)("detailsMethod","customs")("costClass","final")("percent",i.getRatesPercent(null==e.custom?null:e.custom.total_cost,e.total_cost)),t.R7$(1),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(6,c4,e.custom))}}function d4(n,r){1&n&&t.eu8(0,131)}const _4=function(n){return{mode:"point",data:n}};function p4(n,r){if(1&n&&(t.j41(0,"app-rate-info-row",136),t.DNE(1,d4,1,0,"ng-container",130),t.k0s()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(),o=t.sdS(130);t.Y8G("rate",e.storage)("detailsMethod","point")("costClass","final")("percent",i.getRatesPercent(null==e.storage?null:e.storage.total_cost,e.total_cost)),t.R7$(1),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(6,_4,e.storage))}}function m4(n,r){1&n&&t.eu8(0,131)}const h4=function(n){return{mode:"transporter",data:n}};function g4(n,r){if(1&n&&(t.j41(0,"app-rate-info-row",136),t.DNE(1,m4,1,0,"ng-container",130),t.k0s()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(),o=t.sdS(130);t.Y8G("rate",e.delivery)("detailsMethod","transporter")("costClass","final")("percent",i.getRatesPercent(null==e.delivery?null:e.delivery.total_cost,e.total_cost)),t.R7$(1),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(6,h4,e.delivery))}}function f4(n,r){1&n&&t.eu8(0,131)}const C4=function(n){return{mode:"other",data:n}};function v4(n,r){if(1&n&&(t.j41(0,"app-rate-info-row",136),t.DNE(1,f4,1,0,"ng-container",130),t.k0s()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(),o=t.sdS(130);t.Y8G("rate",e.other)("detailsMethod","other")("costClass","final")("percent",i.getRatesPercent(null==e.other?null:e.other.total_cost,e.total_cost)),t.R7$(1),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(6,C4,e.other))}}function k4(n,r){if(1&n&&(t.qex(0),t.DNE(1,a4,10,20,"div",132),t.DNE(2,l4,2,8,"app-rate-info-row",133),t.DNE(3,p4,2,8,"app-rate-info-row",133),t.DNE(4,g4,2,8,"app-rate-info-row",133),t.DNE(5,v4,2,8,"app-rate-info-row",133),t.bVm()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",e.custom&&e.storage&&e.delivery&&e.other),t.R7$(1),t.Y8G("ngIf",e.custom),t.R7$(1),t.Y8G("ngIf",e.storage),t.R7$(1),t.Y8G("ngIf",e.delivery),t.R7$(1),t.Y8G("ngIf",e.other)}}function b4(n,r){if(1&n&&(t.j41(0,"td",66)(1,"div",128),t.DNE(2,Zc,3,7,"ng-container",27),t.DNE(3,k4,6,5,"ng-container",27),t.k0s()()),2&n){const e=r.$implicit,i=t.XpG();t.BMQ("colspan",null==i.column?null:i.column.length),t.R7$(1),t.Y8G("ngClass",e==i.expandedElement?"visible":""),t.R7$(1),t.Y8G("ngIf","final"!==i.detailsMethod),t.R7$(1),t.Y8G("ngIf","final"===i.detailsMethod)}}function F4(n,r){1&n&&t.nrm(0,"tr",82)}function E4(n,r){if(1&n&&t.nrm(0,"tr",137),2&n){const e=r.$implicit,i=t.XpG();t.AVh("example-expanded-row",i.expandedElement===e)}}function R4(n,r){1&n&&t.nrm(0,"tr",138)}function y4(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-rate-add-other",139),t.bIt("closeDialog",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeAllDialogs())}),t.k0s()}if(2&n){const e=r.$implicit,i=t.XpG();t.Y8G("rate",e)("currentRequest",i.currentRequest)}}function x4(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-rate-add-customs",140),t.bIt("closeDialog",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeAllDialogs())}),t.k0s()}if(2&n){const e=r.$implicit,i=t.XpG();t.Y8G("rate",e)("weight",i.currentRequest.cargo_places_paid_weight)("requestId",i.currentRequest.id)("transportKindId",i.currentRequest.transport_kind_id)("cityId",i.currentRequest.arrival_city_id)("cityIdDep",i.currentRequest.departure_country_id)}}function D4(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-rate-add-point",141),t.bIt("closeDialog",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeAllDialogs())}),t.k0s()}if(2&n){const e=r.$implicit,i=t.XpG();t.Y8G("rate",e)("weight",i.currentRequest.cargo_places_paid_weight)("requestId",i.currentRequest.id)("transportKindId",i.currentRequest.transport_kind_id)("cityId",i.currentRequest.arrival_city_id)}}function j4(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-rate-add-transporter",142),t.bIt("closeDialog",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeAllDialogs())}),t.k0s()}if(2&n){const e=r.$implicit,i=t.XpG();t.Y8G("requestId",i.currentRequest.id)("rate",e)("weight",i.currentRequest.cargo_places_paid_weight)("transportKindId",i.currentRequest.transport_kind_id)("cityId",i.currentRequest.arrival_city_id)}}function w4(n,r){if(1&n&&(t.j41(0,"h1",143),t.EFF(1),t.k0s(),t.j41(2,"div",144),t.EFF(3),t.k0s(),t.j41(4,"div",145)(5,"button",146),t.EFF(6,"\u0414\u0430"),t.k0s(),t.j41(7,"button",147),t.EFF(8,"\u041d\u0435\u0442"),t.k0s()()),2&n){const e=r.$implicit;t.R7$(1),t.JRh(e.title),t.R7$(2),t.JRh(e.message),t.R7$(2),t.Y8G("mat-dialog-close",!0)}}function M4(n,r){1&n&&(t.j41(0,"h1",143),t.EFF(1,"\u0424\u043e\u0440\u043c\u0430 \u043f\u043e\u043b\u043d\u043e\u0439 \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430"),t.k0s(),t.j41(2,"div",144),t.EFF(3,"\u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430"),t.k0s(),t.j41(4,"div",145)(5,"button",147),t.EFF(6,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),t.k0s()())}function T4(n,r){if(1&n&&(t.j41(0,"div",148)(1,"div",149),t.EFF(2),t.k0s(),t.j41(3,"div",150),t.EFF(4),t.k0s()()),2&n){const e=r.label,i=r.sum;t.R7$(2),t.JRh(e),t.R7$(2),t.JRh(i)}}function G4(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",151)(1,"button",152),t.bIt("click",function(){const o=t.eBV(e),s=o.mode,u=o.data,l=t.XpG();return t.Njj(l.onEditRateBtnClick(s,u))}),t.k0s(),t.j41(2,"button",9),t.bIt("click",function(){const s=t.eBV(e).data,u=t.XpG();return t.Njj(u.onDubSingleRateBtnClick(s))}),t.k0s(),t.j41(3,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onDelSingleRateBtnClick())}),t.k0s()()}}const $4=function(){return["../../../../request"]},O4=function(){return["expandedDetail"]};let J=(()=>{class n extends $.X{constructor(e,i,o,s,u,l,x,I,N,Y){super(u,l,o,s,x,Y),this.contractorService=e,this.requestService=i,this.matDialog=I,this.fileSrvice=N,this.sortField="contractor_id",this.arrDetailsCheckedCheck=[],this.arrCheckedKp=[],this.isOfferListShow=!1,this.isExpandedRequestInfo=!1}ngOnInit(){super.ngOnInit(),this.getOfferList(),this.getKpStatus(),this.definitionResizeMethodInDetailPage()}toConsole(e){console.log(e)}openOtherForm(e){this.matDialog.open(this.rateOtherDialogRef,{data:e,height:"85vh",minWidth:"85vw",maxWidth:"95vw"})}definitionResizeMethodInDetailPage(){this.resizeMetod={final:"request_rate_final_list",customs:"request_rate_customs_list",point:"request_rate_point_list",transporter:"request_rate_transporter_list",other:"request_rate_other_list"}[this.detailsMethod]}load(e){return(0,{final:this.requestService.requestRateFinalList.bind(this.requestService),customs:this.requestService.requestRateCustomsList.bind(this.requestService),point:this.requestService.requestRatePointList.bind(this.requestService),transporter:this.requestService.requestRateTransporterList.bind(this.requestService),other:this.requestService.requestRateOtherList.bind(this.requestService)}[this.detailsMethod])(e)}loadFilterSchemaTest(e){return this.requestService.requestRateListParam(e).pipe((0,R.T)(i=>i))}requestInfo(e){return this.requestService.requestInfo({id:e})}getRatesPercent(e,i){return e/i*100}getVal(e,i){if(!i.includes("/"))return void 0!==e[i]?e[i]:null;const o=i.split("/");for(const s of o){if(!e||!e.hasOwnProperty(s))return null;e=e[s]}return void 0!==e?e:null}onDetailsRequestBtnClick(){this.isExpandedRequestInfo=!this.isExpandedRequestInfo}onEditRequestBtnClick(){this.navToRequestEditor()}onDubRequestBtnClick(){this.createRequest(this.currentRequest)}onDeleteRequestBtnClick(){this.openDeleteRequestDialog("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441?","\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430")}onSendKpBtnClick(){this.sendOffers(this.arrCheckedKp)}returnVisibilitySendKpBtn(){return this.arrCheckedKp.length>0}onEditKpBtnClick(e,i){0==i?this.navToOfferEditor(e):this.snackBar.open("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0432\u043e\u0430\u043d\u0438\u0435 \u043a\u043f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e",void 0,this.snackBarWithShortDuration)}onDubKpBtnClick(e){this.dubOffer(e),this.getOfferList()}onCopyKpBtnClick(e){this.getOfferTxtCopy(e)}onPdfKpBtnClick(e){this.getOfferPdf(e)}onTxtKpBtnClick(e){this.getOfferTxt(e)}onDelKpBtnClick(e){this.openDeleteKpDialog("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043f \u2116"+e,[e],"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043f")}isKpCheckboxHeaderTableChecked(){const e=new Set(this.offerList.items.filter(o=>0==o.status).map(o=>o.id)),i=new Set(this.arrCheckedKp.filter(o=>e.has(o)));return e.size>0&&e.size===i.size}onKpCheckboxHeaderTableChange({checked:e}){const i=this.offerList.items.filter(o=>0==o.status);if(e)this.arrCheckedKp=[...new Set([...this.arrCheckedKp,...i.map(o=>o.id)])];else{const o=new Set(i.map(s=>s.id));this.arrCheckedKp=this.arrCheckedKp.filter(s=>!o.has(s))}}isKpCheckboxHeaderTableIndeterminate(){const e=new Set(this.offerList.items.filter(o=>0==o.status).map(o=>o.id)),i=this.arrCheckedKp.filter(o=>e.has(o));return e.size>i.length&&i.length>0}isKpCheckboxBodyTableChecked(e){return this.arrCheckedKp.includes(e)&&this.offerList.items.some(i=>i.id===e&&0==i.status)}onKpCheckboxBodyTableChange(e,{checked:i}){this.offerList.items.find(s=>s.id===e&&0==s.status)&&(i?this.arrCheckedKp.includes(e)||this.arrCheckedKp.push(e):this.arrCheckedKp=this.arrCheckedKp.filter(s=>s!==e),console.log(this.arrCheckedKp))}onTableMethodChange(e){this.router.navigate(["pages/request/details",e,this.requestId])}onAddKpBtnClick(){0==this.arrDetailsCheckedCheck.length?this.snackBar.open("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 ",void 0,this.snackBarWithShortDuration):this.openAddKpDialog("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u0437 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 "+this.arrDetailsCheckedCheck.length+" \u0441\u0442\u0430\u0432\u043e\u043a",this.arrDetailsCheckedCheck,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f")}onAddRateBtnClick(e){this.openRateEditor(e)}onDubSelectRateBtnClick(){this.duplicateRate(this.arrDetailsCheckedCheck),this.arrDetailsCheckedCheck=[]}onBidSelectRateBtnClick(){this.navToBidTable()}onDelSelectRateBtnClick(){this.openDeleteRateDialog("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "+this.arrDetailsCheckedCheck.length+" \u0441\u0442\u0430\u0432\u043e\u043a",this.arrDetailsCheckedCheck,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043e\u043a"),this.arrDetailsCheckedCheck=[]}onCommercialOfferChange(e){this.saveRate({id:e.id,selected:!e.selected})}onCheckboxHeaderTableChange({checked:e}){if(e)this.arrDetailsCheckedCheck=[...new Set([...this.arrDetailsCheckedCheck,...this.rows.map(i=>i.id)])];else{const i=new Set(this.rows.map(o=>o.id));this.arrDetailsCheckedCheck=this.arrDetailsCheckedCheck.filter(o=>!i.has(o))}}onCheckboxBodyTableChange(e,{checked:i}){i?this.arrDetailsCheckedCheck.includes(e)||this.arrDetailsCheckedCheck.push(e):this.arrDetailsCheckedCheck=this.arrDetailsCheckedCheck.filter(o=>o!==e)}isCheckboxBodyTableChecked(e){return this.arrDetailsCheckedCheck.includes(e)}isCheckboxHeaderTableChecked(){const e=new Set(this.rows.map(o=>o.id)),i=new Set(this.arrDetailsCheckedCheck.filter(o=>e.has(o)));return e.size>0&&e.size===i.size}isCheckboxHeaderTableIndeterminate(){const e=new Set(this.rows.map(o=>o.id)),i=this.arrDetailsCheckedCheck.filter(o=>e.has(o));return e.size>i.length&&i.length>0}onOpenFullRouteDetailForm(){this.matDialog.open(this.fullRouteDetailForm).afterClosed().subscribe(e=>{})}onOpenDetailsRateBtnClick(e){this.expandedElement=this.expandedElement===e?{}:e}onEditRateBtnClick(e,i){this.openRateEditor(e,i)}onDubSingleRateBtnClick(e){this.duplicateRate([e.id])}onDelSingleRateBtnClick(){this.openDeleteRateDialog("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 \u2116"+this.expandedElement.id,[this.expandedElement.id],"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438")}navToContractorEditor(e){this.router.navigate(["pages/contractor/edit",e])}navToOfferEditor(e){this.router.navigate(["pages/offer",e])}navToRequestEditor(){this.router.navigate(["pages/request/edit",this.requestId])}navToRequestsTable(){this.router.navigate(["pages/request"])}navToRateTable(){this.router.navigate(["pages/request"])}navToBidTable(){this.router.navigate(["pages/request/bidding",this.requestId])}openRateEditor(e,i){const s={transporter:{ref:this.rateTransporterDialogRef,config:{height:"85vh",minWidth:"85vw",maxWidth:"95vw"}},customs:{ref:this.rate\u0421ustomsDialogRef,config:{height:"85vh",minWidth:"85vw",maxWidth:"95vw"}},point:{ref:this.ratePointDialogRef,config:{height:"85vh",minWidth:"85vw",maxWidth:"95vw"}},other:{ref:this.rateOtherDialogRef,config:{height:"85vh",minWidth:"85vw",maxWidth:"95vw"}}}[e];s&&this.matDialog.open(s.ref,{data:i,...s.config})}closeAllDialogs(){this.matDialog.closeAll(),this.loadRows()}openDeleteKpDialog(e,i,o){this.matDialog.open(this.dialogRef,{data:{message:e,title:o}}).afterClosed().subscribe(s=>{s&&this.deleteKp(i)})}openDeleteRateDialog(e,i,o){this.matDialog.open(this.dialogRef,{data:{message:e,title:o}}).afterClosed().subscribe(s=>{s&&this.deleteRate(i)})}openDeleteRequestDialog(e,i){this.matDialog.open(this.dialogRef,{data:{message:e,title:i}}).afterClosed().subscribe(o=>{o&&this.deleteRequest(this.requestId)})}openAddKpDialog(e,i,o){this.matDialog.open(this.dialogRef,{data:{message:e,title:o}}).afterClosed().subscribe(s=>{s&&this.createOffer(i)})}createOffer(e){let i;i=this.detailsMethod?"point"===this.detailsMethod?"svh":"other"===this.detailsMethod||"final"===this.detailsMethod||"custom"===this.detailsMethod||"delivery"===this.detailsMethod?this.detailsMethod:void 0:void 0,this.requestService.requestOfferMake({body:{id:e,type:i}}).pipe((0,g.M)(o=>{console.log(o)}),(0,p.Q)(this.destroy$)).subscribe({next:o=>{this.loadRows(),this.snackBar.open("\u043a\u043f \u0443\u0441\u043f\u0435\u0445",void 0,this.snackBarWithShortDuration),this.arrDetailsCheckedCheck=[]},error:o=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+o.error.error_message,void 0,this.snackBarWithShortDuration)}})}createRequest(e){this.requestService.requestCreate({body:e}).pipe((0,g.M)(i=>{console.log(i)}),(0,p.Q)(this.destroy$)).subscribe({next:i=>{this.loadRows(),this.snackBar.open("\u043a\u043f \u0443\u0441\u043f\u0435\u0445",void 0,this.snackBarWithShortDuration),this.arrDetailsCheckedCheck=[]},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}saveRate(e){(0,{customs:()=>this.requestService.requestRateCustomsSave({body:e}),point:()=>this.requestService.requestRatePointSave({body:e}),transporter:()=>this.requestService.requestRateTransporterSave({body:e})}[this.detailsMethod])({body:e}).pipe((0,g.M)(s=>{console.log(s)}),(0,p.Q)(this.destroy$)).subscribe({next:s=>{this.snackBar.open("\u043a\u043f \u0443\u0441\u043f\u0435\u0445",void 0,this.snackBarWithShortDuration)},error:s=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432: "+s.error.error_message,void 0,this.snackBarWithShortDuration)}})}duplicateRate(e){this.requestService.requestRateDouble({body:{id:e}}).pipe((0,g.M)(i=>{console.log(i)}),(0,p.Q)(this.destroy$)).subscribe({next:i=>{this.snackBar.open("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a: "+e.length,void 0,this.snackBarWithShortDuration),this.loadRows()},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}deleteRate(e){("final"===this.detailsMethod?this.requestService.requestRateFinaleDelete({body:{id:e}}):this.requestService.requestRateDelete({body:{id:e}})).pipe((0,g.M)(o=>{console.log(o)}),(0,p.Q)(this.destroy$)).subscribe({next:o=>{this.snackBar.open("\u0421\u0442\u0430\u0432\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",void 0,this.snackBarWithShortDuration),this.loadRows()},error:o=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438: "+o.error.error_message,void 0,this.snackBarWithShortDuration)}})}deleteRequest(e){this.requestService.requestDelete({body:{id:e}}).pipe((0,g.M)(i=>{console.log(i)}),(0,p.Q)(this.destroy$)).subscribe({next:i=>{this.snackBar.open("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0434\u0430\u043b\u0435\u043d",void 0,this.snackBarWithShortDuration),this.navToRequestsTable()},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}deleteKp(e){this.requestService.requestOfferDelete({body:{id:e}}).pipe((0,g.M)(i=>{console.log(i)}),(0,p.Q)(this.destroy$)).subscribe({next:i=>{this.snackBar.open("\u041a\u043f \u0443\u0434\u0430\u043b\u0435\u043d",void 0,this.snackBarWithShortDuration),this.getOfferList()},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043f: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}getOfferList(){this.requestService.requestOfferList({request_id:this.requestId}).pipe((0,g.M)(e=>{console.log("OfferList",e)}),(0,p.Q)(this.destroy$)).subscribe({next:e=>{this.isOfferListShow=0!=e.total,this.offerList=e,this.offerList.colList=[],this.offerList.columns.forEach(i=>{this.offerList.colList.push(i.column)})},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043a\u043f: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getOfferTxt(e){this.requestService.requestOfferTxt({body:{id:e}}).pipe((0,g.M)(i=>{}),(0,p.Q)(this.destroy$)).subscribe({next:({text:s})=>{if(s){const u=window.open();u&&(u.document.open(),u.document.write(`<pre>${s}</pre>`),u.document.close())}},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f txt \u0444\u0430\u0439\u043b\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}getOfferTxtCopy(e){this.requestService.requestOfferTxt({body:{id:e}}).pipe((0,g.M)(i=>{}),(0,p.Q)(this.destroy$)).subscribe({next:({text:i})=>{i&&navigator.clipboard.writeText(i).then(()=>{this.snackBar.open("\u0422\u0435\u043a\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430!",void 0,this.snackBarWithShortDuration)}).catch(o=>{this.snackBar.open(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430: ${o}`,void 0,this.snackBarWithShortDuration)})},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f txt \u0444\u0430\u0439\u043b\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}getOfferPdf(e){this.requestService.requestOfferPdf({body:{id:e}}).pipe((0,g.M)(i=>{}),(0,p.Q)(this.destroy$)).subscribe({next:({name:i,data:o})=>{const s=`data:${this.xlsxMimeType};base64,${o}`,u=document.createElement("a");u.href=s,u.download=i,u.click()},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f pdf \u0444\u0430\u0439\u043b\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}getRequestFile(e){this.fileSrvice.fileDownload({id:e}).pipe((0,g.M)(i=>{}),(0,p.Q)(this.destroy$)).subscribe({next:({name:i,data:o})=>{const s=`data:${this.xlsxMimeType};base64,${o}`,u=document.createElement("a");u.href=s,u.download=i,u.click()},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}dubOffer(e){this.requestService.requestOfferCopy({id:e}).pipe((0,g.M)(i=>{}),(0,p.Q)(this.destroy$)).subscribe({next:({})=>{this.getOfferList(),this.snackBar.open("\u041a\u043f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d",void 0,this.snackBarWithShortDuration)},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043f: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}sendOffers(e){this.requestService.requestOfferSend({body:{ids:e}}).pipe((0,g.M)(i=>{}),(0,p.Q)(this.destroy$)).subscribe({next:({})=>{this.snackBar.open(this.arrCheckedKp.length>1?`\u0412\u0430\u0448\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 ${this.arrCheckedKp.length}-\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0431\u044b\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b`:"\u0421\u0442\u0430\u0432\u043a\u0430 \u0431\u044b\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430",void 0,{duration:2e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["centered-snackbar"]})},error:i=>{this.snackBar.open(i.error.error_message+": "+i.error.error_message_description,void 0,this.snackBarWithShortDuration)}})}getKpStatus(){this.requestService.requestOfferStatuses().pipe((0,g.M)(e=>{}),(0,p.Q)(this.destroy$)).subscribe({next:e=>{this.kpStatusArr=e,console.log("kpStatusArr",this.kpStatusArr)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u043a\u043f: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}patchKpStatus(e,i){this.requestService.requestOfferSetStatus({id:e,status_id:i}).pipe((0,g.M)(o=>{}),(0,p.Q)(this.destroy$)).subscribe({next:({})=>{this.snackBar.open("\u0421\u0442\u0430\u0442\u0443\u0441 \u043a\u043f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d",void 0,this.snackBarWithShortDuration)},error:o=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043a\u043f: "+o.error.error_message,void 0,this.snackBarWithShortDuration)}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(gt.L),t.rXU(D.By),t.rXU(E.bZ),t.rXU(q.UG),t.rXU(F.nX),t.rXU(F.Ix),t.rXU(k.E),t.rXU(E.bZ),t.rXU(D.E2),t.rXU(D.DL))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-request-details"]],viewQuery:function(i,o){if(1&i&&(t.GBs(O0,5),t.GBs(B0,5),t.GBs(I0,5),t.GBs(S0,5),t.GBs(q0,5),t.GBs(P0,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.rateOtherDialogRef=s.first),t.mGM(s=t.lsd())&&(o.ratePointDialogRef=s.first),t.mGM(s=t.lsd())&&(o.rateTransporterDialogRef=s.first),t.mGM(s=t.lsd())&&(o.rate\u0421ustomsDialogRef=s.first),t.mGM(s=t.lsd())&&(o.dialogRef=s.first),t.mGM(s=t.lsd())&&(o.fullRouteDetailForm=s.first)}},features:[t.Jv_([k.E]),t.Vt3],decls:131,vars:51,consts:[[1,"request-details-component",2,"height","calc(100vh - 56px)","display","flex","flex-direction","column"],[1,"subheader"],[1,"main_page_info"],[1,"back",3,"routerLink"],[3,"request"],[1,"request-actions"],[1,"tor",3,"click"],[1,"det",3,"click"],[1,"edi",3,"click"],[1,"dub",3,"click"],[1,"del",3,"click"],[1,"expanded-request-info",3,"ngClass"],[1,"columns"],[1,"col",2,"width","50%"],[1,"title"],[1,"item","w1"],[1,"field"],[1,"info"],[1,"col"],[1,"title","w1"],[1,"item","w4"],[1,"item","w2"],[1,"space"],[1,"sup"],[1,"w1","title"],["readonly","",1,"info",2,"resize","none","border","none","font-weight","bold","color","#2C3640","font-size","16px","width","100%","min-height","100px","text-indent","none"],["class","row",4,"ngIf"],[4,"ngIf"],[2,"display","flex","align-items","center"],[1,"subtitle"],[1,"rate-links"],[3,"ngClass","click",4,"ngIf"],[1,"table-filter",3,"isBiddingMode","isRateDetailsMode","quantityContractors","saveBidding"],["class","detail-btn",4,"ngIf"],[1,"table-border-block"],[1,"table-list","rate",2,"position","absolute","top","0","left","0","bottom","0","right","0"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef","ngSwitch",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",3,"example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"total","count","start","limits","startChange","countChange"],["rateOtherDialogRef",""],["rate\u0421ustomsDialogRef",""],["ratePointDialogRef",""],["rateTransporterDialogRef",""],["dialogRef",""],["fullRouteDetailForm",""],["costRateBox",""],["rateActions",""],[1,"row"],["class","file-box",3,"click",4,"ngFor","ngForOf"],[1,"file-box",3,"click"],[1,"table-list","no-resize","kp"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef","ngSwitch"],[3,"ngSwitchDefault"],[3,"ngSwitchCase"],["mat-header-cell","",3,"width","class",4,"matHeaderCellDef"],["mat-cell","",3,"width","class",4,"matCellDef"],["mat-header-cell",""],[1,"td-block"],["class","column",3,"width","class",4,"ngFor","ngForOf"],[1,"column"],["mat-cell",""],["class","column",3,"width","class","ngSwitch",4,"ngFor","ngForOf"],[1,"column",3,"ngSwitch"],[3,"value"],[3,"value","disabled","click",4,"ngFor","ngForOf"],[3,"value","disabled","click"],["mat-header-cell","",3,"width",4,"matHeaderCellDef"],["mat-cell","",3,"width",4,"matCellDef"],[1,"checkbox-label"],[1,"testclass",3,"checked","indeterminate","ngClass","change"],[1,"testclass",3,"checked","disabled","change"],[1,"btn-send",3,"click"],[1,"kp-btns"],[1,"cop",3,"click"],[1,"pdf",3,"click"],[1,"txt",3,"click"],["mat-header-row",""],["mat-row",""],[3,"ngClass","click"],[1,"detail-btn"],["class","add rate",3,"click",4,"ngIf"],["class","bid",3,"click",4,"ngIf"],["class","add kp",3,"click",4,"ngIf"],["class","dub",3,"click",4,"ngIf"],["class","del",3,"click",4,"ngIf"],[1,"add","rate",3,"click"],[2,"text-wrap","nowrap"],[1,"bid",3,"click"],[1,"add","kp",3,"click"],["mat-header-cell","",3,"class","minWidth",4,"matHeaderCellDef"],["mat-cell","",3,"class","minWidth",4,"matCellDef"],["class","td-block-title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td-block-title"],["class","column",3,"width","class",4,"ngIf"],["class","resize-handle_end",3,"mousedown",4,"ngIf"],[1,"col-content",3,"ngClass","click"],["class","resize-handle",3,"mousedown",4,"ngIf"],[1,"resize-handle",3,"mousedown"],[1,"resize-handle_end",3,"mousedown"],[1,"col-content"],[1,"inverted_exclamation_mark",3,"click"],[1,"transport-type"],["mat-header-cell","",3,"minWidth","class",4,"matHeaderCellDef"],["mat-cell","",3,"minWidth","class",4,"matCellDef"],[1,"testclass",3,"indeterminate","checked","ngClass","change"],["class","checkbox-label",4,"ngIf"],[1,"testclass",3,"checked","change"],["class","switch outer",4,"ngIf"],[1,"switch","outer"],["type","checkbox",3,"checked","change"],[1,"switcher"],[1,"bg"],[1,"thumb"],["mat-header-cell","","class","setting",4,"matHeaderCellDef"],["mat-header-cell","",1,"setting"],[1,"setting-link",3,"matMenuTriggerFor"],["menu","matMenu"],["class","table-settings","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"table-settings",3,"click"],[1,"td-block",2,"cursor","pointer",3,"click"],[3,"ngClass"],[1,"example-element-detail",3,"ngClass"],[3,"rate","detailsMethod"],["test2","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["test2",""],["class","costs",4,"ngIf"],[3,"rate","detailsMethod","costClass","percent",4,"ngIf"],[1,"costs"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"rate","detailsMethod","costClass","percent"],["mat-row","",1,"example-element-row"],["mat-row","",1,"example-detail-row"],[3,"rate","currentRequest","closeDialog"],[3,"rate","weight","requestId","transportKindId","cityId","cityIdDep","closeDialog"],[3,"rate","weight","requestId","transportKindId","cityId","closeDialog"],[3,"requestId","rate","weight","transportKindId","cityId","closeDialog"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""],[1,"cost"],[1,"label"],[1,"sum"],[1,"action-bar"],[1,"edit",3,"click"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"div",3)(4,"app-request-info-block",4),t.k0s(),t.j41(5,"div",5)(6,"button",6),t.bIt("click",function(){return o.navToBidTable()}),t.EFF(7,"\u0422\u043e\u0440\u0433\u0438"),t.k0s(),t.j41(8,"button",7),t.bIt("click",function(){return o.onDetailsRequestBtnClick()}),t.EFF(9,"\u0414\u0435\u0442\u0430\u043b\u0438"),t.k0s(),t.j41(10,"button",8),t.bIt("click",function(){return o.onEditRequestBtnClick()}),t.EFF(11,"\u041f\u0440\u0430\u0432\u043a\u0430"),t.k0s(),t.j41(12,"button",9),t.bIt("click",function(){return o.onDubRequestBtnClick()}),t.EFF(13,"\u0414\u0443\u0431\u043b\u044c"),t.k0s(),t.j41(14,"button",10),t.bIt("click",function(){return o.onDeleteRequestBtnClick()}),t.EFF(15,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.k0s()()(),t.j41(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14),t.EFF(20,"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),t.k0s(),t.j41(21,"div",15)(22,"div",16),t.EFF(23,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),t.k0s(),t.j41(24,"div",17),t.EFF(25),t.k0s()(),t.j41(26,"div",15)(27,"div",16),t.EFF(28,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"),t.k0s(),t.j41(29,"div",17),t.EFF(30),t.k0s()()(),t.j41(31,"div",18)(32,"div",19),t.EFF(33,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u0437\u0430"),t.k0s(),t.j41(34,"div",20)(35,"div",16),t.EFF(36,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(37,"div",17),t.EFF(38),t.k0s()(),t.j41(39,"div",20)(40,"div",16),t.EFF(41,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(42,"div",17),t.EFF(43),t.k0s()(),t.j41(44,"div",21)(45,"div",16),t.EFF(46,"\u0418\u0442\u043e\u0433\u043e:"),t.k0s(),t.j41(47,"div",17),t.EFF(48),t.j41(49,"span"),t.EFF(50," pcs "),t.k0s(),t.j41(51,"span",22),t.EFF(52,"/"),t.k0s(),t.EFF(53),t.j41(54,"span"),t.EFF(55," m"),t.j41(56,"sup",23),t.EFF(57,"3"),t.k0s()(),t.j41(58,"span",22),t.EFF(59,"/"),t.k0s(),t.EFF(60),t.j41(61,"span"),t.EFF(62," kg"),t.k0s(),t.j41(63,"span",22),t.EFF(64,"/"),t.k0s(),t.EFF(65),t.nI1(66,"number"),t.j41(67,"span"),t.EFF(68," kg/m"),t.j41(69,"sup",23),t.EFF(70,"3"),t.k0s()()()(),t.j41(71,"div",20)(72,"div",16),t.EFF(73,"\u0413\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u044c \u0433\u0440\u0443\u0437\u0430:"),t.k0s(),t.j41(74,"div",17),t.EFF(75),t.k0s()(),t.j41(76,"div",20)(77,"div",16),t.EFF(78,"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438"),t.k0s(),t.j41(79,"div",17),t.EFF(80),t.k0s()(),t.j41(81,"div",21)(82,"div",16),t.EFF(83,"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0438:"),t.k0s(),t.j41(84,"div",17),t.EFF(85),t.k0s()()(),t.j41(86,"div",18)(87,"div",24),t.EFF(88,"\u0420\u0430\u0437\u043c\u0435\u0440\u044b"),t.k0s(),t.j41(89,"textarea",25),t.EFF(90),t.k0s()()(),t.DNE(91,N0,5,1,"div",26),t.DNE(92,A0,5,2,"div",26),t.k0s(),t.DNE(93,ac,8,6,"ng-container",27),t.j41(94,"div",28)(95,"div",29),t.EFF(96),t.k0s(),t.j41(97,"div",30),t.DNE(98,uc,2,1,"div",31),t.DNE(99,cc,2,1,"div",31),t.DNE(100,lc,2,1,"div",31),t.DNE(101,dc,2,1,"div",31),t.DNE(102,_c,2,1,"div",31),t.k0s()(),t.j41(103,"app-table-filter",32),t.bIt("saveBidding",function(){return o.saveContractorSelectRequest()}),t.DNE(104,Cc,6,5,"div",33),t.k0s(),t.j41(105,"div",34)(106,"div",35)(107,"table",36),t.DNE(108,Uc,5,5,"ng-container",37),t.qex(109,38),t.DNE(110,b4,4,4,"td",39),t.bVm(),t.DNE(111,F4,1,0,"tr",40),t.DNE(112,E4,1,2,"tr",41),t.DNE(113,R4,1,0,"tr",42),t.k0s()()(),t.j41(114,"app-paginator",43),t.bIt("startChange",function(u){return o.onStartChange(u)})("countChange",function(u){return o.onCountChange(u)}),t.k0s()(),t.DNE(115,y4,1,2,"ng-template",null,44,t.C5r),t.DNE(117,x4,1,6,"ng-template",null,45,t.C5r),t.DNE(119,D4,1,5,"ng-template",null,46,t.C5r),t.DNE(121,j4,1,5,"ng-template",null,47,t.C5r),t.DNE(123,w4,9,3,"ng-template",null,48,t.C5r),t.DNE(125,M4,7,0,"ng-template",null,49,t.C5r),t.DNE(127,T4,5,2,"ng-template",null,50,t.C5r),t.DNE(129,G4,4,0,"ng-template",null,51,t.C5r)),2&i&&(t.R7$(3),t.Y8G("routerLink",t.lJ4(49,$4)),t.R7$(1),t.Y8G("request",o.currentRequest),t.R7$(4),t.xc7("border",o.isExpandedRequestInfo?"1px solid #DB563B":"1px solid white"),t.R7$(8),t.Y8G("ngClass",o.isExpandedRequestInfo?"visible":""),t.R7$(9),t.JRh(null==o.currentRequest?null:o.currentRequest.departure_text),t.R7$(5),t.JRh(null==o.currentRequest?null:o.currentRequest.arrival_text),t.R7$(8),t.JRh(null==o.currentRequest?null:o.currentRequest.cargo_type_text),t.R7$(5),t.JRh(null==o.currentRequest?null:o.currentRequest.cargo_description),t.R7$(5),t.SpI(" ",null==o.currentRequest?null:o.currentRequest.cargo_places_count,""),t.R7$(5),t.SpI(" ",null==o.currentRequest?null:o.currentRequest.cargo_places_volume,""),t.R7$(7),t.SpI(" ",null==o.currentRequest?null:o.currentRequest.cargo_places_weight,""),t.R7$(5),t.SpI(" ",t.i5U(66,46,null==o.currentRequest?null:o.currentRequest.cargo_places_density,"1.0-1"),""),t.R7$(10),t.JRh(null==o.currentRequest?null:o.currentRequest.cargo_readiness),t.R7$(5),t.Lme("",null==o.currentRequest?null:o.currentRequest.incoterms_name," ",null==o.currentRequest?null:o.currentRequest.incoterms_city_name,""),t.R7$(5),t.JRh(null==o.currentRequest||null==o.currentRequest.translate||null==o.currentRequest.translate.ru?null:o.currentRequest.translate.ru.cargo_condition_carriage),t.R7$(5),t.SpI("        ",null==o.currentRequest||null==o.currentRequest.translate||null==o.currentRequest.translate.ru?null:o.currentRequest.translate.ru.cargo_dimensions,"\n      "),t.R7$(1),t.Y8G("ngIf",o.currentRequest.comment),t.R7$(1),t.Y8G("ngIf",o.currentRequest.documents_file&&o.currentRequest.cargo_file),t.R7$(1),t.Y8G("ngIf",o.isOfferListShow),t.R7$(3),t.Lme("\u0421\u0442\u0430\u0432\u043a\u0438: ",o.currentRequest.count_rate_send,"/",o.currentRequest.count_rate_answer,""),t.R7$(2),t.Y8G("ngIf",null==o.currentRequest||null==o.currentRequest.tabs?null:o.currentRequest.tabs.includes("final")),t.R7$(1),t.Y8G("ngIf",null==o.currentRequest||null==o.currentRequest.tabs?null:o.currentRequest.tabs.includes("custom")),t.R7$(1),t.Y8G("ngIf",null==o.currentRequest||null==o.currentRequest.tabs?null:o.currentRequest.tabs.includes("svh")),t.R7$(1),t.Y8G("ngIf",null==o.currentRequest||null==o.currentRequest.tabs?null:o.currentRequest.tabs.includes("delivery")),t.R7$(1),t.Y8G("ngIf",null==o.currentRequest||null==o.currentRequest.tabs?null:o.currentRequest.tabs.includes("other")),t.R7$(1),t.Y8G("isBiddingMode",o.isBiddingMode)("isRateDetailsMode",o.isRateDetailsMode)("quantityContractors",o.quantityContractors),t.R7$(1),t.Y8G("ngIf",o.isRateDetailsMode),t.R7$(2),t.HbH(o.isResizeColumnMode?"resize":""),t.R7$(1),t.Aen(o.isTableFixedWidth?"width:100%;max-width:100%":""),t.Y8G("dataSource",o.rows),t.R7$(1),t.Y8G("ngForOf",o.columnsData),t.R7$(3),t.Y8G("matHeaderRowDef",o.column)("matHeaderRowDefSticky",!0),t.R7$(1),t.Y8G("matRowDefColumns",o.column),t.R7$(1),t.Y8G("matRowDefColumns",t.lJ4(50,O4)),t.R7$(1),t.Y8G("total",o.total)("count",o.count)("start",o.start)("limits",o.limits))},dependencies:[d.YU,d.Sq,d.bT,d.T3,d.ux,d.e1,d.fG,F.Wk,E.tx,E.BI,E.Yi,E.E7,C.VO,B.wT,st.So,j.$z,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,y.kk,y.fb,y.Cp,L.h,K,Bt,nu,Ru,Lu,F0,$0,d.QX],styles:['@charset "UTF-8";.table-list.kp[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:white}.mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], mat-footer-row[_ngcontent-%COMP%], [mat-header-row][_ngcontent-%COMP%], [mat-row][_ngcontent-%COMP%], [mat-footer-row][_ngcontent-%COMP%], .mat-table-sticky[_ngcontent-%COMP%]{max-height:100px}.expanded-request-info[_ngcontent-%COMP%]{position:absolute;top:142px;z-index:1000;opacity:0;height:0;overflow:hidden;padding:0;transition:opacity .6s ease}.expanded-request-info.visible[_ngcontent-%COMP%]{opacity:1;height:auto;padding:0 12px 0 24px;background:#fff;display:flex;flex-direction:column;border-bottom:1px #C3CCD6 solid;transition:opacity .6s ease}.example-element-detail[_ngcontent-%COMP%]{min-height:0;margin:0;padding:0 20px;border:none;visibility:hidden;opacity:0;max-height:0;overflow:hidden;transition:opacity 2s ease,max-height 1s ease,visibility 0s 1s,padding 1s ease}.example-element-detail.visible[_ngcontent-%COMP%]{min-height:100px;margin:0;padding:20px;border-top:1px solid rgba(0,0,0,.12);visibility:visible;opacity:1;max-height:3000px;transition:opacity 2s ease,max-height 1s ease,visibility 0s 0s}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]{gap:40px;display:flex;padding:40px 0}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;height:-moz-fit-content;height:fit-content}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#4b66ad;font-weight:700;font-size:20px;line-height:20px;margin-bottom:25px}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dime[_ngcontent-%COMP%]{line-height:30px}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-weight:700;color:#2c3640}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{text-transform:none;font-size:12px;line-height:12px;font-weight:400;margin-bottom:15px;color:#606a74}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(n+5){margin-top:40px}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:first-child   .item[_ngcontent-%COMP%]{margin-bottom:0}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:first-child   .item[_ngcontent-%COMP%]:last-child{margin-top:40px}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .w1[_ngcontent-%COMP%]{width:100%}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .w2[_ngcontent-%COMP%]{width:50%}.expanded-request-info[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]   .w4[_ngcontent-%COMP%]{width:25%}.expanded-request-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:40px 0;border-top:1px #C3CCD6 solid}.expanded-request-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#2c3640;font-weight:700;font-size:20px;line-height:20px;padding-bottom:25px}.expanded-request-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]{box-shadow:0 2px 8px #00000014;border-radius:6px;height:15px;width:-moz-fit-content;width:fit-content;padding:10px 10px 10px 35px;margin:0 5px 15px 0;color:#db563b;text-wrap:nowrap;background:url(pic-btn-download.533a3b3e28ae1feb.svg) no-repeat;background-position:10px;cursor:pointer}.expanded-request-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:last-child{margin-bottom:0}.table-filter[_ngcontent-%COMP%]{margin:0 20px;height:82px;display:block;border:1px solid #E0E5EB;border-bottom:0}.arrow-open[_ngcontent-%COMP%]{width:10px;height:6px;background-image:url(pic-select-arrow.bcb0ba9a89949372.svg);margin:0 auto}.arrow-close[_ngcontent-%COMP%]{width:10px;height:6px;background-image:url(pic-filter-arrow.976bf110a39b5e9d.svg);margin:0 auto}.switch[_ngcontent-%COMP%]{width:40px;display:block;margin:0 auto}.checkbox-label[_ngcontent-%COMP%]{margin:0 auto;display:block;width:20px}.pic-i[_ngcontent-%COMP%]{display:block;background-image:url(pic-i-in-ring.06a6c6d6bf0cd94f.svg);width:16px;height:16px;margin-right:5px}.table-list[_ngcontent-%COMP%]   .transport-type[_ngcontent-%COMP%]{width:20px;height:20px;background-position:center;margin:0 auto}.table-list[_ngcontent-%COMP%]   .avia_direct[_ngcontent-%COMP%]{background-image:url(pic-transport-type-air.1e516e4123955c2e.svg)}.table-list[_ngcontent-%COMP%]   .avia_transit[_ngcontent-%COMP%]{background-image:url(pic-transport-type-air2.6ac121c457b5f61c.svg)}.table-list[_ngcontent-%COMP%]   .w64px[_ngcontent-%COMP%]{width:64px;max-width:64px}.table-list[_ngcontent-%COMP%]   .transport_type[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:14px;height:14px;background-position:center;margin:0 auto}.table-list[_ngcontent-%COMP%]   .transport_type[_ngcontent-%COMP%]   .avia[_ngcontent-%COMP%]{background-image:url(pic-transport-type-air.1e516e4123955c2e.svg)}tr[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.12);border-right:1px solid rgba(0,0,0,.12)}.table-list.rate[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{background:#EDF2F7}.table-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%]{background:white}.table-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.example-expanded-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#EDF2F7}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.example-element-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;overflow:hidden;gap:20px}.example-element-detail[_ngcontent-%COMP%]   .costs[_ngcontent-%COMP%]{width:100%;height:84px;display:flex;gap:10px;font-size:32px;font-weight:700;line-height:32px;color:#83909e;align-items:center}.example-element-detail[_ngcontent-%COMP%]   .costs[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border:1px solid #E0E5EB;height:100%;box-sizing:border-box}.example-element-detail[_ngcontent-%COMP%]   .costs[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:12px;color:#db563b;margin-bottom:5px}.example-element-detail[_ngcontent-%COMP%]   .costs[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]   .sum[_ngcontent-%COMP%], .example-element-detail[_ngcontent-%COMP%]   .costs[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]:first-child   .label[_ngcontent-%COMP%]{color:#2c3640}.example-element-detail[_ngcontent-%COMP%]   .costs[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]:first-child   .sum[_ngcontent-%COMP%]{color:#db563b}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.subheader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px #C3CCD6 solid}.request-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.request-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;padding:9px 8px 7px;min-width:64px;min-height:56px;box-sizing:border-box;font-size:10px;line-height:10px;text-transform:uppercase;text-align:center;color:#000;cursor:pointer;box-shadow:0 2px 8px #0000001a;background:white;border-radius:6px;border:0}.request-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";display:block;height:20px;background:no-repeat 50% 50%;margin:0 0 10px}.request-actions[_ngcontent-%COMP%]   button.del[_ngcontent-%COMP%]{background:#606A74;color:#fff}.request-actions[_ngcontent-%COMP%]   button.tor[_ngcontent-%COMP%]:before{background-image:url(pic-btn-trade-red.0f62b5c2c552cd4d.svg)}.request-actions[_ngcontent-%COMP%]   button.det[_ngcontent-%COMP%]:before{background-image:url(pic-btn-detail.7d69764c99d7a6da.svg)}.request-actions[_ngcontent-%COMP%]   button.edi[_ngcontent-%COMP%]:before{background-image:url(pic-btn-edit.f813160c8951e93e.svg)}.request-actions[_ngcontent-%COMP%]   button.dub[_ngcontent-%COMP%]:before{background-image:url(pic-btn-double.8f45353d8ff0139f.svg)}.request-actions[_ngcontent-%COMP%]   button.del[_ngcontent-%COMP%]:before{background-image:url(pic-btn-del.2c308877081041ba.svg)}.subtitle[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:24px;margin:20px}.kp-none[_ngcontent-%COMP%]{background-color:#fff;color:#000;margin:0 20px;text-align:center;padding:40px 0;box-shadow:0 2px 8px #0000001a}.rate-links[_ngcontent-%COMP%]{display:flex;gap:10px}.rate-links[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;color:#83909e;font-size:15px;line-height:14px;font-weight:700;cursor:pointer}.rate-links[_ngcontent-%COMP%]   .table-active[_ngcontent-%COMP%]{color:#000;background-color:#fff;border-bottom:1px solid #DB563B}.table-list[_ngcontent-%COMP%]   .td-block[_ngcontent-%COMP%]{padding:9px 10px 7px}.action-bar[_ngcontent-%COMP%]{position:absolute;top:30px;right:-10px;display:flex;flex-direction:column;gap:10px}.action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:6px;display:block;box-sizing:border-box;cursor:pointer;box-shadow:0 2px 8px #0000001a;background:white;border:0}.action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";width:18px;height:18px;display:block;background:no-repeat 50% 50%;margin:11px auto}.action-bar[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:before{background-image:url(pic-btn-edit-w.8b372f930e84c99c.svg)}.action-bar[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%]{background-color:#db563b}.action-bar[_ngcontent-%COMP%]   .dub[_ngcontent-%COMP%]:before{background-image:url(pic-btn-double.8f45353d8ff0139f.svg)}.action-bar[_ngcontent-%COMP%]   .del[_ngcontent-%COMP%]:before{background-image:url(pic-btn-del.2c308877081041ba.svg)}.action-bar[_ngcontent-%COMP%]   button.del[_ngcontent-%COMP%]{background-color:#606a74}.cost_block[_ngcontent-%COMP%]{border-bottom:#E0E5EB 1px solid;padding:40px}.cost_block[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{color:#db563b;font-size:48px;font-weight:700;line-height:48px}.kp-btns[_ngcontent-%COMP%]{display:flex;gap:20px}.kp-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border:none;background-color:transparent;padding:0;margin:0}.kp-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";display:block;background:no-repeat 50% 50%;width:16px;height:16px}.kp-btns[_ngcontent-%COMP%]   .del[_ngcontent-%COMP%]:before{background-image:url(pic-btn-del-gray.841cf291092986ee.svg)}.kp-btns[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]:before{width:21px;height:10px;background-image:url(pic-btn-txt-no-row.1cb8480f44eb4184.svg)}.kp-btns[_ngcontent-%COMP%]   .pdf[_ngcontent-%COMP%]:before{width:22px;height:10px;background-image:url(pic-btn-pdf.52bea0aee2a7e28f.svg)}.kp-btns[_ngcontent-%COMP%]   .cop[_ngcontent-%COMP%]:before{background-image:url(pic-btn-copy.26d53c4dd1a658bb.svg)}.kp-btns[_ngcontent-%COMP%]   .dub[_ngcontent-%COMP%]:before{background-image:url(pic-btn-double.8f45353d8ff0139f.svg)}.kp-btns[_ngcontent-%COMP%]   .edi[_ngcontent-%COMP%]:before{background-image:url(pic-btn-edit.f813160c8951e93e.svg)}.btn-send[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:10px;text-align:right;display:flex;align-items:center;border:none;width:94px;height:24px;border-radius:4px;background-color:#fff;color:#2c3640}.btn-send[_ngcontent-%COMP%]:before{content:"";display:block;width:16px;height:16px;background-image:url(pic-btn-send.d45d319d8c584086.svg);margin-right:auto}mat-checkbox[_ngcontent-%COMP%]{margin:0 auto}']})}}return n})();const B4=["delRateDialogRef"];function I4(n,r){if(1&n&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function S4(n,r){if(1&n&&(t.j41(0,"div",61)(1,"div",62),t.EFF(2),t.k0s()()),2&n){const e=r.index,i=t.XpG(2).index,o=t.XpG();t.Y8G("formGroupName",e),t.R7$(2),t.JRh(null==o.offer?null:o.offer.param.custom.rows[i].services[e].name)}}function q4(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",63),t.nrm(1,"input",64),t.j41(2,"input",50),t.bIt("keyup",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.setChange(o,!1))}),t.k0s(),t.nrm(3,"input",65)(4,"input",52),t.k0s()}if(2&n){const e=r.index,i=t.XpG(3);t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("readonly",i.kpForm.value.param.custom.one_profit)}}function P4(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",66)(1,"mat-checkbox",67),t.bIt("change",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.setChange(o,!1))}),t.k0s()()}2&n&&t.Y8G("formGroupName",r.index)}function N4(n,r){if(1&n&&(t.j41(0,"tr",56)(1,"td",57),t.nrm(2,"div",20),t.k0s(),t.j41(3,"td",57),t.DNE(4,S4,3,2,"div",58),t.k0s(),t.j41(5,"td"),t.DNE(6,q4,5,2,"div",59),t.k0s(),t.j41(7,"td"),t.DNE(8,P4,2,1,"div",60),t.k0s()()),2&n){const e=t.XpG().$implicit,i=t.XpG();t.R7$(4),t.Y8G("ngForOf",i.returnServiceControls(e)),t.R7$(2),t.Y8G("ngForOf",i.returnServiceControls(e)),t.R7$(2),t.Y8G("ngForOf",i.returnServiceControls(e))}}const Ft=function(){return{border:"none",background:"inherit"}},Et=function(){return{}};function V4(n,r){if(1&n){const e=t.RV6();t.qex(0,46),t.j41(1,"tr")(2,"td",47)(3,"div",20)(4,"button",48),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.customExpansionRow=u.customExpansionRow===s?null:s)}),t.k0s()()(),t.j41(5,"td")(6,"div",20)(7,"div",23),t.EFF(8),t.k0s(),t.j41(9,"div",24),t.EFF(10),t.k0s(),t.j41(11,"div",25),t.EFF(12),t.k0s(),t.j41(13,"div",24),t.EFF(14),t.k0s(),t.j41(15,"div",24),t.EFF(16),t.k0s(),t.j41(17,"div",26),t.EFF(18),t.k0s()()(),t.j41(19,"td")(20,"div",20)(21,"div",21),t.nrm(22,"input",49),t.k0s(),t.j41(23,"div",21)(24,"input",50),t.bIt("keyup",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.setChange(s,!0))}),t.k0s()(),t.j41(25,"div",21)(26,"input",51),t.bIt("keyup",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.setChange(s,!0))}),t.k0s()(),t.j41(27,"div",21),t.nrm(28,"input",52),t.k0s()()(),t.j41(29,"td")(30,"div",20)(31,"mat-checkbox",53),t.bIt("change",function(o){const u=t.eBV(e).index,l=t.XpG();return t.Njj(l.onMainFieldChange(l.customRows,u,o))}),t.k0s()()(),t.j41(32,"td")(33,"div",20)(34,"button",54),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.onDelRowChange(u.customRows,s))}),t.k0s()()()(),t.DNE(35,N4,9,3,"tr",55),t.bVm()}if(2&n){const e=r.index,i=t.XpG();t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("ngStyle",i.customExpansionRow==e?t.lJ4(11,Ft):t.lJ4(12,Et)),t.R7$(2),t.Y8G("ngClass",i.customExpansionRow===e?"arrow-close":"arrow-open"),t.R7$(4),t.JRh(null==i.offer?null:i.offer.param.custom.rows[e].carrier_iata),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.custom.rows[e].carrier_name),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.custom.rows[e].route_name),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.custom.rows[e].schedule),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.custom.rows[e].nearest_flight),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.custom.rows[e].transit_time),t.R7$(6),t.Y8G("readonly",i.kpForm.value.param.custom.one_profit),t.R7$(11),t.Y8G("ngIf",i.customExpansionRow==e)}}function Y4(n,r){if(1&n&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function A4(n,r){if(1&n&&(t.j41(0,"div",61)(1,"div",62),t.EFF(2),t.k0s()()),2&n){const e=r.index,i=t.XpG(2).index,o=t.XpG();t.Y8G("formGroupName",e),t.R7$(2),t.JRh(null==o.offer?null:o.offer.param.storage.rows[i].services[e].name)}}function L4(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",63),t.nrm(1,"input",64),t.j41(2,"input",50),t.bIt("keyup",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.setChange(o,!1))}),t.k0s(),t.nrm(3,"input",65)(4,"input",52),t.k0s()}if(2&n){const e=r.index,i=t.XpG(3);t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("readonly",i.kpForm.value.param.storage.one_profit)}}function X4(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",66)(1,"mat-checkbox",67),t.bIt("change",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.setChange(o,!1))}),t.k0s()()}2&n&&t.Y8G("formGroupName",r.index)}function H4(n,r){if(1&n&&(t.j41(0,"tr",56)(1,"td",57),t.nrm(2,"div",20),t.k0s(),t.j41(3,"td",57),t.DNE(4,A4,3,2,"div",58),t.k0s(),t.j41(5,"td"),t.DNE(6,L4,5,2,"div",59),t.k0s(),t.j41(7,"td"),t.DNE(8,X4,2,1,"div",60),t.k0s()()),2&n){const e=t.XpG().$implicit,i=t.XpG();t.R7$(4),t.Y8G("ngForOf",i.returnServiceControls(e)),t.R7$(2),t.Y8G("ngForOf",i.returnServiceControls(e)),t.R7$(2),t.Y8G("ngForOf",i.returnServiceControls(e))}}function U4(n,r){if(1&n){const e=t.RV6();t.qex(0,46),t.j41(1,"tr")(2,"td",47)(3,"div",20)(4,"button",48),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.storageExpansionRow=u.storageExpansionRow===s?null:s)}),t.k0s()()(),t.j41(5,"td")(6,"div",20)(7,"div",23),t.EFF(8),t.k0s(),t.j41(9,"div",30),t.EFF(10),t.k0s(),t.j41(11,"div",24),t.EFF(12),t.k0s(),t.j41(13,"div",31),t.EFF(14),t.k0s()()(),t.j41(15,"td")(16,"div",20)(17,"div",21),t.nrm(18,"input",49),t.k0s(),t.j41(19,"div",21)(20,"input",50),t.bIt("keyup",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.setChange(s,!0))}),t.k0s()(),t.j41(21,"div",21)(22,"input",51),t.bIt("keyup",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.setChange(s,!0))}),t.k0s()(),t.j41(23,"div",21),t.nrm(24,"input",52),t.k0s()()(),t.j41(25,"td")(26,"div",20)(27,"mat-checkbox",53),t.bIt("change",function(o){const u=t.eBV(e).index,l=t.XpG();return t.Njj(l.onMainFieldChange(l.storageRows,u,o))}),t.k0s()()(),t.j41(28,"td")(29,"div",20)(30,"button",54),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.onDelRowChange(u.storageRows,s))}),t.k0s()()()(),t.DNE(31,H4,9,3,"tr",55),t.bVm()}if(2&n){const e=r.index,i=t.XpG();t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("ngStyle",i.storageExpansionRow==e?t.lJ4(9,Ft):t.lJ4(10,Et)),t.R7$(2),t.Y8G("ngClass",i.storageExpansionRow===e?"arrow-close":"arrow-open"),t.R7$(4),t.JRh(null==i.offer?null:i.offer.param.storage.rows[e].carrier_iata),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.storage.rows[e].point.name),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.storage.rows[e].point_action.name),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.storage.rows[e].service_items),t.R7$(6),t.Y8G("readonly",i.kpForm.value.param.storage.one_profit),t.R7$(11),t.Y8G("ngIf",i.storageExpansionRow==e)}}function W4(n,r){if(1&n&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.code)}}function z4(n,r){if(1&n&&(t.j41(0,"div",68),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(1),t.SpI(" ",e," ")}}function Z4(n,r){if(1&n&&(t.j41(0,"div",61)(1,"div",62),t.EFF(2),t.k0s()()),2&n){const e=r.index,i=t.XpG(2).index,o=t.XpG();t.Y8G("formGroupName",e),t.R7$(2),t.JRh(null==o.offer?null:o.offer.param.delivery.rows[i].services[e].name)}}function K4(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",63),t.nrm(1,"input",64),t.j41(2,"input",50),t.bIt("keyup",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.setChange(o,!1))}),t.k0s(),t.nrm(3,"input",65)(4,"input",52),t.k0s()}if(2&n){const e=r.index,i=t.XpG(3);t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("readonly",i.kpForm.value.param.delivery.one_profit)}}function J4(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",66)(1,"mat-checkbox",67),t.bIt("change",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.setChange(o,!1))}),t.k0s()()}2&n&&t.Y8G("formGroupName",r.index)}function Q4(n,r){if(1&n&&(t.j41(0,"tr",56)(1,"td",57),t.nrm(2,"div",20),t.k0s(),t.j41(3,"td",57),t.DNE(4,Z4,3,2,"div",58),t.k0s(),t.j41(5,"td"),t.DNE(6,K4,5,2,"div",59),t.k0s(),t.j41(7,"td"),t.DNE(8,J4,2,1,"div",60),t.k0s()()),2&n){const e=t.XpG().$implicit,i=t.XpG();t.R7$(4),t.Y8G("ngForOf",i.returnServiceControls(e)),t.R7$(2),t.Y8G("ngForOf",i.returnServiceControls(e)),t.R7$(2),t.Y8G("ngForOf",i.returnServiceControls(e))}}function tl(n,r){if(1&n){const e=t.RV6();t.qex(0,46),t.j41(1,"tr")(2,"td",47)(3,"div",20)(4,"button",48),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.deliveryExpansionRow=u.deliveryExpansionRow===s?null:s)}),t.k0s()()(),t.j41(5,"td")(6,"div",20)(7,"div",68),t.EFF(8),t.k0s(),t.j41(9,"div",68),t.EFF(10),t.k0s(),t.j41(11,"div",68),t.EFF(12),t.k0s()()(),t.j41(13,"td")(14,"div",20)(15,"div",21),t.nrm(16,"input",49),t.k0s(),t.j41(17,"div",21)(18,"input",50),t.bIt("keyup",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.setChange(s,!0))}),t.k0s()(),t.j41(19,"div",21)(20,"input",51),t.bIt("keyup",function(){const s=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.setChange(s,!0))}),t.k0s()(),t.j41(21,"div",21),t.nrm(22,"input",52),t.k0s()()(),t.j41(23,"td")(24,"div",20)(25,"mat-checkbox",53),t.bIt("change",function(o){const u=t.eBV(e).index,l=t.XpG();return t.Njj(l.onMainFieldChange(l.deliveryRows,u,o))}),t.k0s()()(),t.j41(26,"td")(27,"div",20)(28,"button",54),t.bIt("click",function(){const s=t.eBV(e).index,u=t.XpG();return t.Njj(u.onDelRowChange(u.deliveryRows,s))}),t.k0s()()()(),t.DNE(29,Q4,9,3,"tr",55),t.bVm()}if(2&n){const e=r.index,i=t.XpG();t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("ngStyle",i.deliveryExpansionRow==e?t.lJ4(8,Ft):t.lJ4(9,Et)),t.R7$(2),t.Y8G("ngClass",i.deliveryExpansionRow===e?"arrow-close":"arrow-open"),t.R7$(4),t.JRh(null==i.offer?null:i.offer.param.delivery.rows[e].service_items),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.delivery.rows[e].route_name),t.R7$(2),t.JRh(null==i.offer?null:i.offer.param.delivery.rows[e].period),t.R7$(6),t.Y8G("readonly",i.kpForm.value.param.delivery.one_profit),t.R7$(11),t.Y8G("ngIf",i.deliveryExpansionRow==e)}}function el(n,r){1&n&&(t.j41(0,"h1",69),t.EFF(1,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"),t.k0s(),t.j41(2,"div",70),t.EFF(3," \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 ? "),t.k0s(),t.j41(4,"div",71)(5,"button",72),t.EFF(6,"\u0414\u0430"),t.k0s(),t.j41(7,"button",73),t.EFF(8,"\u041d\u0435\u0442"),t.k0s()()),2&n&&(t.R7$(5),t.Y8G("mat-dialog-close",!0))}const nl=function(){return["\u0422\u0438\u043f \u0422\u0421","\u041c\u0430\u0440\u0448\u0440\u0443\u0442","\u0421\u0440\u043e\u043a, \u0434\u043d."]},il=[{path:"",component:_s,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:pi,pathMatch:"full",title:"\u0414\u0430\u0448\u0431\u043e\u0430\u0440\u0434"},{path:"offer/:id",component:(()=>{class n{constructor(e,i,o,s,u,l,x){this.route=e,this.fb=i,this.requestService=o,this.systemService=s,this.snackBar=u,this.matDialog=l,this.orderService=x,this.xlsxMimeType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",this.customExpansionRow=-1,this.deliveryExpansionRow=-1,this.storageExpansionRow=-1,this.currencyList=[],this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:3e3},this._destroy$=new w.B,this.calckStatus=!1}ngOnInit(){const e=this.route.snapshot.url.map(i=>i.path);this.offerId=e[1],this.kpForm=this.fb.group({uid:["",a.k0.required],param:this.fb.group({custom:this.createParamGroup(),storage:this.createParamGroup(),delivery:this.createParamGroup()}),valid:["",a.k0.required],status:[0,a.k0.required],comment:[""]}),this.getOffer(),this.getCurrency(),this.kpForm.valueChanges.pipe((0,O.B)(1500),(0,b.F)(),(0,p.Q)(this._destroy$)).subscribe(i=>{this.calckStatus?(console.log("lalala",i),this.getCalckOffer(i)):console.log("no lalala")})}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}returnVisibilityOrdBtn(){function e(i){return i.some(o=>!0===o.main)}return e(this.customRows.value)&&e(this.storageRows.value)&&e(this.deliveryRows.value)}onMainFieldChange(e,i,{checked:o}){o&&e.controls.forEach((s,u)=>{this.log(s),u!==i&&s.patchValue({main:!1})})}log(e){console.log("log",e)}onValidChange(e){this.kpForm.patchValue({valid:(0,d.Yq)(this.kpForm.value.valid,"yyyy-MM-dd","en-US")})}validReset(){this.kpForm.controls.valid.reset()}returnValid(){return this.kpForm.value.valid?(0,d.Yq)(this.kpForm.value.valid,"dd MMMM yyyy","ru-US"):""}getVal(e,i){if(!i.includes("/"))return void 0!==e[i]?e[i]:null;const o=i.split("/");for(const s of o){if(!e||!e.hasOwnProperty(s))return null;e=e[s]}return void 0!==e?e:null}setChange(e,i){this.calckStatus=!0,e&&i&&e.patchValue({profit_changed:i}),e&&(this.customRows.controls.forEach((o,s,u)=>{o!==e&&o.patchValue({profit_changed:!1})}),this.storageRows.controls.forEach((o,s,u)=>{o!==e&&o.patchValue({profit_changed:!1})}),this.deliveryRows.controls.forEach((o,s,u)=>{o!==e&&o.patchValue({profit_changed:!1})}))}resetAmount(e){e.controls.one_profit_amount.reset()}resetPercent(e){e.controls.one_profit_percent.reset()}onExpansionRowClick(){}onDelRowChange(e,i){this.matDialog.open(this.delRateDialogRef).afterClosed().subscribe(o=>{o&&(this.delRate(e.value[i].id),e.removeAt(i))})}createParamGroup(){return this.fb.group({one_profit:[!0],one_profit_amount:[0],one_profit_amount_currency:[0],one_profit_percent:[0],detail_items:[!0],rows:this.fb.array([this.createRow()])})}createRow(){return this.fb.group({id:[0],main:[!1],income_total_cost:[0],profit_amount:[0],profit_percent:[0],total_cost:[0],profit_changed:[!1],services:this.fb.array([this.createService()])})}createService(){return this.fb.group({cost:[0],field:[""],profit_amount:[0],profit_percent:[0],total_cost:[0],select:[!0]})}resetPage(){location.reload()}get customRows(){return this.kpForm.get("param.custom.rows")}get storageRows(){return this.kpForm.get("param.storage.rows")}get deliveryRows(){return this.kpForm.get("param.delivery.rows")}returnRows(e){return this.kpForm.get(`param.${e}.rows`)}returnServiceControls(e){return e.get("services").controls}addCustomRow(){const e=this.createRow();this.customRows.push(e)}addStorageRow(){const e=this.createRow();this.storageRows.push(e)}addDeliveryRow(){const e=this.createRow();this.deliveryRows.push(e)}addServiceCustom(e){const o=this.customRows.at(e).get("services"),s=this.createService();o.push(s)}addServiceStorage(e){const o=this.storageRows.at(e).get("services"),s=this.createService();o.push(s)}addServiceDelivery(e){const o=this.deliveryRows.at(e).get("services"),s=this.createService();o.push(s)}onSubmit(){this.saveOffer(),this.kpForm.valid?console.log(this.kpForm.value):console.log("Form is invalid",this.kpForm.value)}onCreateOrder(){this.requestService.requestOfferSave({body:this.kpForm.value}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.createOrder()},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}createOrder(){this.orderService.orderMakeFromOffer({body:{id:this.offer.id}}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.snackBar.open("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}saveOffer(){this.requestService.requestOfferSave({body:this.kpForm.value}).pipe((0,g.M)(e=>{console.log(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.snackBar.open("\u041a\u043f \u0443\u0446\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e",void 0,this.snackBarWithShortDuration)},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043f: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}delRate(e){this.requestService.requestOfferDelRate({id:this.offer.id,rate_id:e}).pipe((0,g.M)(i=>{console.log(i)}),(0,p.Q)(this._destroy$)).subscribe({next:i=>{this.snackBar.open("\u041a\u043f \u0443\u0446\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e",void 0,this.snackBarWithShortDuration)},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043f: "+i.error.error_message,void 0,this.snackBarWithShortDuration)}})}getOffer(){this.requestService.requestOfferInfo({id:this.offerId}).pipe((0,g.M)(e=>{console.log(e),this.calckStatus=!1,this.fillFormWithData(e)}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{console.log("Data loaded successfully"),this.offer=e,this.getRequest()},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getCalckOffer(e){this.requestService.requestOfferCalc({body:e}).pipe((0,g.M)(i=>{console.log(i),this.calckStatus=!1,this.fillFormWithData(i)}),(0,p.Q)(this._destroy$)).subscribe({next:i=>{console.log("Data loaded successfully")},error:i=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+i.error?.error_message,void 0,this.snackBarWithShortDuration)}})}getRequest(){this.requestService.requestInfo({id:this.offer.request_id}).pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.request=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getCurrency(){this.systemService.systemCurrency().pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:e=>{this.currencyList=e},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getOfferTxt(){this.requestService.requestOfferTxt({body:{id:this.offer.id}}).pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:({name:e,data:i})=>{const o=`data:${this.xlsxMimeType};base64,${i}`,s=document.createElement("a");s.href=o,s.download=e,s.click()},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}getOfferPdf(){this.requestService.requestOfferPdf({body:{id:this.offer.id}}).pipe((0,g.M)(e=>{}),(0,p.Q)(this._destroy$)).subscribe({next:({name:e,data:i})=>{const o=`data:${this.xlsxMimeType};base64,${i}`,s=document.createElement("a");s.href=o,s.download=e,s.click()},error:e=>{this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043b\u044e\u0442: "+e.error.error_message,void 0,this.snackBarWithShortDuration)}})}fillFormWithData(e){this.kpForm.patchValue({uid:e.uid,valid:e.valid,status:e.status,comment:e.comment}),this.kpForm.get("param")?.patchValue({custom:e.param.custom,storage:e.param.storage,delivery:e.param.delivery}),this.loadRowsData(this.customRows,e.param.custom.rows),this.loadRowsData(this.storageRows,e.param.storage.rows),this.loadRowsData(this.deliveryRows,e.param.delivery.rows)}loadRowsData(e,i){for(;e.length;)e.removeAt(0);i.forEach(o=>{const s=this.fb.group({id:[o.id],income_total_cost:[o.income_total_cost],profit_percent:[o.profit_percent],profit_amount:[o.profit_amount],total_cost:[o.total_cost],profit_changed:[!1],main:[o.main],services:this.fb.array(o.services.map(u=>this.fb.group({field:[u.field],profit_amount:[u.profit_amount],profit_percent:[u.profit_percent],select:[u.select],cost:[u.cost],total_cost:[u.total_cost]})))});e.push(s)})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(F.nX),t.rXU(a.ok),t.rXU(D.By),t.rXU(D.V9),t.rXU(q.UG),t.rXU(E.bZ),t.rXU(D.QE))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-offer-editor"]],viewQuery:function(i,o){if(1&i&&t.GBs(B4,5),2&i){let s;t.mGM(s=t.lsd())&&(o.delRateDialogRef=s.first)}},decls:207,vars:18,consts:[[3,"title","content","request"],["btns","",1,"btns",2,"margin-top","0"],["type","button",1,"ord",3,"click"],["type","submit",1,"sav",3,"click"],["type","button",1,"pdf",3,"click"],["type","button",1,"txt",3,"click"],["type","button",1,"can",3,"click"],[1,"edit-form",2,"width","1488px",3,"formGroup","ngSubmit"],["formGroupName","param",1,"table-form"],[1,"table_title"],["formGroupName","custom",1,"block"],[1,"one_profit"],["formControlName","one_profit",1,"testclass",3,"change"],["type","number","formControlName","one_profit_amount",3,"keyup"],["appearance","outline",1,"ui-select"],["formControlName","one_profit_amount_currency",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","one_profit_percent",3,"keyup"],["formControlName","detail_items",1,"testclass",2,"margin-left","auto",3,"change"],[1,"kp"],[1,"td-block"],[1,"column"],[1,"border-n"],[1,"column",2,"width","5%"],[1,"column",2,"width","15%"],[1,"column",2,"width","35%"],[1,"column",2,"width","10%"],["formArrayName","rows"],[3,"formGroupName",4,"ngFor","ngForOf"],["formGroupName","storage",1,"block"],[1,"column",2,"width","25%"],[1,"column",2,"width","55%"],["formGroupName","delivery",1,"block"],["class","column","style","width: 100px;",4,"ngFor","ngForOf"],[1,"block",2,"display","flex","align-items","flex-start"],[1,"dop"],[1,"datepiker"],[3,"click"],[1,"btn-date",3,"click"],["formControlName","valid","readonly","",1,"test",2,"z-index","-1","width","1px",3,"matDatepicker","dateChange"],["picker",""],["formControlName","comment",2,"max-width","1200px"],[1,"btns"],["type","submit",1,"sav"],["delRateDialogRef",""],[3,"value"],[3,"formGroupName"],[3,"ngStyle"],["type","button",3,"ngClass","click"],["type","number","formControlName","income_total_cost","readonly",""],["type","number","formControlName","profit_amount",3,"readonly","keyup"],["type","number","formControlName","profit_percent","readonly","",3,"keyup"],["type","number","formControlName","total_cost","readonly",""],["formControlName","main",1,"testclass",2,"margin","0 auto",3,"change"],["type","button",1,"btn-del",3,"click"],["formArrayName","services","class","expan-row",4,"ngIf"],["formArrayName","services",1,"expan-row"],[2,"background","inherit"],["class","service titles",3,"formGroupName",4,"ngFor","ngForOf"],["class","service inputs",3,"formGroupName",4,"ngFor","ngForOf"],["class","service checkboxs",3,"formGroupName",4,"ngFor","ngForOf"],[1,"service","titles",3,"formGroupName"],[1,"title"],[1,"service","inputs",3,"formGroupName"],["type","number","formControlName","cost","readonly","",2,"border","none"],["type","number","formControlName","profit_percent","readonly",""],[1,"service","checkboxs",3,"formGroupName"],["formControlName","select",1,"testclass",3,"change"],[1,"column",2,"width","100px"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"app-editor-header",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return o.onCreateOrder()}),t.EFF(3,"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return o.onSubmit()}),t.EFF(5,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s(),t.j41(6,"button",4),t.bIt("click",function(){return o.getOfferPdf()}),t.EFF(7,"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return o.getOfferTxt()}),t.EFF(9,"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),t.k0s(),t.j41(10,"button",6),t.bIt("click",function(){return o.resetPage()}),t.EFF(11,"\u043e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()(),t.j41(12,"form",7),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(13,"div",8)(14,"div",9)(15,"span"),t.EFF(16,"\u0421\u0442\u0430\u0432\u043a\u0438:"),t.k0s(),t.j41(17,"div"),t.EFF(18,"\u0414\u043e \u0433\u0440\u0430\u043d\u0438\u0446\u044b"),t.k0s()(),t.j41(19,"div",10)(20,"div",11)(21,"mat-checkbox",12),t.bIt("change",function(){return o.setChange()}),t.k0s(),t.j41(22,"p"),t.EFF(23,"\u0415\u0434\u0438\u043d\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u0442 \u043d\u0430 \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"),t.k0s(),t.j41(24,"input",13),t.bIt("keyup",function(){return o.setChange(),o.resetPercent(o.kpForm.get("param.custom"))}),t.k0s(),t.j41(25,"mat-form-field",14)(26,"mat-select",15),t.bIt("valueChange",function(){return o.setChange()}),t.DNE(27,I4,2,2,"mat-option",16),t.k0s()(),t.EFF(28," \u0438\u043b\u0438 "),t.j41(29,"input",17),t.bIt("keyup",function(){return o.setChange(),o.resetAmount(o.kpForm.get("param.custom"))}),t.k0s(),t.j41(30,"p"),t.EFF(31,"%"),t.k0s(),t.j41(32,"mat-checkbox",18),t.bIt("change",function(){return o.setChange()}),t.k0s(),t.EFF(33," \u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 \u0432 \u041a\u041f "),t.k0s(),t.j41(34,"table",19)(35,"thead")(36,"tr")(37,"th")(38,"div",20),t.nrm(39,"div",21),t.k0s()(),t.j41(40,"th",22)(41,"div",20)(42,"div",23),t.EFF(43,"Air"),t.k0s(),t.j41(44,"div",24),t.EFF(45,"\u0410\u0432\u0438\u0430\u043b\u0438\u043d\u0438\u044f"),t.k0s(),t.j41(46,"div",25),t.EFF(47,"\u041c\u0430\u0440\u0448\u0440\u0443\u0442"),t.k0s(),t.j41(48,"div",24),t.EFF(49,"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.k0s(),t.j41(50,"div",24),t.EFF(51,"\u0415\u0441\u0442\u044c \u043c\u0435\u0441\u0442\u043e"),t.k0s(),t.j41(52,"div",26),t.EFF(53,"\u0421\u0440\u043e\u043a, \u0434\u043d."),t.k0s()()(),t.j41(54,"th")(55,"div",20)(56,"div",21),t.EFF(57,"\u0412\u0445\u043e\u0434"),t.k0s(),t.j41(58,"div",21),t.EFF(59,"\u041f\u0440\u043e\u0444\u0438\u0442"),t.k0s(),t.j41(60,"div",21),t.EFF(61,"%"),t.k0s(),t.j41(62,"div",21),t.EFF(63,"\u0421\u0442\u0430\u0432\u043a\u0430"),t.k0s()()(),t.j41(64,"th")(65,"div",20)(66,"div",21),t.EFF(67,"\u0417\u0430\u043a\u0430\u0437"),t.k0s()()(),t.j41(68,"th")(69,"div",20),t.nrm(70,"div",21),t.k0s()()()(),t.j41(71,"tbody",27),t.DNE(72,V4,36,13,"ng-container",28),t.k0s()()(),t.j41(73,"div",9)(74,"span"),t.EFF(75,"\u0421\u0442\u0430\u0432\u043a\u0438:"),t.k0s(),t.j41(76,"div"),t.EFF(77,"\u0421\u043a\u043b\u0430\u0434 (\u0421\u0412\u0425)"),t.k0s()(),t.j41(78,"div",29)(79,"div",11)(80,"mat-checkbox",12),t.bIt("change",function(){return o.setChange()}),t.k0s(),t.j41(81,"p"),t.EFF(82,"\u0415\u0434\u0438\u043d\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u0442 \u043d\u0430 \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"),t.k0s(),t.j41(83,"input",13),t.bIt("keyup",function(){return o.setChange(),o.resetPercent(o.kpForm.get("param.storage"))}),t.k0s(),t.j41(84,"mat-form-field",14)(85,"mat-select",15),t.bIt("valueChange",function(){return o.setChange()}),t.DNE(86,Y4,2,2,"mat-option",16),t.k0s()(),t.EFF(87," \u0438\u043b\u0438 "),t.j41(88,"input",17),t.bIt("keyup",function(){return o.setChange(),o.resetAmount(o.kpForm.get("param.storage"))}),t.k0s(),t.j41(89,"p"),t.EFF(90,"%"),t.k0s(),t.j41(91,"mat-checkbox",18),t.bIt("change",function(){return o.setChange()}),t.k0s(),t.EFF(92," \u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 \u0432 \u041a\u041f "),t.k0s(),t.j41(93,"table",19)(94,"thead")(95,"tr")(96,"th")(97,"div",20),t.nrm(98,"div",21),t.k0s()(),t.j41(99,"th",22)(100,"div",20)(101,"div",23),t.EFF(102,"Air"),t.k0s(),t.j41(103,"div",30),t.EFF(104,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430"),t.k0s(),t.j41(105,"div",24),t.EFF(106,"\u0412\u0438\u0434 \u043f\u0440\u0430\u0439\u0441\u0430"),t.k0s(),t.j41(107,"div",31),t.EFF(108,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0435\u0439 \u0437\u0430\u0442\u0440\u0430\u0442"),t.k0s()()(),t.j41(109,"th")(110,"div",20)(111,"div",21),t.EFF(112,"\u0412\u0445\u043e\u0434"),t.k0s(),t.j41(113,"div",21),t.EFF(114,"\u041f\u0440\u043e\u0444\u0438\u0442"),t.k0s(),t.j41(115,"div",21),t.EFF(116,"%"),t.k0s(),t.j41(117,"div",21),t.EFF(118,"\u0421\u0442\u0430\u0432\u043a\u0430"),t.k0s()()(),t.j41(119,"th")(120,"div",20)(121,"div",21),t.EFF(122,"\u0417\u0430\u043a\u0430\u0437"),t.k0s()()(),t.j41(123,"th")(124,"div",20),t.nrm(125,"div",21),t.k0s()()()(),t.j41(126,"tbody",27),t.DNE(127,U4,32,11,"ng-container",28),t.k0s()()(),t.j41(128,"div",9)(129,"span"),t.EFF(130,"\u0421\u0442\u0430\u0432\u043a\u0438:"),t.k0s(),t.j41(131,"div"),t.EFF(132,"\u0412\u044b\u0432\u043e\u0437"),t.k0s()(),t.j41(133,"div",32)(134,"div",11)(135,"mat-checkbox",12),t.bIt("change",function(){return o.setChange()}),t.k0s(),t.j41(136,"p"),t.EFF(137,"\u0415\u0434\u0438\u043d\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u0442 \u043d\u0430 \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"),t.k0s(),t.j41(138,"input",13),t.bIt("keyup",function(){return o.setChange(),o.resetPercent(o.kpForm.get("param.delivery"))}),t.k0s(),t.j41(139,"mat-form-field",14)(140,"mat-select",15),t.bIt("valueChange",function(){return o.setChange()}),t.DNE(141,W4,2,2,"mat-option",16),t.k0s()(),t.EFF(142," \u0438\u043b\u0438 "),t.j41(143,"input",17),t.bIt("keyup",function(){return o.setChange(),o.resetAmount(o.kpForm.get("param.delivery"))}),t.k0s(),t.j41(144,"p"),t.EFF(145,"%"),t.k0s(),t.j41(146,"mat-checkbox",18),t.bIt("change",function(){return o.setChange()}),t.k0s(),t.EFF(147," \u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 \u0432 \u041a\u041f "),t.k0s(),t.j41(148,"table",19)(149,"thead")(150,"tr")(151,"th")(152,"div",20),t.nrm(153,"div",21),t.k0s()(),t.j41(154,"th",22)(155,"div",20),t.DNE(156,z4,2,1,"div",33),t.k0s()(),t.j41(157,"th")(158,"div",20)(159,"div",21),t.EFF(160,"\u0412\u0445\u043e\u0434"),t.k0s(),t.j41(161,"div",21),t.EFF(162,"\u041f\u0440\u043e\u0444\u0438\u0442"),t.k0s(),t.j41(163,"div",21),t.EFF(164,"%"),t.k0s(),t.j41(165,"div",21),t.EFF(166,"\u0421\u0442\u0430\u0432\u043a\u0430"),t.k0s()()(),t.j41(167,"th")(168,"div",20)(169,"div",21),t.EFF(170,"\u0417\u0430\u043a\u0430\u0437"),t.k0s()()(),t.j41(171,"th")(172,"div",20),t.nrm(173,"div",21),t.k0s()()()(),t.j41(174,"tbody",27),t.DNE(175,tl,30,10,"ng-container",28),t.k0s()()()(),t.j41(176,"div",9)(177,"div"),t.EFF(178,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),t.k0s()(),t.j41(179,"div",34)(180,"div",35)(181,"span"),t.EFF(182,"\u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043e:"),t.k0s(),t.j41(183,"div",36)(184,"div",37),t.bIt("click",function(){return o.validReset()}),t.EFF(185),t.k0s(),t.j41(186,"div",38),t.bIt("click",function(){t.eBV(s);const l=t.sdS(189);return t.Njj(l.open())}),t.k0s()(),t.j41(187,"input",39),t.bIt("dateChange",function(l){return o.onValidChange(l)}),t.k0s(),t.nrm(188,"mat-datepicker",null,40),t.k0s(),t.j41(190,"div",35)(191,"span"),t.EFF(192,"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044e:"),t.k0s(),t.nrm(193,"textarea",41),t.k0s()(),t.j41(194,"div",42)(195,"button",2),t.bIt("click",function(){return o.onSubmit()}),t.EFF(196,"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),t.k0s(),t.j41(197,"button",43),t.EFF(198,"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.k0s(),t.j41(199,"button",4),t.bIt("click",function(){return o.getOfferPdf()}),t.EFF(200,"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),t.k0s(),t.j41(201,"button",5),t.bIt("click",function(){return o.getOfferTxt()}),t.EFF(202,"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),t.k0s(),t.j41(203,"button",6),t.bIt("click",function(){return o.resetPage()}),t.EFF(204,"\u043e\u0442\u043c\u0435\u043d\u0430"),t.k0s()()(),t.DNE(205,el,9,1,"ng-template",null,44,t.C5r)}if(2&i){const s=t.sdS(189);t.Y8G("title","\u041d\u043e\u0432\u043e\u0435 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435")("content",!0)("request",o.request),t.R7$(2),t.xc7("visibility",o.returnVisibilityOrdBtn()?"visible":"hidden"),t.R7$(10),t.Y8G("formGroup",o.kpForm),t.R7$(15),t.Y8G("ngForOf",o.currencyList),t.R7$(45),t.Y8G("ngForOf",o.customRows.controls),t.R7$(14),t.Y8G("ngForOf",o.currencyList),t.R7$(41),t.Y8G("ngForOf",o.storageRows.controls),t.R7$(14),t.Y8G("ngForOf",o.currencyList),t.R7$(15),t.Y8G("ngForOf",t.lJ4(17,nl)),t.R7$(19),t.Y8G("ngForOf",o.deliveryRows.controls),t.R7$(10),t.JRh(o.returnValid()),t.R7$(2),t.Y8G("matDatepicker",s),t.R7$(8),t.xc7("visibility",o.returnVisibilityOrdBtn()?"visible":"hidden")}},dependencies:[d.YU,d.Sq,d.bT,d.B3,a.qT,a.me,a.Q0,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,E.tx,E.BI,E.Yi,E.E7,f.rl,C.VO,B.wT,st.So,j.$z,_.Vh,_.bZ,ot.S],styles:['.block{background-color:#fff;padding:40px;border:1px solid #C3CCD6;box-shadow:0 2px 8px #242d4314}.block .dop{display:flex;flex-direction:column;margin-right:20px;font-size:10px;font-weight:400;line-height:10px;text-align:left;min-width:155px}.block .dop span{margin-bottom:11px;text-transform:uppercase}.block .dop:last-child{width:100%;margin-right:0}input[type=date]{background:inherit;border:none;color:#db563b;width:115px;padding:11px 0 9px;font-size:15px;font-weight:400;line-height:14px;text-align:left}input[type=date]::-webkit-calendar-picker-indicator{cursor:pointer;background-image:url(pic-btn-calendar.ab2f9b4231784ae2.svg);width:14px;height:14px}textarea{font-family:regular,arial,"sans-serif";background:#F7F9FC;border:1px solid #E0E5EB;color:#2c3640;font-size:15px;line-height:15px;border-radius:6px;width:60%;box-sizing:border-box;padding:11px 13px 9px;height:105px}.table_title{display:flex;margin:20px 0;font-size:24px;font-weight:700;line-height:24px}.table_title div{color:#2c3640}.table_title span{color:#606a74;margin-right:5px}.one_profit{display:flex;align-items:center;margin-bottom:20px;gap:10px;width:100%}.one_profit input,.one_profit mat-form-field{width:90px;height:40px}.one_profit p{font-size:15px;font-weight:400;line-height:14px;color:#2c3640}input[type=number]{appearance:textfield}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{display:none}table.kp tr .td:nth-child(3),table.kp tr th:nth-child(3){width:30%}table.kp tr td:last-child,table.kp tr td:first-child,table.kp tr th:first-child,table.kp tr th:last-child,table.kp tr td:nth-last-child(2),table.kp tr th:nth-last-child(2){width:64px}.table-form table tr:nth-child(odd) td{background:inherit}.table-form table tr td:nth-child(1),.table-form table tr td:nth-child(2){background:#F7F9FC}.table-form table tr th:nth-child(3) .column{text-align:center}table.kp thead{border:1px solid #83909E;border-bottom:none}table.kp tbody{font-size:13px;font-weight:400;text-align:left;color:#2c3640;border:1px solid #E0E5EB;border-top:none}table.kp tr.expan-row .service{display:flex;height:40px;padding:8px 0;align-items:center}table.kp tr.expan-row .service.titles .title{margin-left:auto;margin-right:16px}table.kp tr.expan-row .service.inputs{margin:0 16px;gap:16px}table.kp tr.expan-row .service.inputs .title{margin-left:auto}table.kp tr.expan-row .service.checkboxs .testclass{margin:0 auto}table.kp button{cursor:pointer;margin:0 auto}table.kp input{width:85px}table.kp .arrow-open{width:20px;height:20px;background-image:url(pic-select-arrow.bcb0ba9a89949372.svg);background-repeat:no-repeat;background-position:center;margin:0 auto;border:none;background-color:inherit}table.kp .arrow-close{width:20px;height:20px;background-image:url(pic-filter-arrow.976bf110a39b5e9d.svg);background-repeat:no-repeat;background-position:center;margin:0 auto;border:none;background-color:inherit}table.kp .btn-del{width:20px;height:20px;background-image:url(pic-btn-del-gray.841cf291092986ee.svg);background-repeat:no-repeat;background-position:center;margin:0 auto;border:none;background-color:inherit}.btns{display:flex;margin-top:40px;gap:12px}.btns button{width:80px;height:56px;border:none;cursor:pointer;border-radius:6px;box-shadow:0 2px 8px #2c364021;padding:0;font-size:10px;font-weight:400;line-height:10px;text-align:center;text-transform:uppercase}.btns .ord{background-color:#4b66ad;color:#fff;margin-left:auto;width:90px}.btns .ord:before{display:block;content:"";width:16px;height:16px;background-image:url(pic-btn-save.288fc12aac0e3ef7.svg);background-repeat:no-repeat;margin:0 auto 8px}.btns .sav{background-color:#db563b;color:#fff}.btns .sav:before{display:block;content:"";width:16px;height:16px;background-image:url(pic-btn-save.288fc12aac0e3ef7.svg);background-repeat:no-repeat;margin:0 auto 8px}.btns .pdf{background-color:#fff;color:#2c3640}.btns .pdf:before{display:block;content:"";width:28px;height:16px;background-image:url(pic-btn-pdf-border.e444c5337ccb6fba.svg);background-repeat:no-repeat;margin:0 auto 8px}.btns .txt{background-color:#fff;color:#2c3640}.btns .txt:before{display:block;content:"";width:28px;height:16px;background-image:url(pic-btn-txt.fdc7fc0975db36c8.svg);background-repeat:no-repeat;margin:0 auto 8px}.btns .can{background-color:#606a74;color:#fff;width:64px}.btns .can:before{display:block;content:"";width:14px;height:14px;background-image:url(pic-btn-cancel.7572db71ea38f449.svg);background-repeat:no-repeat;margin:0 auto 8px}\n'],encapsulation:2})}}return n})(),pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043f",canActivate:[V]},{path:"request",component:co,pathMatch:"full",title:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b",canActivate:[V]},{path:"request/edit/:id",component:Nt,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",canActivate:[V]},{path:"request/add",component:Nt,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",canActivate:[V]},{path:"request/edit/translate/:id",component:va,pathMatch:"full",title:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",canActivate:[V]},{path:"request/rate/:uid",component:ka.H,pathMatch:"full",title:"Rate"},{path:"request/details/final/:id",component:J,pathMatch:"full",title:"Request Details",canActivate:[V]},{path:"request/details/customs/:id",component:J,pathMatch:"full",title:"Request Details",canActivate:[V]},{path:"request/details/point/:id",component:J,pathMatch:"full",title:"Request Details",canActivate:[V]},{path:"request/details/transporter/:id",component:J,pathMatch:"full",title:"Request Details",canActivate:[V]},{path:"request/details/other/:id",component:J,pathMatch:"full",title:"Request Details",canActivate:[V]},{path:"request/bidding/:id",component:It,pathMatch:"full",title:"\u0422\u043e\u0440\u0433\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",canActivate:[V]},{path:"bit",component:M,pathMatch:"full",title:"\u0421\u0442\u0430\u0432\u043a\u0438",canActivate:[V]},{path:"order",component:$i,title:"\u0417\u0430\u043a\u0430\u0437\u044b",canActivate:[V]},{path:"tariff",component:as,pathMatch:"full",title:"\u0422\u0430\u0440\u0438\u0444\u044b",canActivate:[V]},{path:"contractor",component:It,pathMatch:"full",title:"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0438",canActivate:[V]},{path:"contractor/add",component:Ot,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430",canActivate:[V]},{path:"contractor/edit/:id",component:Ot,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a\u0430",canActivate:[V]},{path:"report",component:Oi,pathMatch:"full",title:"\u041e\u0442\u0447\u0435\u0442\u044b",canActivate:[V]},{path:"customer",component:Ye,pathMatch:"full",title:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b",canActivate:[V]},{path:"customer/add",component:Yt,pathMatch:"full",title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",canActivate:[V]},{path:"customer/edit/:id",component:Yt,pathMatch:"full",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",canActivate:[V]},{path:"guide",component:mi,pathMatch:"full",title:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a",canActivate:[V]},{path:"settings",loadChildren:()=>m.e(796).then(m.bind(m,796)).then(n=>n.SettingsModule),canActivate:[V]}]}];let ol=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[F.iI.forChild(il),F.iI]})}}return n})();var Lt=m(89);let rl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,a.YN,a.X1,Lt.G]})}}return n})();var sl=m(2889);let al=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,ol,a.YN,a.X1,Lt.G,rl,sl.Id]})}}return n})()}}]);