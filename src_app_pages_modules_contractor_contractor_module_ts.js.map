{"version":3,"file":"src_app_pages_modules_contractor_contractor_module_ts.js","mappings":";;;;;;;;;;;;;AAAO,MAAMA,iBAAiB,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAU;;;;;;;;;;;;;;;;;;;;;;;;;ACEP;AAE3I;AACY;AACe;AACW;;;;;;;;;;ICD7DQ,gEAAA,GAA0F;;;;;IAoB1FA,gEAAA,GAA8F;;;;;IAU9FA,gEAAA,GAA2F;;;;;IAS3FA,gEAAA,GAA2F;;;;;IAO3FA,gEAAA,GAAkG;;;;;IAOlGA,gEAAA,GAA2F;;;;;IAQ3FA,gEAAA,GAA2F;;;;;IAO3FA,gEAAA,GAA8F;;;;;IAO9FA,gEAAA,GAA8F;;;;;IAO9FA,gEAAA,GAA4F;;;;;IAwBlGA,4DAAA,gBAA2G;IACzGA,oDAAA,uHACF;IAAAA,0DAAA,EAAY;;;;;IAFZA,wDAAA,IAAAM,0DAAA,wBAEY;;;;;IAFAN,wDAAA,SAAAQ,OAAA,CAAAC,WAAA,CAAAC,QAAA,CAAAC,SAAA,EAAAC,QAAA,gBAAAJ,OAAA,CAAAC,WAAA,CAAAC,QAAA,CAAAC,SAAA,EAAAE,OAAA,CAA6F;;;;;IAMzGb,4DAAA,eAAiD;IAAAA,oDAAA,aAAC;IAAAA,0DAAA,EAAO;;;;;IAAzDA,wDAAA,IAAAc,qDAAA,mBAAyD;;;;;IAAlDd,wDAAA,SAAAe,OAAA,CAAAC,eAAA,CAAAC,SAAA,EAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AD5F/B,MAAOC,sBAAsB;EAiBjCC,YACUC,EAAe;IAAf,KAAAA,EAAE,GAAFA,EAAE;IAhBH,KAAAC,SAAS,GAAc,EAAE;IAEzB,KAAAC,cAAc,GAAW,EAAE;IAC3B,KAAAC,iBAAiB,GAAU,KAAK;IAChC,KAAAzB,cAAc,GAAGA,oEAAc;IACxC,KAAA0B,WAAW,GAAY1B,oEAAc;IAErC,KAAA2B,oBAAoB,GAAG,KAAK;IAE5B,KAAAC,QAAQ,GAAIC,KAAuB,IAAI,CAAG,CAAC;IAC3C,KAAAC,SAAS,GAAG,MAAK,CAAG,CAAC;IACrB,KAAAC,QAAQ,GAAG,IAAIjC,yCAAO,EAAQ;IAEtB,KAAAiB,OAAO,GAAG,KAAK;IAKrB,IAAI,CAACJ,WAAW,GAAG,IAAI,CAACW,EAAE,CAACU,KAAK,CAAC;MAC/BC,EAAE,EAAE,EAAE;MACNC,aAAa,EAAE,EAAE;MACjBC,IAAI,EAAE,CAAC,EAAE,CAAC;MACV;MACA;MACA;MACAC,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,KAAK,EAAE,CAAC,EAAE,CAAC;MACXC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;MACtBC,KAAK,EAAE,CAAC,EAAE,CAAC;MACXC,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;MACfC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;MAClBC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;MAClBC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;MAChB;MACAC,KAAK,EAAE,CAAC,EAAE,CAAC;MACX;MACA;MACA;MACA;MACA;MAEA;MAEAC,SAAS,EAAC,CAAC,EAAE;KAEd,CAAC;EACJ;EAEAC,UAAUA,CAACC,OAAyB;IAClC,IAAI,CAACpC,WAAW,CAACqC,UAAU,CAACD,OAAO,CAAC;EACtC;EAEAE,gBAAgBA,CAACC,EAAO;IACtB,IAAI,CAACtB,QAAQ,GAAGsB,EAAE;EACpB;EAEAC,iBAAiBA,CAACD,EAAO;IACvB,IAAI,CAACpB,SAAS,GAAGoB,EAAE;EACrB;EAEAE,QAAQA,CAAA;IACN,IAAI,CAACzC,WAAW,CAAC0C,YAAY,CAC1BC,IAAI,CAACvD,yDAAS,CAAC,IAAI,CAACgC,QAAQ,CAAC,CAAC,CAC9BwB,SAAS,CAAC1B,KAAK,IAAI,IAAI,CAACD,QAAQ,CAACC,KAAK,CAAC,CAAC;IAE3C,IAAI,CAAClB,WAAW,CAAC6C,aAAa,CAC3BF,IAAI,CAACvD,yDAAS,CAAC,IAAI,CAACgC,QAAQ,CAAC,CAAC,CAC9BwB,SAAS,CAAC,MAAK;MACd,IAAI,CAAC,IAAI,CAACxC,OAAO,EAAE;QACjB,IAAI,CAACe,SAAS,EAAE;QAChB,IAAI,CAACf,OAAO,GAAG,IAAI;;IAEvB,CAAC,CAAC;IACJ,IAAI,CAAC0C,uBAAuB,EAAE;EAChC;EAEAC,WAAWA,CAAA;IACT,IAAI,CAAC3B,QAAQ,CAAC4B,IAAI,EAAE;IACpB,IAAI,CAAC5B,QAAQ,CAAC6B,QAAQ,EAAE;EAC1B;EAEAC,WAAWA,CAACC,OAAsB;IAChC,IAAIA,OAAO,CAAC,eAAe,CAAC,EAAE;MAC5B,IAAI,OAAO,IAAI,CAACC,aAAa,KAAK,QAAQ,EAAE;QAC1C,IAAI,CAACrC,WAAW,GAAG,IAAI,CAACH,SAAS,CAACyC,IAAI,CAACC,OAAO,IAAIA,OAAO,CAAChC,EAAE,KAAK,IAAI,CAAC8B,aAAa,CAAC,IAAI/D,oEAAc;;;IAG1G;IACA,IAAI8D,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAACA,OAAO,CAAC,gBAAgB,CAAC,CAACI,WAAW,EAAE;MACvE,IAAI,CAACC,0BAA0B,EAAE;MACjC,IAAI,CAACV,uBAAuB,EAAE;;EAElC;EAEAW,QAAQA,CAACC,OAAwB;IAC/B,OAAOA,OAAO,CAACxC,KAAK,IAAI,IAAI,CAAClB,WAAW,CAAC2D,KAAK,GAAG,IAAI,GAAG;MAAEvB,OAAO,EAAE;IAAI,CAAE;EAC3E;EAEQoB,0BAA0BA,CAAA;IAChC;IACAI,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC7D,WAAW,CAACC,QAAQ,CAAC,CAAC6D,OAAO,CAACC,GAAG,IAAG;MACnD,MAAML,OAAO,GAAG,IAAI,CAAC1D,WAAW,CAACgE,GAAG,CAACD,GAAG,CAAC;MACzC,IAAIL,OAAO,EAAEO,YAAY,CAACjF,sDAAU,CAACkF,QAAQ,CAAC,EAAE;QAC9CR,OAAO,CAACS,eAAe,EAAE;QACzBT,OAAO,CAACU,sBAAsB,EAAE;;IAEpC,CAAC,CAAC;EACJ;EAEQtB,uBAAuBA,CAAA;IAC7B;IACAuB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAC,IAAI,CAACzD,cAAc,CAAC;IAEtD,IAAI,CAACA,cAAc,EAAEiD,OAAO,CAACS,SAAS,IAAG;MACvC,MAAMb,OAAO,GAAG,IAAI,CAAC1D,WAAW,CAACgE,GAAG,CAACO,SAAS,CAAC;MAC/C,IAAIb,OAAO,EAAE;QACXA,OAAO,CAACc,aAAa,CAACxF,sDAAU,CAACkF,QAAQ,CAAC;QAC1CR,OAAO,CAACU,sBAAsB,EAAE;OACjC,MAAM;QACLC,OAAO,CAACI,IAAI,CAAC,QAAQF,SAAS,qBAAqB,CAAC;;IAExD,CAAC,CAAC;IACF,MAAMG,gBAAgB,GAAG,IAAI,CAAC1E,WAAW,CAACgE,GAAG,CAAC,WAAW,CAAC;IAC1D,IAAGU,gBAAgB,IAAI,IAAI,CAAC5D,iBAAiB,EAAC;MAC5C4D,gBAAgB,CAACF,aAAa,CAAC,CAAClF,kFAAuB,EAAE,CAAC,CAAC;MAC3DoF,gBAAgB,CAACN,sBAAsB,EAAE;MACzCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACtE,WAAW,CAACgE,GAAG,CAAC,WAAW,CAAC,CAAC;;EAGlD;EAEAzD,eAAeA,CAACoE,KAAa;IAC3B,MAAMjB,OAAO,GAAG,IAAI,CAAC1D,WAAW,CAACgE,GAAG,CAACW,KAAK,CAAC;IAC3C,OAAOjB,OAAO,EAAEO,YAAY,CAACjF,sDAAU,CAACkF,QAAQ,CAAC,IAAI,KAAK;EAC5D;;;uBAxIWzD,sBAAsB,EAAAlB,+DAAA,CAAAsF,uDAAA;IAAA;EAAA;;;YAAtBpE,sBAAsB;MAAAsE,SAAA;MAAAC,MAAA;QAAApE,SAAA;QAAAwC,aAAA;QAAAvC,cAAA;QAAAC,iBAAA;MAAA;MAAAmE,QAAA,GAAA1F,gEAAA,CAbtB,CACT;QACE4F,OAAO,EAAElG,6DAAiB;QAC1BmG,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE5E;OACd,EACD;QACE0E,OAAO,EAAEjG,yDAAa;QACtBmG,WAAW,EAAE5E,sBAAsB;QACnC2E,KAAK,EAAE;OACR,CACF,GAAA7F,kEAAA;MAAAgG,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCxBHrG,4DAAA,cAAmD;UACjDA,uDAAA,eAA0C;UAE1CA,4DAAA,aAA8B;UAEFA,oDAAA,2BACtB;UAAAA,wDAAA,IAAAwG,8CAAA,0BAA0F;UAC5FxG,0DAAA,EAAM;UACNA,4DAAA,aAAuB;UACrBA,uDAAA,eAA+E;UACjFA,0DAAA,EAAM;UAcRA,4DAAA,cAAuB;UACGA,oDAAA,gEACtB;UAAAA,wDAAA,KAAAyG,+CAAA,0BAA8F;UAChGzG,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UACrBA,uDAAA,gBAAuF;UACzFA,0DAAA,EAAM;UAGVA,4DAAA,cAA8B;UAEFA,oDAAA,mIACtB;UAAAA,wDAAA,KAAA0G,+CAAA,0BAA2F;UAC7F1G,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UACrBA,uDAAA,iBAAwE;UAC1EA,0DAAA,EAAM;UAGRA,4DAAA,cAAuB;UACGA,oDAAA,+FACtB;UAAAA,wDAAA,KAAA2G,+CAAA,0BAA2F;UAC7F3G,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UAAAA,uDAAA,iBAAsF;UAAAA,0DAAA,EAAM;UAGrHA,4DAAA,cAAuB;UACGA,oDAAA,2GACtB;UAAAA,wDAAA,KAAA4G,+CAAA,0BAAkG;UACpG5G,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UAAAA,uDAAA,iBAAmG;UAAAA,0DAAA,EAAM;UAGlIA,4DAAA,cAAuB;UACGA,oDAAA,gBACtB;UAAAA,wDAAA,KAAA6G,+CAAA,0BAA2F;UAC7F7G,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UAAAA,uDAAA,iBAAiF;UAAAA,0DAAA,EAAM;UAGlHA,4DAAA,cAA8B;UAEFA,oDAAA,eACtB;UAAAA,wDAAA,KAAA8G,+CAAA,0BAA2F;UAC7F9G,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UAAAA,uDAAA,iBAAwE;UAAAA,0DAAA,EAAM;UAGvGA,4DAAA,cAAuB;UACGA,oDAAA,kBACtB;UAAAA,wDAAA,KAAA+G,+CAAA,0BAA8F;UAChG/G,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UAAAA,uDAAA,iBAA8E;UAAAA,0DAAA,EAAM;UAG7GA,4DAAA,cAAuB;UACGA,oDAAA,kBACtB;UAAAA,wDAAA,KAAAgH,+CAAA,0BAA8F;UAChGhH,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UAAAA,uDAAA,iBAA8E;UAAAA,0DAAA,EAAM;UAG7GA,4DAAA,cAAuB;UACGA,oDAAA,gBACtB;UAAAA,wDAAA,KAAAiH,+CAAA,0BAA4F;UAC9FjH,0DAAA,EAAM;UACNA,4DAAA,cAAuB;UAAAA,uDAAA,iBAA0E;UAAAA,0DAAA,EAAM;UAI3GA,4DAAA,eAAqB;UAEAA,oDAAA,2HAAoB;UAAAA,0DAAA,EAAM;UAC3CA,4DAAA,eAAiI;UAAvDA,wDAAA,mBAAAmH,sDAAA;YAAA,OAAAb,GAAA,CAAA7E,oBAAA,IAAA6E,GAAA,CAAA7E,oBAAA;UAAA,EAAsD;UAC9HzB,4DAAA,YAAM;UAAAA,oDAAA,IAAkD;UAAAA,0DAAA,EAAO;UAInEA,4DAAA,eAAwF;UAItFA,uDAAA,8BAAqI;UACvIA,0DAAA,EAAM;UAIVA,wDAAA,KAAAoH,8CAAA,iCAAApH,oEAAA,CAIc;UAEdA,wDAAA,KAAAsH,8CAAA,iCAAAtH,oEAAA,CAEc;;;;UAvHWA,wDAAA,cAAAsG,GAAA,CAAA7F,WAAA,CAAyB;UAM3BT,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAA0H,GAAA;UAoBjC1H,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAA2H,GAAA;UAUjC3H,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAA4H,GAAA;UASjC5H,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAA6H,GAAA;UAOjC7H,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAA8H,GAAA;UAOjC9H,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAA+H,GAAA;UAQjC/H,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAAgI,GAAA;UAOjChI,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAAiI,GAAA;UAOjCjI,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAAkI,GAAA;UAOjClI,uDAAA,GAAiC;UAAjCA,wDAAA,qBAAAwH,IAAA,CAAiC,4BAAAxH,6DAAA,KAAAmI,GAAA;UAS3BnI,uDAAA,GAAkD;UAAlDA,wDAAA,YAAAsG,GAAA,CAAA7E,oBAAA,mBAAkD;UACjEzB,uDAAA,GAAkD;UAAlDA,+DAAA,CAAAsG,GAAA,CAAA7E,oBAAA,+FAAkD;UAItCzB,uDAAA,GAAiE;UAAjEA,wDAAA,YAAAA,6DAAA,KAAAsI,IAAA,EAAAhC,GAAA,CAAA7E,oBAAA,qBAAiE;UAIrCzB,uDAAA,GAAuB;UAAvBA,wDAAA,cAAAsG,GAAA,CAAAjF,SAAA,CAAuB,sBAAAiF,GAAA,CAAA/E,iBAAA;;;;;;;;;;;;;;;;;;;;;ACxGvE,SAAUxB,uBAAuBA,CAAA;EACrC,OAAQoE,OAAwB,IAA6B;IAC3D,MAAMoE,UAAU,GAAUpE,OAAO,CAACxC,KAAK,IAAI,EAAE;IAE7C;IACA,IAAI4G,UAAU,CAACC,MAAM,KAAK,CAAC,EAAE;MAC3B,OAAO;QACLjH,iBAAiB,EAAE;OACpB;;IAGH;IACA,KAAK,IAAIkH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,UAAU,CAACC,MAAM,EAAEC,CAAC,EAAE,EAAE;MAC1C,MAAM9F,SAAS,GAAG4F,UAAU,CAACE,CAAC,CAAC;MAE/B;MACA,IAAI,CAAC9F,SAAS,CAAC+F,mBAAmB,IAAI,CAAC/F,SAAS,CAACgG,iBAAiB,EAAE;QAClE,OAAO;UACLC,mBAAmB,EAAE;YACnBC,KAAK,EAAEJ,CAAC;YACRK,OAAO,EAAE;;SAEZ;;MAGH;MACA,IAAI,CAACnG,SAAS,CAACoG,eAAe,IAAIpG,SAAS,CAACoG,eAAe,CAACP,MAAM,GAAG,CAAC,EAAE;QACtE,OAAO;UACLQ,UAAU,EAAE;YACVH,KAAK,EAAEJ,CAAC;YACRK,OAAO,EAAE;;SAEZ;;;IAIL,OAAO,IAAI;EACb,CAAC;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvCqE;AACiF;AAI1D;;;;;;;;;;;;;;;;;;;ICkBhF9I,iEAAA,GAA6F;;;;;IAI7FA,iEAAA,GAA0F;;;;;IAsB1FA,iEAAA,GAAiG;;;;;IAIjGA,iEAAA,GAA8F;;;;;IAuC5FA,iEAAA,GAA0F;;;;;IAI1FA,iEAAA,GAAuF;;;;;IAOvFA,iEAAA,GAAyF;;;;;IAIzFA,iEAAA,GAAsF;;;;;IAOtFA,iEAAA,GAAgG;;;;;IAWhGA,iEAAA,GAA6F;;;;;IAqBjGA,iEAAA,GAA6F;;;;;IAW3FA,iEAAA,GAA0F;;;;;IAwB1FA,iEAAA,GAA6F;;;;;IAI7FA,iEAAA,GAA0F;;;;;IAO1FA,iEAAA,GAA2F;;;;;IAI3FA,iEAAA,GAAwF;;;;;IAOxFA,iEAAA,GAAyF;;;;;IAIzFA,iEAAA,GAAsF;;;;;IAWtFA,iEAAA,GAAqG;;;;;IAWrGA,iEAAA,GAAkG;;;;;IAmBlGA,iEAAA,GAAgG;;;;;;IAehGA,iEAAA,GAA6F;;;;;;;;;;IAlBjGA,6DAAA,aAAwE;IAEpEA,qDAAA,wCACA;IAAAA,yDAAA,IAAA0J,wDAAA,2BAAgG;IAClG1J,2DAAA,EAAM;IACNA,6DAAA,aAAuB;IASnBA,yDAAA,IAAA2J,uDAAA,0BAEc;IAChB3J,2DAAA,EAAY;IACZA,yDAAA,IAAA4J,wDAAA,2BAA6F;IAC/F5J,2DAAA,EAAM;;;;;;IAhBWA,wDAAA,GAAiC;IAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,IAAA0H,GAAA;IAI9C1H,wDAAA,GAAuB;IAAvBA,yDAAA,wBAAuB,4BAAA8J,OAAA,CAAAC,gBAAA,kBAAAD,OAAA,CAAAE,cAAA,CAAArI,KAAA,CAAAsI,UAAA,kBAAAH,OAAA,CAAAE,cAAA,CAAArI,KAAA,CAAAsI,UAAA,CAAAzB,MAAA,6EAAAsB,OAAA,CAAAE,cAAA,CAAArI,KAAA,CAAAsI,UAAA,CAAAzB,MAAA;IAWVxI,wDAAA,GAA8B;IAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,IAAA0H,GAAA;;;;;IAO7C1H,iEAAA,GAA4F;;;;;IAK5FA,iEAAA,GAAyF;;;;;;;;;;;IAR7FA,6DAAA,aAAwE;IAEpEA,qDAAA,+CACA;IAAAA,yDAAA,IAAAmK,wDAAA,2BAA4F;IAC9FnK,2DAAA,EAAM;IACNA,6DAAA,aAAuB;IAC+FA,yDAAA,oBAAAoK,sEAAAC,MAAA;MAAArK,4DAAA,CAAAuK,IAAA;MAAA,MAAAC,OAAA,GAAAxK,4DAAA;MAAA,OAAUA,0DAAA,CAAAwK,OAAA,CAAAG,WAAA,CAAAN,MAAA,CAAmB;IAAA,EAAC;IAACrK,2DAAA,EAAY;IAE/JA,yDAAA,IAAA4K,wDAAA,2BAAyF;IAC3F5K,2DAAA,EAAM;;;;;;IANWA,wDAAA,GAAiC;IAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,IAAA2H,GAAA;IAGmC3H,wDAAA,GAAgC;IAAhCA,yDAAA,UAAA6K,OAAA,CAAAC,sBAAA,CAAgC;IAEpG9K,wDAAA,GAA8B;IAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,IAAA2H,GAAA;;;;;IAuC7C3H,iEAAA,GAAoG;;;;;;IAWpGA,iEAAA,GAAiG;;;;;IAgBjGA,iEAAA,GAA4F;;;;;IAW5FA,iEAAA,GAAyF;;;;;IAwB/FA,iEAAA,GAAuG;;;;;IACvGA,6DAAA,YAA6C;IAC3CA,wDAAA,gBAA4E;IAE5EA,6DAAA,WAAM;IAAAA,qDAAA,GAAiB;IAAAA,2DAAA,EAAO;;;;IAF0BA,wDAAA,GAAmB;IAAnBA,yDAAA,UAAA+K,UAAA,CAAAhJ,EAAA,CAAmB;IAErE/B,wDAAA,GAAiB;IAAjBA,gEAAA,CAAA+K,UAAA,CAAA9I,IAAA,CAAiB;;;;;IAEzBjC,iEAAA,GAAoG;;;;;;;;;;IARtGA,6DAAA,cAAmE;IACjEA,qDAAA,0IACA;IAAAA,yDAAA,IAAAgL,yDAAA,2BAAuG;IACvGhL,yDAAA,IAAAiL,kDAAA,oBAIQ;IACRjL,yDAAA,IAAAkL,yDAAA,2BAAoG;IACtGlL,2DAAA,EAAM;;;;;;IAPWA,wDAAA,GAAiC;IAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,IAAA4H,GAAA;IACtB5H,wDAAA,GAAiB;IAAjBA,yDAAA,YAAAmL,OAAA,CAAAC,cAAA,CAAiB;IAK5BpL,wDAAA,GAA8B;IAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,IAAA4H,GAAA;;;;;IAOzC5H,iEAAA,GAA8F;;;;;IAIhGA,iEAAA,GAA2F;;;;;;IAsDjGA,6DAAA,cAA8E;IAC9CA,qDAAA,GAA0B;IAAAA,6DAAA,eAAmD;IAA3BA,yDAAA,mBAAAqL,iEAAA;MAAA,MAAAC,WAAA,GAAAtL,4DAAA,CAAAuL,IAAA;MAAA,MAAAC,KAAA,GAAAF,WAAA,CAAAzC,KAAA;MAAA,MAAA4C,OAAA,GAAAzL,4DAAA;MAAA,OAASA,0DAAA,CAAAyL,OAAA,CAAAC,aAAA,CAAAF,KAAA,CAAgB;IAAA,EAAC;IAACxL,qDAAA,iDAAO;IAAAA,2DAAA,EAAO;IACzHA,wDAAA,6BAAsO;IACxOA,2DAAA,EAAM;;;;;IAF0BA,wDAAA,GAA0B;IAA1BA,iEAAA,iGAAAwL,KAAA,SAA0B;IACpCxL,wDAAA,GAA6D;IAA7DA,yDAAA,kBAAA4L,OAAA,CAAA5B,cAAA,CAAAtJ,QAAA,eAAAiB,KAAA,CAA6D,cAAAiK,OAAA,CAAAvK,SAAA,qBAAAmK,KAAA,oBAAAI,OAAA,CAAAC,qBAAA,uBAAAD,OAAA,CAAArK,iBAAA;;;;;IAMnFvB,6DAAA,gBAAqG;IACnGA,qDAAA,qNACF;IAAAA,2DAAA,EAAY;;;;;;IAQRA,6DAAA,iBAAgE;IAAnBA,yDAAA,mBAAA8L,sEAAA;MAAA9L,4DAAA,CAAA+L,IAAA;MAAA,MAAAC,OAAA,GAAAhM,4DAAA;MAAA,OAASA,0DAAA,CAAAgM,OAAA,CAAAC,MAAA,EAAQ;IAAA,EAAC;IAACjM,6DAAA,WAAM;IAAAA,qDAAA,iDAAO;IAAAA,2DAAA,EAAO;;;;;IASxFA,6DAAA,gBAAiH;IAC/GA,qDAAA,uHACF;IAAAA,2DAAA,EAAY;;;;;IAFZA,yDAAA,IAAAkM,8DAAA,wBAEY;;;;;IAFAlM,yDAAA,SAAAmM,OAAA,CAAAnC,cAAA,CAAAtJ,QAAA,CAAA0L,SAAA,EAAAxL,QAAA,gBAAAuL,OAAA,CAAAnC,cAAA,CAAAtJ,QAAA,CAAA0L,SAAA,EAAAvL,OAAA,CAAmG;;;;;IAM/Gb,6DAAA,eAAiD;IAAAA,qDAAA,aAAC;IAAAA,2DAAA,EAAO;;;;;IAAzDA,yDAAA,IAAAqM,yDAAA,mBAAyD;;;;;IAAlDrM,yDAAA,SAAAsM,OAAA,CAAAtL,eAAA,CAAAuL,SAAA,EAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ADxc/B,MAAOC,yBAAyB;EAkCpC;EAIArL,YACUsL,KAAqB,EACrBC,iBAAoC,EACpCC,cAA8B,EAC9BC,WAAwB,EACxBxL,EAAe,EACfyL,QAAqB,EACrBC,MAAc,EACdC,QAAkB,EAClBC,aAA4B,EAC5BC,gBAAkC,EAClCC,gBAAkC;IAVlC,KAAAT,KAAK,GAALA,KAAK;IACL,KAAAC,iBAAiB,GAAjBA,iBAAiB;IACjB,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAxL,EAAE,GAAFA,EAAE;IACF,KAAAyL,QAAQ,GAARA,QAAQ;IACR,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,QAAQ,GAARA,QAAQ;IACR,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAhD1B,KAAAC,iBAAiB,GAAG,IAAI1D,wDAAW,EAAE;IACrC,KAAA2D,mBAAmB,GAAS,IAAI;IAEhC,KAAAC,UAAU,GAAwB,EAAE;IACpC,KAAAC,UAAU,GAAY,KAAK;IAE3B,KAAAC,YAAY,GAAkB,EAAE;IAEhC,KAAAC,eAAe,GAAqB,EAAE;IAAE,KAAAC,uBAAuB,GAAqB,EAAE;IACtF,KAAA1D,gBAAgB,GAAO,EAAE;IAAE,KAAA2D,wBAAwB,GAAO,EAAE;IAC5D,KAAArM,SAAS,GAAc,EAAE;IAAE,KAAAsM,iBAAiB,GAAc,EAAE;IAC5D,KAAAC,MAAM,GAAU,EAAE;IAAE,KAAAC,aAAa,GAAU,EAAE;IAC7C,KAAAC,cAAc,GAAU,EAAE;IAAE,KAAAhD,sBAAsB,GAAU,EAAE;IAE9D,KAAAiD,aAAa,GAAgB,EAAE;IAAE,KAAAC,qBAAqB,GAAgB,EAAE;IAGxE,KAAAC,yBAAyB,GAAsB;MAAEC,QAAQ,EAAE;IAAI,CAAE;IACjE,KAAAC,wBAAwB,GAAsB;MAAED,QAAQ,EAAE;IAAI,CAAE;IAChE,KAAA9C,cAAc,GAA8B,EAAE;IAC9C,KAAAgD,UAAU,GAAGnF,kEAAW,CAACmF,UAAU;IACnC,KAAAC,KAAK,GAAG,EAAE;IACV,KAAAC,UAAU,GAAgB,EAAE;IAAE,KAAAC,YAAY,GAAgB,EAAE;IAK5D,KAAA1C,qBAAqB,GAAU,EAAE;IACjC,KAAAtK,iBAAiB,GAAS,KAAK;IAEvB,KAAAiN,SAAS,GAAG,IAAI5O,0CAAO,EAAE;IA6DjC,KAAA6O,cAAc,GAAG,CAACC,IAAY,EAAEC,IAAS,KAAa;MACpD;MACA,MAAMC,cAAc,GAAG,IAAI,CAAC5E,cAAc,EAAEvF,GAAG,CAAC,SAAS,CAAC,EAAE9C,KAAK;MACjE,MAAMkN,iBAAiB,GAAG,IAAI,CAAC7E,cAAc,EAAEvF,GAAG,CAAC,YAAY,CAAC,EAAE9C,KAAK;MAEvE;MACA,IAAImN,OAAO,GAAG,IAAI;MAElB;MACA,IAAIJ,IAAI,EAAE;QACRI,OAAO,GAAGA,OAAO,IAAIH,IAAI,CAAC1M,IAAI,CAAC8M,WAAW,EAAE,CAACC,QAAQ,CAACN,IAAI,CAACK,WAAW,EAAE,CAAC;;MAG3E;MACA,IAAIH,cAAc,EAAE;QAClBE,OAAO,GAAGA,OAAO,IAAIH,IAAI,CAACM,OAAO,KAAKL,cAAc;;MAGtD;MACA,IAAIC,iBAAiB,EAAE;QACrBC,OAAO,GAAGA,OAAO,IAAIH,IAAI,CAACO,UAAU,KAAKL,iBAAiB;;MAG5D,OAAOC,OAAO;IAChB,CAAC;IAjEC,IAAI,CAAC9E,cAAc,GAAG,IAAI,CAAC5I,EAAE,CAACU,KAAK,CAAC;MAClCC,EAAE,EAAE,CAAC,EAAE,CAAC;MACRoN,OAAO,EAAE,CAAC,EAAE,CAAC;MACblN,IAAI,EAAE,CAAC,EAAE,CAAC;MACVmN,GAAG,EAAE,CAAC,EAAE,CAAC;MACTjN,KAAK,EAAE,CAAC,EAAE,CAAC;MACXkN,GAAG,EAAE,CAAC,EAAE,CAAC;MACTC,UAAU,EAAE,CAAC;QAAE3N,KAAK,EAAE,CAAC;QAAE4N,QAAQ,EAAE;MAAI,CAAE,CAAC;MAC1CC,eAAe,EAAE,CAAC;QAAE7N,KAAK,EAAE,CAAC;QAAE4N,QAAQ,EAAE;MAAI,CAAE,CAAC;MAC/CE,QAAQ,EAAErO,EAAE,CAACsO,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC;MAC1BC,cAAc,EAAE,CAAC,EAAE,CAAC;MACpBC,MAAM,EAAE,CAACC,SAAS,CAAC;MACnB;MACAC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,CAACF,SAAS,CAAC;MACxBX,UAAU,EAAE,EAAE;MACdD,OAAO,EAAE,EAAE;MACXe,MAAM,EAAE,EAAE;MACVC,iBAAiB,EAAE,CAAC,EAAE,CAAC;MACvB;MACAC,WAAW,EAAC,CAAC,KAAK,CAAC;MACnBC,eAAe,EAAE,EAAE;MACnB;MACAlG,UAAU,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC;MAClBmG,QAAQ,EAAC,GAAE,EAAE;KACd,CAAC;IAEF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;;EACAC,IAAIA,CAAC5H,CAAK,EAAC6H,CAAM;IACfxL,OAAO,CAACC,GAAG,CAAC0D,CAAC,EAAC6H,CAAC,CAAC;EAElB;EA4BAtP,eAAeA,CAACoE,KAAa;IAC3B,MAAMjB,OAAO,GAAG,IAAI,CAAC6F,cAAc,CAACvF,GAAG,CAACW,KAAK,CAAC;IAC9C,OAAOjB,OAAO,EAAEO,YAAY,CAACjF,uDAAU,CAACkF,QAAQ,CAAC,IAAI,KAAK;EAC5D;EAEA4L,cAAcA,CAACC,KAAU;IACvB,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAM,CAAC/O,KAAK,CAACoN,WAAW,EAAE;IACnD,IAAI,CAACrB,wBAAwB,GAAG,IAAI,CAAC3D,gBAAgB,CAAC4G,MAAM,CAACC,OAAO,IAClEA,OAAO,CAACC,SAAS,CAAC9B,WAAW,EAAE,CAACC,QAAQ,CAACyB,UAAU,CAAC,CACrD;EACH;EACAK,WAAWA,CAACnC,IAAS;IACnB,OAAOA,IAAI,GAAGA,IAAI,CAACkC,SAAS,GAAG,EAAE;EACnC;EAEA3N,QAAQA,CAAA;IACN,IAAI,CAAC6N,6BAA6B,EAAE;IACpC,IAAI,CAACC,uBAAuB,EAAE;IAC9B;IACA,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAF,6BAA6BA,CAAA;IAC3B,MAAMG,QAAQ,GAAG,IAAI,CAACzE,KAAK,CAAC0E,QAAQ,CAACC,GAAG,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC;IACzD,IAAI,CAACjE,UAAU,GAAG4D,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK;IACvC,IAAI,CAAC7C,KAAK,GAAG,IAAI,CAACf,UAAU,GAAG,yBAAyB,GAAG,uBAAuB;EACpF;EACM0D,uBAAuBA,CAAA;IAAA,IAAAQ,KAAA;IAAA,OAAAC,8JAAA;MAC3B,IAAI;QACF,MAAMnI,oDAAa,CAACD,+CAAQ,CAAC,CAC3BmI,KAAI,CAACE,kBAAkB,EAAE,EACzBF,KAAI,CAACG,mBAAmB,EAAE,EAC1BH,KAAI,CAACI,YAAY,EAAE,EACnBJ,KAAI,CAACK,SAAS,EAAE,EAChBL,KAAI,CAACM,iBAAiB,EAAE,EACxBN,KAAI,CAACO,eAAe,EAAE,EACtBP,KAAI,CAACQ,aAAa,EAAE,EACpBR,KAAI,CAACS,eAAe,EAAE,EACtBT,KAAI,CAACU,iBAAiB,EAAE,EACxBV,KAAI,CAACW,WAAW,EAAE,CACnB,CAAC,CAAC;QACH;QACA,IAAIX,KAAI,CAAClE,UAAU,EAAE;UACnB,MAAMhE,oDAAa,CAACkI,KAAI,CAACY,aAAa,EAAE,CAAC,CAAC,CAAC;;OAE9C,CAAC,OAAOC,KAAK,EAAE;QACdvN,OAAO,CAACuN,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;;IACpD;EAEH;EAEA7O,WAAWA,CAAA;IACT,IAAI,CAACgL,SAAS,CAAC/K,IAAI,CAAC,IAAI,CAAC;IACzB,IAAI,CAAC+K,SAAS,CAAC9K,QAAQ,EAAE;EAC3B;EAEA;EACA;EACA;EAEA4O,MAAMA,CAAA;IACJ,IAAI,CAACvF,QAAQ,CAACwF,IAAI,EAAE;EACtB;EAEAC,cAAcA,CAACzQ,EAAU;IACvB,IAAI,CAAC+K,MAAM,CAAC2F,QAAQ,CAAC,CAAC,IAAI,EAAE1Q,EAAE,CAAC,CAAC;EAClC;EAEA2J,aAAaA,CAACjD,CAAS;IACrB,IAAI,CAACgH,QAAQ,CAACiD,QAAQ,CAACjK,CAAC,CAAC;IACzB,IAAI,CAACuB,cAAc,CAAC2I,aAAa,EAAE;EACrC;EAEAC,UAAUA,CAAA;IACR,IAAI,CAACnD,QAAQ,CAACoD,IAAI,CAAC,IAAI,CAACzR,EAAE,CAAC+C,OAAO,CAAC;MACjCnC,aAAa,EAAE,IAAI,CAACqL,UAAU,CAACtL;KAChC,CAAC,CAAC;IACH,IAAI,CAACiI,cAAc,CAAC2I,aAAa,EAAE;EACrC;EAEA,IAAIlD,QAAQA,CAAA;IACV,OAAkB,IAAI,CAACzF,cAAc,CAACvF,GAAG,CAAC,UAAU,CAAC;EACvD;EAEAqO,IAAIA,CAAA;IACFhO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACiF,cAAc,CAACrI,KAAK,CAAC;IAEtC,IAAI,CAAC,IAAI,CAACqI,cAAc,CAAC5F,KAAK,EAAE;MAC9B,IAAI,CAACyI,QAAQ,CAACkG,IAAI,CAAC,iCAAiC,EAAElD,SAAS,EAAE,IAAI,CAAC1B,wBAAwB,CAAC;MAC/F;;IAEF,MAAM6E,IAAI,GAAG,IAAI,CAAChJ,cAAc,CAACrI,KAAK;IACtC,IAAI,OAAO,IAAI,CAAC0L,UAAU,CAACtL,EAAE,KAAK,QAAQ,EAAE;MAC1C,IAAI,CAACkR,gBAAgB,CAACD,IAAI,CAAC;KAC5B,MAAM;MACL,IAAI,CAACE,gBAAgB,CAACF,IAAI,CAAC;;EAE/B;EAEA/G,MAAMA,CAAA;IACJ,IAAI,CAACY,QAAQ,CAACkG,IAAI,CAAC,wBAAwB,EAAE,UAAU,EAAE,IAAI,CAAC5E,wBAAwB,CAAC,CACpFgF,cAAc,EAAE,CAAC9P,SAAS,CAAC+P,GAAG,IAAG;MAChC,IAAI,CAACA,GAAG,CAACC,iBAAiB,EAAE;QAC1B,IAAI,CAACC,gBAAgB,EAAE;;IAE3B,CAAC,CAAC;EACN;EAEA,IAAIC,WAAWA,CAAA;IACb,MAAMC,GAAG,GAAa,IAAI,CAACxJ,cAAc,CAACtJ,QAAQ,CAAC,gBAAgB,CAAC,CAACiB,KAAK,IAAI,EAAE;IAChF,OAAO6R,GAAG,CAACnC,GAAG,CAACtP,EAAE,IAAI,IAAI,CAACwL,YAAY,CAACzJ,IAAI,CAAC2P,CAAC,IAAIA,CAAC,CAAC1R,EAAE,KAAKA,EAAE,CAAC,EAAEE,IAAI,CAAC,CAACyR,IAAI,CAAC,IAAI,CAAC;EACjF;EAIAC,sBAAsBA,CAACC,CAAK;IAC1B9O,OAAO,CAACC,GAAG,CAAC6O,CAAC,CAAC;IAEd,IAAGA,CAAC,EAAEC,gBAAgB,EAAC;MACrB,IAAI,CAAC7J,cAAc,CAACvF,GAAG,CAAC,SAAS,CAAE,CAACQ,aAAa,CAAC,CAACxF,uDAAU,CAACkF,QAAQ,CAAC,CAAC;KACzE,MAAM;MACL,IAAI,CAACqF,cAAc,CAACvF,GAAG,CAAC,SAAS,CAAE,CAACQ,aAAa,CAAC,EAAE,CAAC;MACrD;;EAEJ;;EAEA6O,eAAeA,CAAC/P,OAAW;IACzB,IAAGA,OAAO,EAAC;MACT,IAAI,CAACiG,cAAc,CAACtJ,QAAQ,CAAC,SAAS,CAAC,CAACqT,KAAK,EAAE;MAC/C,IAAI,CAACC,sBAAsB,EAAE;MAC7B,IAAI,CAACC,wBAAwB,EAAE;;EAEnC;EACAC,YAAYA,CAACC,IAAQ;IACnB,IAAGA,IAAI,EAAE;MACP,IAAI,CAACC,mBAAmB,CAACD,IAAI,EAAEjF,UAAU,CAAC;MAC1C,IAAI,CAAC+E,wBAAwB,EAAE;;EAEnC;EACAtJ,WAAWA,CAAC0J,GAAO;IACjBvP,OAAO,CAACC,GAAG,CAACsP,GAAG,CAAC;IAEhB,IAAGA,GAAG,EAAC;MACL,IAAI,CAACrK,cAAc,CAAClH,UAAU,CAAC;QAAEoM,UAAU,EAAEmF,GAAG,CAACnF,UAAU;QAAED,OAAO,EAAEoF,GAAG,CAACpF;MAAO,CAAE,CAAC;MACpF,IAAI,CAAC+E,sBAAsB,EAAE;;EAEjC;EAEAA,sBAAsBA,CAAA;IACpB,MAAMM,SAAS,GAAG,IAAI,CAACtK,cAAc,CAACrI,KAAK,CAACuN,UAAU;IACtD,IAAI,CAACrB,aAAa,GAAGyG,SAAS,GAC5B,IAAI,CAAC1G,MAAM,CAAC+C,MAAM,CAAChC,IAAI,IAAIA,IAAI,CAACO,UAAU,IAAIoF,SAAS,CAAC,GACxD,IAAI,CAAC1G,MAAM;EACf;EACAqG,wBAAwBA,CAAA;IACtB,MAAMK,SAAS,GAAG,IAAI,CAACtK,cAAc,CAACrI,KAAK,CAACuN,UAAU;IACtD,MAAMqF,MAAM,GAAG,IAAI,CAACvK,cAAc,CAACrI,KAAK,CAACsN,OAAO;IAChD,IAAGsF,MAAM,EAAC;MACR,IAAI,CAACzJ,sBAAsB,GAAC,IAAI,CAACgD,cAAc,CAAC6C,MAAM,CAAChC,IAAI,IAAIA,IAAI,CAACM,OAAO,IAAIsF,MAAM,CAAE;KACxF,MAAM,IAAID,SAAS,EAAE;MACpB,IAAI,CAACxJ,sBAAsB,GAAC,IAAI,CAACgD,cAAc,CAAC6C,MAAM,CAAChC,IAAI,IAAIA,IAAI,CAACO,UAAU,IAAIoF,SAAS,CAAE;KAC9F,MAAM;MACL;IAAA;IAEF;IACA;IACA;IACA;IACA;IACA;EACF;;EAEAF,mBAAmBA,CAAClF,UAAc;IAChC,IAAI,CAAClF,cAAc,CAAClH,UAAU,CAAC;MAC7BoM,UAAU,EAAEA;KACb,CAAC;EACJ;EAEAsF,oBAAoBA,CAACC,YAAgB;IACnC,IAAGA,YAAY,CAAC1S,EAAE,IAAE,EAAE,IAAI,IAAI,CAAC+I,sBAAsB,CAACtC,MAAM,GAAC,CAAC,EAAE;MAC9D,IAAI,CAACqE,QAAQ,CAACkG,IAAI,CAAC,+DAA+D,EAAElD,SAAS,EAAE,IAAI,CAAC1B,wBAAwB,CAAC;MAC7H,IAAI,CAACrD,sBAAsB,GAAC,IAAI,CAACgD,cAAc;;EAEnD;EAEA4G,OAAOA,CAAA;IACL,OAAO,IAAI,CAAC1K,cAAc,CAAC5F,KAAK;EAClC;EAEQ6O,gBAAgBA,CAACD,IAAS;IAChClO,OAAO,CAACC,GAAG,CAACiO,IAAI,CAAC;IAEjB,IAAI,CAACtG,iBAAiB,CAACiI,gBAAgB,CAAC;MAAE3B;IAAI,CAAE,CAAC,CAAC5P,IAAI,EAAE,CAACC,SAAS,CAAC;MACjEI,IAAI,EAAEA,CAAA,KAAK;QACT,IAAG,IAAI,CAAC2J,mBAAmB,EAAC;UAC1B,IAAI,CAACkF,MAAM,EAAE;;QAEf,IAAI,CAACzF,QAAQ,CAACkG,IAAI,CAAC,oBAAoB,EAAElD,SAAS,EAAE,IAAI,CAAC5B,yBAAyB,CAAC;MACrF,CAAC;MACDoE,KAAK,EAAGuC,GAAG,IAAK,IAAI,CAAC/H,QAAQ,CAACkG,IAAI,CAAC,gCAAgC,GAAG6B,GAAG,CAACvC,KAAK,CAACwC,aAAa,EAAEhF,SAAS,EAAE,IAAI,CAAC5B,yBAAyB;KACzI,CAAC;EACJ;EAEQiF,gBAAgBA,CAACF,IAAS;IAChClO,OAAO,CAACC,GAAG,CAACiO,IAAI,CAAC;IACjB,IAAI,CAACtG,iBAAiB,CAACoI,gBAAgB,CAAC;MAAE9B;IAAI,CAAE,CAAC,CAAC5P,IAAI,EAAE,CAACC,SAAS,CAAC;MACjEI,IAAI,EAAEA,CAAC;QAAE1B;MAAE,CAAE,KAAI;QACf,IAAG,IAAI,CAACqL,mBAAmB,EAAC;UAC1B,IAAI,CAACkF,MAAM,EAAE;SACd,MAAM;UACL,IAAI,CAACE,cAAc,CAACzQ,EAAE,CAAC;;QAEzB,IAAI,CAAC8K,QAAQ,CAACkG,IAAI,CAAC,kBAAkB,EAAElD,SAAS,EAAE,IAAI,CAAC5B,yBAAyB,CAAC;MACnF,CAAC;MACDoE,KAAK,EAAGuC,GAAG,IAAK,IAAI,CAAC/H,QAAQ,CAACkG,IAAI,CAAC,8BAA8B,GAAG6B,GAAG,CAACvC,KAAK,CAACwC,aAAa,EAAEhF,SAAS,EAAE,IAAI,CAAC5B,yBAAyB;KACvI,CAAC;EACJ;EAEQqF,gBAAgBA,CAAA;IACtB,MAAMN,IAAI,GAAG;MAAEjR,EAAE,EAAE,IAAI,CAACsL,UAAU,CAACtL;IAAG,CAAE;IACxC,IAAI,CAAC2K,iBAAiB,CAACqI,gBAAgB,CAAC;MAAE/B;IAAI,CAAE,CAAC,CAAC3P,SAAS,CAAC;MAC1DI,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACoJ,QAAQ,CAACkG,IAAI,CAAC,kBAAkB,EAAElD,SAAS,EAAE,IAAI,CAAC5B,yBAAyB,CAAC;QACjF,IAAI,CAACqE,MAAM,EAAE;MACf,CAAC;MACDD,KAAK,EAAGuC,GAAG,IAAK,IAAI,CAAC/H,QAAQ,CAACkG,IAAI,CAAC,gCAAgC,GAAG6B,GAAG,CAACvC,KAAK,CAACwC,aAAa,EAAEhF,SAAS,EAAE,IAAI,CAAC5B,yBAAyB;KACzI,CAAC;EACJ;EAGA;EACA;EACA;EACA;EACA;EAEQ0D,mBAAmBA,CAAA;IACzB,OAAO,IAAI,CAAC1E,gBAAgB,CAAClD,gBAAgB,EAAE,CAC5C3G,IAAI,CACHmG,0CAAG,CAAEQ,gBAAgB,IAAI;MACvB,IAAI,CAACA,gBAAgB,GAAGA,gBAAgB;MACxC,IAAI,CAAC2D,wBAAwB,GAAG3D,gBAAgB;IAClD,CAAC,CAAC,EACFlK,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EACQuD,eAAeA,CAAA;IACrB,OAAO,IAAI,CAAC/E,aAAa,CAACgI,kBAAkB,EAAE,CAC3C5R,IAAI,CACHmG,0CAAG,CAAEwE,aAAa,IAAI;MACpB,IAAI,CAACC,qBAAqB,GAAGD,aAA+B;MAC5D,IAAI,CAACA,aAAa,GAAGA,aAA+B;IACtD,CAAC,CAAC,EACFlO,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EACQyD,eAAeA,CAAA;IACrB,OAAO,IAAI,CAACjF,aAAa,CAACiI,iBAAiB,EAAE,CAC1C7R,IAAI,CACHmG,0CAAG,CAAEgE,YAAY,IAAI;MACnB,IAAI,CAACA,YAAY,GAAGA,YAA6B;IACnD,CAAC,CAAC,EACF1N,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EAEQkD,kBAAkBA,CAAA;IACxB,OAAQ,IAAI,CAAChF,iBAAiB,CAACwI,cAAc,EAAE,CAC5C9R,IAAI,CACHmG,0CAAG,CAAEiE,eAAe,IAAI;MACtB,IAAI,CAACA,eAAe,GAAGA,eAA8C;MACrE,IAAI,CAACC,uBAAuB,GAAGD,eAA8C;IAC/E,CAAC,CAAE,EACH3N,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EACQwD,aAAaA,CAAA;IACnB,OAAQ,IAAI,CAAChF,aAAa,CAACmI,eAAe,EAAE,CACzC/R,IAAI,CACHmG,0CAAG,CAAE+E,UAAU,IAAI;MACjB,IAAI,CAACC,YAAY,GAAGD,UAAU,GAAGA,UAAyB,GAAG,EAAE;MAC/D,IAAI,CAACA,UAAU,GAAGA,UAAU,GAAGA,UAAyB,GAAG,EAAE;IAC/D,CAAC,CAAE,EACHzO,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EAEQoD,YAAYA,CAAA;IAClB,OAAO,IAAI,CAACjF,cAAc,CAACiF,YAAY,EAAE,CACtCxO,IAAI,CACHmG,0CAAG,CAAElI,SAAS,IAAI;MAChB,IAAI,CAACsM,iBAAiB,GAAGtM,SAAS;MAClC,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC,CAAC,EACFxB,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EACQqD,SAASA,CAAA;IACf,OAAO,IAAI,CAAC3E,gBAAgB,CAACkI,aAAa,EAAE,CACzChS,IAAI,CACHmG,0CAAG,CAAEqE,MAAM,IAAI;MACb,IAAI,CAACA,MAAM,GAAGA,MAAM;MACpB,IAAI,CAACC,aAAa,GAAGD,MAAM;IAC7B,CAAC,CAAC,EACF/N,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EACQsD,iBAAiBA,CAAA;IACvB,OAAO,IAAI,CAAC5E,gBAAgB,CAACY,cAAc,CAAC;MAACuH,iBAAiB,EAAC;IAAC,CAAE,CAAC,CAChEjS,IAAI,CACHmG,0CAAG,CAAEuE,cAAc,IAAI;MACrB,IAAI,CAACA,cAAc,GAAGA,cAAc;MACpC,IAAI,CAAChD,sBAAsB,GAAGgD,cAAc;IAC9C,CAAC,CAAC,EACFjO,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EACQ0D,iBAAiBA,CAAA;IACvB,OAAO,IAAI,CAACxF,iBAAiB,CAAC4I,uBAAuB,EAAE,CACpDlS,IAAI,CACHmG,0CAAG,CAAEgM,OAAO,IAAI;MACd,IAAI,CAACnK,cAAc,GAAGmK,OAA+C;IACvE,CAAC,CAAC,EACF1V,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEQ4D,aAAaA,CAAA;IACnB,MAAMrQ,EAAE,GAAGyT,MAAM,CAAC,IAAI,CAAC/I,KAAK,CAAC0E,QAAQ,CAACsE,QAAQ,CAAChR,GAAG,CAAC,IAAI,CAAC,CAAC;IACzD,OAAO,IAAI,CAACiI,iBAAiB,CAACgJ,cAAc,CAAC;MAAE3T;IAAE,CAAE,CAAC,CAACqB,IAAI,CACvDmG,0CAAG,CAAE8D,UAAU,IAAI;MACjBvI,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEsI,UAAU,CAAC;MAChD,IAAI,CAACA,UAAU,EAAE;QACf,MAAM;UAAEgF,KAAK,EAAE;YAAEwC,aAAa,EAAE;UAAyB;QAAE,CAAE;;IAEjE,CAAC,CAAC,EACFtL,0CAAG,CAAE8D,UAAU,IAAI;MACjB,IAAI,CAACA,UAAU,GAAGA,UAAmC;MACrD,MAAMsI,gBAAgB,GAAG,IAAI,CAAClG,QAAQ;MAEtC;MACA,IAAI,CAACpC,UAAU,CAACoC,QAAQ,EAAElL,OAAO,CAAE1B,OAAO,IAAI;QAC5CA,OAAO,CAACb,aAAa,GAAGqL,UAAU,CAACtL,EAAE;QACrC4T,gBAAgB,CAAC9C,IAAI,CAAC,IAAI,CAACzR,EAAE,CAAC+C,OAAO,CAACtB,OAAO,CAAC,CAAC;MACjD,CAAC,CAAC;MAEF;MACA,IAAI,CAACmH,cAAc,CAAClH,UAAU,CAAC,IAAI,CAACuK,UAAU,CAAC;MAE/C;MACA;MACA;MACA;MACA,IAAI,CAAC2G,sBAAsB,EAAE;MAC7B,IAAI,CAACC,wBAAwB,EAAE;MAG/B;MACA,IAAI,CAAC2B,aAAa,GAAGvI,UAAU,CAACpL,IAAI;IACtC,CAAC,CAAC,EACFiH,iDAAU,CAAE0L,GAAG,IAAI;MACjB,IAAI,CAAC/H,QAAQ,CAACkG,IAAI,CAAC,uBAAuB,GAAG6B,GAAG,CAACvC,KAAK,CAACwC,aAAa,EAAEhF,SAAS,EAAE,IAAI,CAAC5B,yBAAyB,CAAC;MAChH,IAAI,CAACqE,MAAM,EAAE;MACb,OAAO9I,iDAAU,CAAC,MAAMoL,GAAG,CAAC,CAAC,CAAC;IAChC,CAAC,CAAC,CACH;EACH;;EAEAzC,WAAWA,CAAA;IACT,OAAO,IAAI,CAACnF,aAAa,CAAC6I,cAAc,EAAE,CACvCzS,IAAI,CACHmG,0CAAG,CAAEuM,YAAY,IAAI;MACnB,IAAI,CAACA,YAAY,GAACA,YAAY,CAACC,OAAO;IACxC,CAAC,CAAC,EACFlW,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B;EACL;EACAyC,YAAYA,CAAC+B,IAAS;IACpB,IAAI,CAACtG,iBAAiB,CAACsJ,eAAe,CAAC;MAAChD,IAAI,EAACA;IAAI,CAAC,CAAC,CAChD5P,IAAI,CACHmG,0CAAG,CAAE0M,UAAU,IAAI;MACjB,IAAI,CAACA,UAAU,GAACA,UAAU;MAC1BnR,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAACiO,IAAI,CAAC;MACrClO,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAACkR,UAAU,CAACtR,QAAQ,CAAC;IAE5D,CAAC,CAAC,EACF9E,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B,CAACnL,SAAS,CAAC;MACZI,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACF,uBAAuB,EAAE;QAC9B,IAAG,CAACyP,IAAI,EAAC,IAAI,CAACkD,wBAAwB,EAAE;MAG1C,CAAC;MACD7D,KAAK,EAAGuC,GAAG,IAAK,IAAI,CAAC/H,QAAQ,CAACkG,IAAI,CAAC,gCAAgC,GAAG6B,GAAG,CAACvC,KAAK,CAACwC,aAAa,EAAEhF,SAAS,EAAE,IAAI,CAAC5B,yBAAyB;KAAE,CAAC;EAC/I;EAEA1K,uBAAuBA,CAAA;IACrBuB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAACkR,UAAU,EAAE,IAAI,CAACjM,cAAc,CAAC;IAC1D,IAAI,CAAC6B,qBAAqB,GAAC,EAAE;IAC7B,IAAI,CAACtK,iBAAiB,GAAC,KAAK;IAC5B,IAAI,CAAC0U,UAAU,CAACtR,QAAQ,EAAEJ,OAAO,CAAE4R,aAAiB,IAAI;MACtD,MAAMhS,OAAO,GAAG,IAAI,CAAC6F,cAAc,CAACvF,GAAG,CAAC0R,aAAa,CAAC/Q,KAAK,CAAC;MAE5D,IAAI+Q,aAAa,CAACC,MAAM,IAAE,UAAU,EAAE;QACpC,IAAI,CAACvK,qBAAqB,CAACgH,IAAI,CAACsD,aAAa,CAAC/Q,KAAK,CAAC;OACrD,MAAM,IAAI+Q,aAAa,CAACC,MAAM,IAAE,oBAAoB,EAAE;QACrD,IAAI,CAAC7U,iBAAiB,GAAC,IAAI;OAC5B,MAAM,IAAI4C,OAAO,IAAI,CAACgS,aAAa,CAACC,MAAM,EAAE;QAC3CjS,OAAO,CAACc,aAAa,CAACxF,uDAAU,CAACkF,QAAQ,CAAC;QAC1CR,OAAO,CAACU,sBAAsB,EAAE;;IAEpC,CAAC,CAAC;EACJ;EAEAqR,wBAAwBA,CAAA;IACtB,IAAI,CAACD,UAAU,CAACI,gBAAgB,EAAE9R,OAAO,CAAE+R,eAAsB,IAAI;MACnE,IAAI,CAACtM,cAAc,CAACvF,GAAG,CAAC6R,eAAe,CAAC,EAAEnT,YAAY,CACrDC,IAAI,CACH+F,mDAAY,CAAC,IAAI,CAAC,EAClBC,2DAAoB,EAAE,EACtBvJ,gDAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAAE,CAC5BnL,SAAS,CAAE1B,KAAU,IAAI;QACxB,MAAMqR,IAAI,GAAG;UACXqD,gBAAgB,EAAE,IAAI,CAACJ,UAAU,CAACI,gBAAgB,EAAEhF,GAAG,CAAEiF,eAAmB,KACzE;YAAClR,KAAK,EAAEkR,eAAe;YAAE3U,KAAK,EAAE,IAAI,CAACqI,cAAc,CAACrI,KAAK,CAAC2U,eAAe;UAAC,CAAC,CAAC;SAEhF;QACD;QACA,IAAI,CAACrF,YAAY,CAAC+B,IAAI,CAAC;MAGzB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;;uBAhjBWxG,yBAAyB,EAAAxM,gEAAA,CAAAsF,4DAAA,GAAAtF,gEAAA,CAAAwW,+EAAA,GAAAxW,gEAAA,CAAA0W,qEAAA,GAAA1W,gEAAA,CAAA4W,+DAAA,GAAA5W,gEAAA,CAAA8W,wDAAA,GAAA9W,gEAAA,CAAA+W,qEAAA,GAAA/W,gEAAA,CAAAsF,oDAAA,GAAAtF,gEAAA,CAAAkX,sDAAA,GAAAlX,gEAAA,CAAAoX,+DAAA,GAAApX,gEAAA,CAAAoX,kEAAA,GAAApX,gEAAA,CAAAoX,kEAAA;IAAA;EAAA;;;YAAzB5K,yBAAyB;MAAAhH,SAAA;MAAAQ,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAqR,mCAAAnR,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCzBtCrG,6DAAA,2BAAmJ;UAAhHA,yDAAA,kBAAAyX,qEAAA;YAAA,OAAQnR,GAAA,CAAAwM,IAAA,EAAM;UAAA,EAAC,oBAAA4E,uEAAA;YAAA,OAAWpR,GAAA,CAAA2F,MAAA,EAAQ;UAAA,EAAnB;UAAiGjM,2DAAA,EAAoB;UAEvKA,6DAAA,cAAyF;UAApCA,yDAAA,oBAAA2X,0DAAA;YAAA,OAAUrR,GAAA,CAAAwM,IAAA,EAAM;UAAA,EAAC;UACpE9S,6DAAA,aAAwB;UAMdA,wDAAA,eAAqD;UAErDA,6DAAA,WAAM;UAAAA,qDAAA,6FAAe;UAAAA,2DAAA,EAAO;UAIhCA,6DAAA,cAAuB;UACrBA,wDAAA,cAA8B;UAGhCA,2DAAA,EAAM;UAENA,6DAAA,cAAuB;UAEnBA,qDAAA,0FACA;UAAAA,yDAAA,KAAA4X,kDAAA,2BAA6F;UAC/F5X,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UACyFA,yDAAA,oBAAA6X,gEAAAxN,MAAA;YAAA,OAAU/D,GAAA,CAAAqN,sBAAA,CAAAtJ,MAAA,CAA8B;UAAA,EAAC;UAACrK,2DAAA,EAAY;UACpKA,yDAAA,KAAA8X,kDAAA,2BAA0F;UAC5F9X,2DAAA,EAAM;UAkBRA,6DAAA,cAAuB;UAEnBA,qDAAA,8EACA;UAAAA,yDAAA,KAAA+X,kDAAA,2BAAiG;UACnG/X,2DAAA,EAAM;UACLA,6DAAA,cAAuB;UACtBA,wDAAA,qBAAqK;UACrKA,yDAAA,KAAAgY,kDAAA,2BAA8F;UAQ/FhY,2DAAA,EAAM;UAuBbA,6DAAA,cAAsB;UACpBA,wDAAA,iBAA0C;UAE1CA,6DAAA,cAA8B;UAItBA,qDAAA,gJACA;UAAAA,yDAAA,KAAAiY,kDAAA,2BAA0F;UAC5FjY,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UACrBA,wDAAA,iBAAsE;UACtEA,yDAAA,KAAAkY,kDAAA,2BAAuF;UACzFlY,2DAAA,EAAM;UAGRA,6DAAA,cAAuB;UAEnBA,qDAAA,+IACA;UAAAA,yDAAA,KAAAmY,kDAAA,2BAAyF;UAC3FnY,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UACrBA,wDAAA,iBAAoE;UACpEA,yDAAA,KAAAoY,kDAAA,2BAAsF;UACxFpY,2DAAA,EAAM;UAGRA,6DAAA,cAAuB;UAEnBA,qDAAA,4GACA;UAAAA,yDAAA,KAAAqY,kDAAA,2BAAgG;UAClGrY,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UACsFA,yDAAA,oBAAAsY,gEAAAjO,MAAA;YAAA,OAAU/D,GAAA,CAAAwN,eAAA,CAAAzJ,MAAA,CAAuB;UAAA,EAAC;UAACrK,2DAAA,EAAY;UAQ1JA,yDAAA,KAAAuY,kDAAA,2BAA6F;UAC/FvY,2DAAA,EAAM;UAiBVA,6DAAA,cAAuB;UAErBA,qDAAA,yCACA;UAAAA,yDAAA,KAAAwY,kDAAA,2BAA6F;UAC/FxY,2DAAA,EAAM;UACJA,6DAAA,cAAuB;UACuFA,yDAAA,oBAAAyY,gEAAApO,MAAA;YAAA,OAAU/D,GAAA,CAAA4N,YAAA,CAAA7J,MAAA,CAAoB;UAAA,EAAC;UAACrK,2DAAA,EAAY;UAQxJA,yDAAA,KAAA0Y,kDAAA,2BAA0F;UAC5F1Y,2DAAA,EAAM;UAmBVA,6DAAA,cAA8B;UAGxBA,qDAAA,yCACA;UAAAA,yDAAA,KAAA2Y,kDAAA,2BAA6F;UAC/F3Y,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UACrBA,wDAAA,iBAA4E;UAC5EA,yDAAA,KAAA4Y,kDAAA,2BAA0F;UAC5F5Y,2DAAA,EAAM;UAGRA,6DAAA,cAAuB;UAEnBA,qDAAA,oFACA;UAAAA,yDAAA,KAAA6Y,kDAAA,2BAA2F;UAC7F7Y,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UACrBA,wDAAA,iBAAqF;UACrFA,yDAAA,KAAA8Y,kDAAA,2BAAwF;UAC1F9Y,2DAAA,EAAM;UAGRA,6DAAA,cAAuB;UAEnBA,qDAAA,oFACA;UAAAA,yDAAA,KAAA+Y,kDAAA,2BAAyF;UAC3F/Y,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UACrBA,wDAAA,iBAAoE;UACpEA,yDAAA,KAAAgZ,kDAAA,2BAAsF;UACxFhZ,2DAAA,EAAM;UAKVA,6DAAA,cAA8B;UAIxBA,qDAAA,0FACA;UAAAA,yDAAA,KAAAiZ,kDAAA,2BAAqG;UACvGjZ,2DAAA,EAAM;UACNA,6DAAA,cAAuB;UAC+FA,yDAAA,oBAAAkZ,gEAAA7O,MAAA;YAAA,OAAU/D,GAAA,CAAAkO,oBAAA,CAAAnK,MAAA,CAA4B;UAAA,EAAC;UAACrK,2DAAA,EAAY;UAQxKA,yDAAA,KAAAmZ,kDAAA,2BAAkG;UACpGnZ,2DAAA,EAAM;UAeRA,yDAAA,KAAAoZ,yCAAA,mBAoBM;UAENpZ,yDAAA,KAAAqZ,yCAAA,kBAUM;UAkCLrZ,6DAAA,cAAuB;UAEpBA,qDAAA,qIACA;UAAAA,yDAAA,KAAAsZ,kDAAA,2BAAoG;UACtGtZ,2DAAA,EAAM;UACLA,6DAAA,cAAuB;UAOpBA,yDAAA,KAAAuZ,iDAAA,0BAAkF;UACpFvZ,2DAAA,EAAY;UACZA,yDAAA,KAAAwZ,kDAAA,2BAAiG;UAUlGxZ,2DAAA,EAAM;UAGTA,6DAAA,cAAuB;UAEnBA,qDAAA,iJACA;UAAAA,yDAAA,MAAAyZ,mDAAA,2BAA4F;UAC9FzZ,2DAAA,EAAM;UACNA,6DAAA,eAAuB;UACrBA,wDAAA,sBAAoH;UAQpHA,yDAAA,MAAA0Z,mDAAA,2BAAyF;UAC3F1Z,2DAAA,EAAM;UAqBZA,yDAAA,MAAA2Z,0CAAA,kBASM;UAEN3Z,6DAAA,eAAuB;UAGjBA,qDAAA,yKACA;UAAAA,yDAAA,MAAA4Z,mDAAA,2BAA8F;UAChG5Z,2DAAA,EAAM;UACNA,6DAAA,eAAuB;UACvBA,wDAAA,sBAAwH;UACxHA,yDAAA,MAAA6Z,mDAAA,2BAA2F;UAM3F7Z,2DAAA,EAAM;UAKZA,6DAAA,gBAA8B;UAAAA,qDAAA,mDAAO;UAAAA,2DAAA,EAAM;UAC3CA,6DAAA,eAAwB;UAGDA,qDAAA,sGAAkB;UAAAA,2DAAA,EAAM;UAC3CA,wDAAA,uBAAwE;UACxEA,6DAAA,gBAAkB;UACJA,qDAAA,+DAAS;UAAAA,2DAAA,EAAI;UAG7BA,6DAAA,gBAAyB;UACJA,qDAAA,8HAAsB;UAAAA,2DAAA,EAAM;UAC/CA,wDAAA,uBAAkF;UAClFA,6DAAA,gBAAkB;UACJA,qDAAA,+DAAS;UAAAA,2DAAA,EAAI;UAG7BA,6DAAA,gBAAyB;UACJA,qDAAA,0KAA+B;UAAAA,2DAAA,EAAM;UACxDA,6DAAA,gBAAwB;UACHA,qDAAA,KAAsC;UAAAA,2DAAA,EAAO;UAChEA,6DAAA,iBAAoB;UAAAA,qDAAA,KAAsC;UAAAA,2DAAA,EAAO;UACjEA,6DAAA,iBAAsB;UAAAA,qDAAA,KAAqC;UAAAA,2DAAA,EAAO;UAEpEA,6DAAA,gBAAkB;UAAYA,qDAAA,+DAAS;UAAAA,2DAAA,EAAI;UAE7CA,6DAAA,gBAAyB;UACJA,qDAAA,sJAA0B;UAAAA,2DAAA,EAAM;UACnDA,6DAAA,gBAAkB;UAAAA,qDAAA,KAA0B;UAAAA,2DAAA,EAAM;UAClDA,6DAAA,gBAAkB;UAAYA,qDAAA,+DAAS;UAAAA,2DAAA,EAAI;UAE7CA,6DAAA,gBAAyB;UACHA,qDAAA,8GAAoB;UAAAA,2DAAA,EAAM;UAC9CA,6DAAA,gBAAwB;UACJA,qDAAA,KAAkC;UAAAA,2DAAA,EAAO;UAC3DA,6DAAA,iBAAmB;UAAAA,qDAAA,KAA+B;UAAAA,2DAAA,EAAO;UAE3DA,6DAAA,gBAAkB;UAAYA,qDAAA,+DAAS;UAAAA,2DAAA,EAAI;UAK/CA,6DAAA,gBAA8B;UAC9BA,yDAAA,MAAA8Z,0CAAA,kBAGM;UAEN9Z,6DAAA,gBAAuB;UACSA,qDAAA,KAAwC;UAAAA,6DAAA,iBAA6C;UAArBA,yDAAA,mBAAA+Z,2DAAA;YAAA,OAAQzT,GAAA,CAAAsM,UAAA,EAAY;UAAA;UAAC5S,qDAAA,yDAAQ;UAAAA,2DAAA,EAAO;UAEpIA,yDAAA,MAAAga,gDAAA,wBAEY;UACZha,2DAAA,EAAM;UAENA,6DAAA,gBAAqB;UACnBA,wDAAA,gBACM;UACNA,6DAAA,gBAAgB;UACkCA,qDAAA,+DAAS;UAAAA,2DAAA,EAAO;UAChEA,yDAAA,MAAAia,6CAAA,qBAA6F;UAC7Fja,6DAAA,mBAAgD;UAAnBA,yDAAA,mBAAAka,6DAAA;YAAA,OAAS5T,GAAA,CAAAgM,MAAA,EAAQ;UAAA,EAAC;UAACtS,6DAAA,aAAM;UAAAA,qDAAA,6CAAM;UAAAA,2DAAA,EAAO;UAOzEA,yDAAA,MAAAma,kDAAA,iCAAAna,qEAAA,CAIc;UAEdA,yDAAA,MAAAoa,kDAAA,iCAAApa,qEAAA,CAEc;;;;;UAleKA,yDAAA,UAAAsG,GAAA,CAAA+H,KAAA,CAAe,eAAA/H,GAAA,CAAAgH,UAAA,UAAAhH,GAAA,CAAAsP,aAAA;UAEV5V,wDAAA,GAA4B;UAA5BA,yDAAA,cAAAsG,GAAA,CAAA0D,cAAA,CAA4B;UAsBzBhK,wDAAA,IAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,KAAA6H,GAAA;UAGoC7H,wDAAA,GAAyB;UAAzBA,yDAAA,UAAAsG,GAAA,CAAAkH,eAAA,CAAyB;UAC9FxN,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,KAAA6H,GAAA;UAsB9B7H,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,KAAA8H,GAAA;UAGwC9H,wDAAA,GAAgE;UAAhEA,yDAAA,UAAAA,8DAAA,KAAAiI,GAAA,EAAAjI,8DAAA,KAAA+H,GAAA,GAAA/H,8DAAA,KAAAgI,GAAA,GAAgE;UACzIhI,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,KAAA8H,GAAA;UAuC5B9H,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,KAAAkI,GAAA;UAIjClI,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,KAAAkI,GAAA;UAO9BlI,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,KAAAmI,GAAA;UAIjCnI,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,KAAAmI,GAAA;UAO9BnI,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,KAAAsI,IAAA;UAGuCtI,wDAAA,GAAmB;UAAnBA,yDAAA,UAAAsG,GAAA,CAAAjF,SAAA,CAAmB;UAQ3FrB,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,KAAAsI,IAAA;UAqBlCtI,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,KAAAsa,IAAA;UAGsCta,wDAAA,GAAuB;UAAvBA,yDAAA,UAAAsG,GAAA,CAAAuH,aAAA,CAAuB;UAQ5F7N,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,KAAAsa,IAAA;UAwB9Bta,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,KAAAua,IAAA;UAIjCva,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,KAAAua,IAAA;UAO9Bva,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,MAAAwa,IAAA;UAIjCxa,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,MAAAwa,IAAA;UAO9Bxa,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,MAAAya,IAAA;UAIjCza,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,MAAAya,IAAA;UAW9Bza,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,MAAA0a,IAAA;UAG4C1a,wDAAA,GAAuB;UAAvBA,yDAAA,UAAAsG,GAAA,CAAAyH,aAAA,CAAuB;UAQpG/N,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,MAAA0a,IAAA;UAgBzB1a,wDAAA,GAA8C;UAA9CA,yDAAA,SAAAsG,GAAA,CAAA0D,cAAA,CAAArI,KAAA,CAAAwO,eAAA,OAA8C;UAsB9CnQ,wDAAA,GAA8C;UAA9CA,yDAAA,SAAAsG,GAAA,CAAA0D,cAAA,CAAArI,KAAA,CAAAwO,eAAA,OAA8C;UA+CnDnQ,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,MAAA2a,IAAA;UAG2C3a,wDAAA,GAAsB;UAAtBA,yDAAA,UAAAsG,GAAA,CAAAiH,YAAA,CAAsB,mCAAAjH,GAAA,CAAA0D,cAAA,CAAArI,KAAA,CAAAgO,cAAA,kBAAArJ,GAAA,CAAA0D,cAAA,CAAArI,KAAA,CAAAgO,cAAA,CAAAnH,MAAA,6EAAAlC,GAAA,CAAA0D,cAAA,CAAArI,KAAA,CAAAgO,cAAA,CAAAnH,MAAA;UAQlGxI,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,MAAA2a,IAAA;UAgB9B3a,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,MAAA4a,IAAA;UAGmC5a,wDAAA,GAAoB;UAApBA,yDAAA,UAAAsG,GAAA,CAAAgI,UAAA,CAAoB;UAQxFtO,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,MAAA4a,IAAA;UAsB1B5a,wDAAA,GAAsC;UAAtCA,yDAAA,SAAAsG,GAAA,CAAA0D,cAAA,CAAArI,KAAA,CAAAuO,WAAA,CAAsC;UAe5ClQ,wDAAA,GAAiC;UAAjCA,yDAAA,qBAAA6J,IAAA,CAAiC,4BAAA7J,8DAAA,MAAA6a,IAAA;UAGmC7a,wDAAA,GAAsB;UAAtBA,yDAAA,UAAAsG,GAAA,CAAAwP,YAAA,CAAsB;UAC5F9V,wDAAA,GAA8B;UAA9BA,yDAAA,qBAAAkK,IAAA,CAA8B,4BAAAlK,8DAAA,MAAA6a,IAAA;UA+B1B7a,wDAAA,IAAsC;UAAtCA,gEAAA,CAAAsG,GAAA,CAAA+G,UAAA,CAAAyN,qBAAA,CAAsC;UACrC9a,wDAAA,GAAsC;UAAtCA,gEAAA,CAAAsG,GAAA,CAAA+G,UAAA,CAAA0N,qBAAA,CAAsC;UACpC/a,wDAAA,GAAqC;UAArCA,gEAAA,CAAAsG,GAAA,CAAA+G,UAAA,CAAA2N,oBAAA,CAAqC;UAM3Chb,wDAAA,GAA0B;UAA1BA,gEAAA,CAAAsG,GAAA,CAAA+G,UAAA,CAAA4N,WAAA,CAA0B;UAMxBjb,wDAAA,GAAkC;UAAlCA,gEAAA,CAAAsG,GAAA,CAAA+G,UAAA,CAAA6N,mBAAA,CAAkC;UACjClb,wDAAA,GAA+B;UAA/BA,gEAAA,CAAAsG,GAAA,CAAA+G,UAAA,CAAA8N,gBAAA,CAA+B;UAQbnb,wDAAA,GAAsB;UAAtBA,yDAAA,YAAAsG,GAAA,CAAAmJ,QAAA,CAAA/O,QAAA,CAAsB;UAMjCV,wDAAA,GAAwC;UAAxCA,iEAAA,iGAAAsG,GAAA,CAAAmJ,QAAA,CAAAjH,MAAA,SAAwC;UAE5DxI,wDAAA,GAAuF;UAAvFA,yDAAA,UAAAsG,GAAA,CAAAmJ,QAAA,CAAA2L,MAAA,kBAAA9U,GAAA,CAAAmJ,QAAA,CAAA2L,MAAA,kBAAA9U,GAAA,CAAA0D,cAAA,CAAAnJ,OAAA,IAAAyF,GAAA,CAAA0D,cAAA,CAAAqR,KAAA,EAAuF;UAUpErb,wDAAA,GAAgB;UAAhBA,yDAAA,SAAAsG,GAAA,CAAAgH,UAAA,CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;ACjdwB;;;;;;;;;;;ICErEtN,4DAAA,cAAkG;IAA1BA,wDAAA,mBAAAsb,sDAAA;MAAA,MAAAhQ,WAAA,GAAAtL,2DAAA,CAAAub,GAAA;MAAA,MAAAC,IAAA,GAAAlQ,WAAA,CAAAzC,KAAA;MAAA,MAAA4S,MAAA,GAAAzb,2DAAA;MAAA,OAASA,yDAAA,CAAAyb,MAAA,CAAAC,QAAA,CAAAF,IAAA,GAAa,CAAC,CAAC;IAAA,EAAC;IAACxb,0DAAA,EAAO;;;;IAA3DA,wDAAA,YAAAA,6DAAA,IAAA0H,GAAA,EAAAiU,OAAA,EAAyB;;;;;;;;ADYrE,MAAOC,eAAe;EAY1Bza,YAAA;IAXS,KAAA0a,KAAK,GAAW,EAAE;IAClB,KAAAC,KAAK,GAAW,KAAK;IAE9B,KAAAC,KAAK,GAAW,CAAC;IACjB,KAAAC,KAAK,GAAG,IAAIC,KAAK,CAAU,IAAI,CAACJ,KAAK,CAAC,CAACK,IAAI,CAAC,KAAK,CAAC;IAClD,KAAAC,UAAU,GAAG,KAAK;IACV,KAAAtb,OAAO,GAAG,KAAK;IAEvB,KAAAa,QAAQ,GAAIC,KAAa,IAAI,CAAE,CAAC;IAChC,KAAAC,SAAS,GAAG,MAAK,CAAE,CAAC;EAEJ;EAEhBsB,QAAQA,CAAA,GACR;EAEAN,UAAUA,CAACmZ,KAAa;IACtB,IAAI,CAACA,KAAK,GAAG,CAACA,KAAK;IACnB,IAAI,CAACK,SAAS,EAAE;EAClB;EAEArZ,gBAAgBA,CAACC,EAAO;IACtB,IAAI,CAACtB,QAAQ,GAAGsB,EAAE;EACpB;EAEAC,iBAAiBA,CAACD,EAAO;IACvB,IAAI,CAACpB,SAAS,GAAGoB,EAAE;EACrB;EAEAqZ,gBAAgBA,CAACF,UAAmB;IAClC,IAAI,CAACA,UAAU,GAAGA,UAAU;EAC9B;EAEAG,SAASA,CAAA;IACP,OAAO,GAAG,IAAI,CAACP,KAAK,IAAI,IAAI,CAACF,KAAK,IAAI,IAAI,CAACC,KAAK,EAAE;EACpD;EAEAJ,QAAQA,CAACK,KAAa;IACpB,IAAI,IAAI,CAACI,UAAU,EAAE;MACnB;;IAEF,IAAI,CAACJ,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACK,SAAS,EAAE;IAChB,IAAI,CAAC1a,QAAQ,CAAC,IAAI,CAACqa,KAAK,CAAC;IACzB,IAAI,CAAC,IAAI,CAAClb,OAAO,EAAE;MACjB,IAAI,CAACA,OAAO,GAAG,IAAI;MACnB,IAAI,CAACe,SAAS,EAAE;;EAEpB;EAEAwa,SAASA,CAAA;IACP,KAAK,IAAI3T,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACoT,KAAK,EAAEpT,CAAC,EAAE,EAAE;MACnC,IAAI,CAACuT,KAAK,CAACvT,CAAC,CAAC,GAAGA,CAAC,GAAG,IAAI,CAACsT,KAAK;;EAElC;;;uBAvDWH,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAApW,SAAA;MAAAC,MAAA;QAAAoW,KAAA;QAAAC,KAAA;MAAA;MAAApW,QAAA,GAAA1F,gEAAA,CARf,CACT;QACE4F,OAAO,EAAElG,6DAAiB;QAC1BmG,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE8V;OACd,CACF;MAAA5V,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAoW,yBAAAlW,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCbHrG,4DAAA,aAAkB;UAChBA,oDAAA,GACA;UAAAA,4DAAA,cAAyD;UACvDA,wDAAA,IAAAwc,+BAAA,kBAAyG;UAC3Gxc,0DAAA,EAAO;;;UAHPA,uDAAA,GACA;UADAA,gEAAA,MAAAsG,GAAA,CAAAyV,KAAA,OAAAzV,GAAA,CAAAuV,KAAA,OAAAvV,GAAA,CAAAwV,KAAA,MACA;UAAoB9b,uDAAA,GAAoC;UAApCA,wDAAA,YAAAA,6DAAA,IAAA2H,GAAA,EAAArB,GAAA,CAAA6V,UAAA,EAAoC;UAC/Bnc,uDAAA,GAAU;UAAVA,wDAAA,YAAAsG,GAAA,CAAA0V,KAAA,CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFoC;AAGiB;AACT;;;;;;;;;;;ICEtChc,oDAAA,2EAAa;;;;;IACbA,oDAAA,qEAAY;;;;;IACXA,oDAAA,GAAmC;;;;IAAnCA,gEAAA,YAAA2c,OAAA,CAAAC,eAAA,CAAApU,MAAA,0CAAmC;;;;;IAClCxI,oDAAA,GAAkC;;;;IAAlCA,gEAAA,YAAAQ,OAAA,CAAAoc,eAAA,CAAApU,MAAA,oCAAkC;;;;;IACjCxI,oDAAA,GAAkC;;;;IAAlCA,gEAAA,YAAA6c,OAAA,CAAAD,eAAA,CAAApU,MAAA,oCAAkC;;;;;IAPxExI,4DAAA,UAA+B;IAAAA,oDAAA,GAC7B;IAAAA,4DAAA,eAA0C;IACxCA,wDAAA,IAAA8c,kEAAA,0BAA6C;IAC7C9c,wDAAA,IAAA+c,kEAAA,0BAA0D;IAC1D/c,wDAAA,IAAAgd,kEAAA,0BAAyD;IACzDhd,wDAAA,IAAAid,kEAAA,0BAAiF;IACjFjd,wDAAA,IAAAkd,kEAAA,0BAAiF;IACjFld,wDAAA,IAAAmd,kEAAA,0BAAkF;IACpFnd,0DAAA,EAAO;IAAAA,oDAAA,SACT;IAAAA,0DAAA,EAAM;;;;IATyBA,uDAAA,GAC7B;IAD6BA,gEAAA,qFAAAod,MAAA,CAAA5b,WAAA,CAAA6b,SAAA,MAC7B;IAAMrd,uDAAA,GAAmC;IAAnCA,wDAAA,aAAAod,MAAA,CAAAR,eAAA,CAAApU,MAAA,CAAmC;;;;;;IAYRxI,oDAAA,uFAAe;;;;;IACfA,oDAAA,2EAAa;;;;;IACZA,oDAAA,GAAmC;;;;IAAnCA,gEAAA,kBAAAsd,OAAA,CAAAV,eAAA,CAAApU,MAAA,oCAAmC;;;;;IAClCxI,oDAAA,GAAmC;;;;IAAnCA,gEAAA,kBAAAud,OAAA,CAAAX,eAAA,CAAApU,MAAA,oCAAmC;;;;;IAClCxI,oDAAA,GAAmC;;;;IAAnCA,gEAAA,kBAAAwd,OAAA,CAAAZ,eAAA,CAAApU,MAAA,oCAAmC;;;;;IAPzExI,4DAAA,UAA+B;IAAAA,oDAAA,GAC7B;IAAAA,4DAAA,eAA0C;IACxCA,wDAAA,IAAAyd,kEAAA,0BAA6C;IAC7Czd,wDAAA,IAAA0d,kEAAA,0BAA4D;IAC5D1d,wDAAA,IAAA2d,kEAAA,0BAA0D;IAC1D3d,wDAAA,IAAA4d,kEAAA,0BAAiF;IACjF5d,wDAAA,IAAA6d,kEAAA,0BAAkF;IAClF7d,wDAAA,IAAA8d,kEAAA,0BAAmF;IACrF9d,0DAAA,EAAO;IAAAA,oDAAA,SACT;IAAAA,0DAAA,EAAM;;;;IATyBA,uDAAA,GAC7B;IAD6BA,gEAAA,+EAAA+d,MAAA,CAAAvc,WAAA,CAAAwc,OAAA,MAC7B;IAAMhe,uDAAA,GAAmC;IAAnCA,wDAAA,aAAA+d,MAAA,CAAAnB,eAAA,CAAApU,MAAA,CAAmC;;;;;IAYzCxI,4DAAA,qBAAwE;IACtEA,oDAAA,GACF;IAAAA,0DAAA,EAAa;;;;IAFyCA,wDAAA,UAAAie,WAAA,CAAiB;IACrEje,uDAAA,GACF;IADEA,gEAAA,MAAAie,WAAA,CAAAhc,IAAA,MACF;;;;;;IAUJjC,4DAAA,aAAwD;IACvCA,uDAAA,eAA+C;IAAAA,4DAAA,WAAM;IAAAA,oDAAA,GAAa;IAAAA,0DAAA,EAAO;IACxFA,4DAAA,YAAO;IAEHA,wDAAA,oBAAAke,oFAAA7T,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAAme,IAAA;MAAA,MAAAC,QAAA,GAAA9S,WAAA,CAAA+S,SAAA;MAAA,MAAAxT,OAAA,GAAA7K,2DAAA;MAAA,OAAUA,yDAAA,CAAA6K,OAAA,CAAAyT,gBAAA,CAAAF,QAAA,CAAAG,IAAA,EAAAlU,MAAA,CAAmC;IAAA,EAAC;IAACrK,0DAAA,EAAe;IAChEA,uDAAA,QAAO;IACTA,0DAAA,EAAQ;;;;;IANqBA,wDAAA,YAAAoe,QAAA,CAAAI,OAAA,CAAwB;IACpBxe,uDAAA,GAAqB;IAArBA,wDAAA,YAAAoe,QAAA,CAAAK,IAAA,CAAqB;IAAcze,uDAAA,GAAa;IAAbA,+DAAA,CAAAoe,QAAA,CAAAnc,IAAA,CAAa;IAEhDjC,uDAAA,GAAwC;IAAxCA,wDAAA,YAAA0e,MAAA,CAAAC,iBAAA,CAAAP,QAAA,CAAAG,IAAA,EAAwC,mBAAAG,MAAA,CAAAE,kBAAA,CAAAR,QAAA,CAAAG,IAAA;;;;;;IAqB3Eve,4DAAA,aAAwD;IAGlDA,wDAAA,oBAAA6e,0FAAAxU,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAA8e,IAAA;MAAA,MAAAC,QAAA,GAAAzT,WAAA,CAAA+S,SAAA;MAAA,MAAAW,WAAA,GAAAhf,2DAAA,GAAAqe,SAAA;MAAA,MAAAlT,OAAA,GAAAnL,2DAAA;MAAA,OAAUA,yDAAA,CAAAmL,OAAA,CAAA8T,uBAAA,CAAAD,WAAA,CAAAjd,EAAA,EAAAgd,QAAA,CAAAR,IAAA,EAAAlU,MAAA,CAAsD;IAAA,EAAC;IAACrK,0DAAA,EAAe;IACnFA,uDAAA,QAAO;IACTA,0DAAA,EAAQ;;;;;;IALqBA,wDAAA,YAAA+e,QAAA,CAAAP,OAAA,CAAwB;IAEpBxe,uDAAA,GAA2D;IAA3DA,wDAAA,YAAAkf,OAAA,CAAAC,wBAAA,CAAAH,WAAA,CAAAjd,EAAA,EAAAgd,QAAA,CAAAR,IAAA,EAA2D;;;;;;IAhBhGve,4DAAA,aAAuE;IAG3DA,oDAAA,GAAkB;IAAAA,0DAAA,EAAO;IAC/BA,4DAAA,eAAsD;IAApCA,wDAAA,mBAAAof,2EAAA;MAAA,MAAA9T,WAAA,GAAAtL,2DAAA,CAAAqf,IAAA;MAAA,MAAAL,WAAA,GAAA1T,WAAA,CAAA+S,SAAA;MAAA,MAAAiB,OAAA,GAAAtf,2DAAA;MAAA,OAASA,yDAAA,CAAAsf,OAAA,CAAAC,aAAA,CAAAP,WAAA,CAAAjd,EAAA,CAAyB;IAAA,EAAC;IAAC/B,0DAAA,EAAO;IAGjEA,4DAAA,aAAmB;IAGbA,wDAAA,oBAAAwf,oFAAAnV,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAAqf,IAAA;MAAA,MAAAL,WAAA,GAAA1T,WAAA,CAAA+S,SAAA;MAAA,MAAAoB,OAAA,GAAAzf,2DAAA;MAAA,OAAUA,yDAAA,CAAAyf,OAAA,CAAAC,mBAAA,CAAAV,WAAA,CAAAjd,EAAA,EAAAsI,MAAA,CAAuC;IAAA,EAAC;IAACrK,0DAAA,EAAe;IACpEA,uDAAA,QAAO;IACTA,0DAAA,EAAQ;IAEVA,wDAAA,KAAA2f,0DAAA,iBAMK;IACP3f,0DAAA,EAAK;;;;;IAlBOA,uDAAA,GAAkB;IAAlBA,+DAAA,CAAAgf,WAAA,CAAA/c,IAAA,CAAkB;IAMOjC,uDAAA,GAA4C;IAA5CA,wDAAA,YAAA4f,MAAA,CAAAC,oBAAA,CAAAb,WAAA,CAAAjd,EAAA,EAA4C,mBAAA6d,MAAA,CAAAE,qBAAA,CAAAd,WAAA,CAAAjd,EAAA;IAK1D/B,uDAAA,GAAQ;IAARA,wDAAA,YAAA4f,MAAA,CAAAG,KAAA,CAAQ;;;;;;IA/DnC/f,4DAAA,eAAoC;IAI5BA,wDAAA,IAAAggB,oDAAA,kBASM;IACNhgB,wDAAA,IAAAigB,oDAAA,kBASM;IACNjgB,4DAAA,eAC2B;IAD6CA,wDAAA,2BAAAkgB,8EAAA7V,MAAA;MAAArK,2DAAA,CAAA6J,IAAA;MAAA,MAAAsC,OAAA,GAAAnM,2DAAA;MAAA,OAAAA,yDAAA,CAAAmM,OAAA,CAAApI,OAAA,GAAAsG,MAAA;IAAA,EAAqB,2BAAA6V,8EAAA7V,MAAA;MAAArK,2DAAA,CAAA6J,IAAA;MAAA,MAAAyC,OAAA,GAAAtM,2DAAA;MAAA,OAAkBA,yDAAA,CAAAsM,OAAA,CAAA6T,QAAA,CAAA9V,MAAA,CAAgB;IAAA,EAAlC;IAA7FrK,0DAAA,EAC2B;IAC3BA,4DAAA,6BAAoG;IAAhCA,wDAAA,4BAAAogB,0FAAA;MAAApgB,2DAAA,CAAA6J,IAAA;MAAA,MAAAwW,OAAA,GAAArgB,2DAAA;MAAA,OAAkBA,yDAAA,CAAAqgB,OAAA,CAAAC,UAAA,EAAY;IAAA,EAAC;IACjGtgB,wDAAA,IAAAugB,2DAAA,wBAEa;IACfvgB,0DAAA,EAAmB;IAErBA,4DAAA,aAAuB;IACNA,oDAAA,mDAAQ;IAAAA,0DAAA,EAAM;IAC7BA,4DAAA,aAAO;IACoFA,wDAAA,oBAAAwgB,+EAAAnW,MAAA;MAAArK,2DAAA,CAAA6J,IAAA;MAAA,MAAA4W,OAAA,GAAAzgB,2DAAA;MAAA,OAAUA,yDAAA,CAAAygB,OAAA,CAAAC,SAAA,CAAArW,MAAA,CAAiB;IAAA,EAAC;IAACrK,0DAAA,EAAe;IACrIA,uDAAA,SAAO;IACTA,0DAAA,EAAQ;IAEVA,wDAAA,KAAA2gB,oDAAA,iBAOK;IACP3gB,0DAAA,EAAK;IAELA,wDAAA,KAAA4gB,oDAAA,kBAqBK;IACP5gB,0DAAA,EAAQ;;;;;IAnEIA,uDAAA,GAAuB;IAAvBA,wDAAA,SAAA6gB,MAAA,CAAApC,IAAA,cAAuB;IAUvBze,uDAAA,GAAuB;IAAvBA,wDAAA,SAAA6gB,MAAA,CAAApC,IAAA,cAAuB;IAU2Cze,uDAAA,GAAqB;IAArBA,wDAAA,YAAA6gB,MAAA,CAAA9c,OAAA,CAAqB,oBAAA+c,GAAA;IAEnD9gB,uDAAA,GAAyB;IAAzBA,wDAAA,gBAAA6gB,MAAA,CAAAE,SAAA,CAAyB;IACjC/gB,uDAAA,GAAoB;IAApBA,wDAAA,YAAA6gB,MAAA,CAAAlT,iBAAA,CAAoB;IAQrB3N,uDAAA,GAAwB;IAAxBA,wDAAA,YAAA6gB,MAAA,CAAAG,UAAA,GAAwB,mBAAAH,MAAA,CAAAI,WAAA;IAItCjhB,uDAAA,GAAQ;IAARA,wDAAA,YAAA6gB,MAAA,CAAAd,KAAA,CAAQ;IAUK/f,uDAAA,GAAoB;IAApBA,wDAAA,YAAA6gB,MAAA,CAAAjE,eAAA,CAAoB;;;AD7BtD,MAAOsE,6BAA6B;EAgBxC/f,YAAA;IAfS,KAAAE,SAAS,GAAc,EAAE;IACzB,KAAAG,WAAW,GAAY1B,oEAAc;IACrC,KAAA2e,IAAI,GAAwB,QAAQ;IAC7C,KAAA/c,QAAQ,GAAIC,KAAU,IAAI,CAAG,CAAC;IAC9B,KAAAC,SAAS,GAAG,MAAK,CAAG,CAAC;IAIrB,KAAA+L,iBAAiB,GAAc,EAAE;IAEjC,KAAAoS,KAAK,GAAGrD,2EAAqB;IAC7B,KAAAyE,gBAAgB,GAAqB,EAAE;IAEvC,KAAAvE,eAAe,GAAc,EAAE;IAC/B,KAAArN,QAAQ,GAAY,KAAK;EACT;EAEhB5L,WAAWA,CAACC,OAAsB;IAChC,MAAMwd,iBAAiB,GAAGxd,OAAO,CAAC,aAAa,CAAC;IAChD,IAAIwd,iBAAiB,EAAE;MACrB,IAAI,IAAI,CAAC5f,WAAW,EAAE;QACpB,MAAMqC,aAAa,GAAG,IAAI,CAACrC,WAAW,CAACO,EAAE;QACzC,OAAO,IAAI,CAACof,gBAAgB,CAACtd,aAAa,CAAC;QAC3C,IAAI,CAAC+Y,eAAe,GAAG,IAAI,CAACA,eAAe,CAACjM,MAAM,CAAC,CAAC;UAAE5O;QAAE,CAAE,KAAKA,EAAE,KAAK8B,aAAa,CAAC;;;EAG1F;EAEAjB,UAAUA,CAACye,mBAAqC;IAC9C,IAAI,CAACF,gBAAgB,GAAGE,mBAAmB,IAAI,EAAE;IACjD,IAAI,CAACzE,eAAe,GAAGvY,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC6c,gBAAgB,CAAC,CACtDxQ,MAAM,CAAC2D,SAAS,IAAIkB,MAAM,CAAClB,SAAS,CAAC,KAAK,IAAI,CAAC9S,WAAW,CAACO,EAAE,CAAC,CAC9DsP,GAAG,CAACiD,SAAS,IAAI,IAAI,CAACgN,cAAc,CAAChN,SAAS,CAAE,CAAC,CACjDiN,IAAI,CAACC,MAAM,CAAC;EACjB;EAEAze,gBAAgBA,CAACC,EAAO;IACtB,IAAI,CAACtB,QAAQ,GAAGsB,EAAE;EACpB;EAEAC,iBAAiBA,CAACD,EAAO;IACvB,IAAI,CAACpB,SAAS,GAAGoB,EAAE;EACrB;EAEAmd,QAAQA,CAACpc,OAAyB;IAChC,IAAI,CAAC4J,iBAAiB,GAAG,IAAI,CAACtM,SAAS,CAACsP,MAAM,CAACL,CAAC,IAAG;MACjD,MAAM3O,KAAK,GAAG,OAAOoC,OAAO,KAAK,QAAQ,GAAGA,OAAO,GAAGA,OAAO,CAAC9B,IAAK;MACnE,OAAOqO,CAAC,CAACrO,IAAK,CAAC8M,WAAW,EAAE,CAACC,QAAQ,CAACrN,KAAK,CAACoN,WAAW,EAAE,CAAC,IAAI,EAAEuB,CAAC,CAACvO,EAAE,IAAI,IAAI,CAACof,gBAAgB,IAAI7Q,CAAC,CAACvO,EAAE,KAAK,IAAI,CAACP,WAAW,CAACO,EAAE,CAAC;IAChI,CAAC,CAAC;EACJ;EAEAgf,SAASA,CAAChd,OAAgB;IACxB,OAAOA,OAAO,IAAIA,OAAO,CAAC9B,IAAI,GAAG8B,OAAO,CAAC9B,IAAI,GAAG,EAAE;EACpD;EAEAqe,UAAUA,CAAA;IACR,IAAI,CAAC1D,eAAe,CAAC/J,IAAI,CAAC,IAAI,CAAC9O,OAAQ,CAAC;IACxCe,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC6X,eAAe,CAAC;IAEjC,IAAI,CAACA,eAAe,CAAC2E,IAAI,CAACC,MAAM,CAAC;IACjC,IAAI,CAACL,gBAAgB,CAAC,IAAI,CAACpd,OAAQ,CAAChC,EAAE,CAAC,GAAG,EAAE;IAC5C,IAAI,CAACgC,OAAO,GAAG8L,SAAS;IACxB,IAAI,CAAC4R,YAAY,EAAE;EACrB;EAEAH,cAAcA,CAACvf,EAAmB;IAChC,OAAO,IAAI,CAACV,SAAS,CAACyC,IAAI,CAACC,OAAO,IAAIA,OAAO,CAAChC,EAAE,KAAKyT,MAAM,CAACzT,EAAE,CAAC,CAAC;EAClE;EAEAwd,aAAaA,CAACjL,SAA0B;IACtC,MAAMzL,KAAK,GAAG,IAAI,CAAC+T,eAAe,CAAC8E,SAAS,CAAC,CAAC;MAAE3f;IAAE,CAAE,KAAKA,EAAE,KAAKyT,MAAM,CAAClB,SAAS,CAAC,CAAC;IAClF,IAAIzL,KAAK,IAAI,CAAC,EAAE;MACd,IAAI,CAAC+T,eAAe,CAAC+E,MAAM,CAAC9Y,KAAK,EAAE,CAAC,CAAC;;IAEvC,OAAO,IAAI,CAACsY,gBAAgB,CAAC7M,SAAS,CAAC;IACvC,IAAI,CAACmN,YAAY,EAAE;EACrB;EAGAT,UAAUA,CAAA;IACR,MAAMY,YAAY,GAAG,IAAI,CAACC,eAAe,EAAE;IAC3C,OAAO,IAAI,CAACjF,eAAe,CAACpU,MAAM,GAAG,CAAC,IAAIoZ,YAAY,KAAK,IAAI,CAAChF,eAAe,CAACpU,MAAM,GAAGhJ,kFAAiB,CAACgJ,MAAM;EACnH;EAEAyY,WAAWA,CAAA;IACT,MAAMW,YAAY,GAAG,IAAI,CAACC,eAAe,EAAE;IAC3C,OAAOD,YAAY,KAAK,CAAC,IAAIA,YAAY,KAAK,IAAI,CAAChF,eAAe,CAACpU,MAAM,GAAGhJ,kFAAiB,CAACgJ,MAAM;EACtG;EAEQqZ,eAAeA,CAAA;IACrB,OAAO,IAAI,CAACjF,eAAe,CAACvL,GAAG,CAAC,CAAC;MAAEtP;IAAE,CAAE,KAAK,IAAI,CAACof,gBAAgB,CAACpf,EAAE,CAAC,CAACyG,MAAM,CAAC,CAACsZ,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAGC,KAAK,EAAE,CAAC,CAAC;EACtH;EAEAtB,SAASA,CAAC;IAAEuB;EAAO,CAAqB;IACtC,IAAI,CAACrF,eAAe,CAACrY,OAAO,CAAC,CAAC;MAAExC;IAAE,CAAE,KAAK,IAAI,CAACof,gBAAgB,CAACpf,EAAE,CAAC,GAAGkgB,OAAO,GAAG,CAAC,GAAGziB,kFAAiB,CAAC,GAAG,EAAE,CAAC;IAC3G,IAAI,CAACiiB,YAAY,EAAE;EACrB;EAEA9C,iBAAiBA,CAACJ,IAAsB;IACtC,OAAO,IAAI,CAAC3B,eAAe,CAACpU,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC0Z,iBAAiB,CAAC3D,IAAI,CAAC,KAAK,IAAI,CAAC3B,eAAe,CAACpU,MAAM;EACxG;EAEAoW,kBAAkBA,CAACL,IAAsB;IACvC,MAAM0D,OAAO,GAAG,IAAI,CAACC,iBAAiB,CAAC3D,IAAI,CAAC;IAC5C,OAAO0D,OAAO,KAAK,CAAC,IAAIA,OAAO,KAAK,IAAI,CAACrF,eAAe,CAACpU,MAAM;EACjE;EAEQ0Z,iBAAiBA,CAAC3D,IAAsB;IAC9C,OAAO,IAAI,CAAC3B,eAAe,CAACvL,GAAG,CAAC,CAAC;MAAEtP;IAAE,CAAE,KAAK,IAAI,CAACof,gBAAgB,CAACpf,EAAE,CAAC,CAACiN,QAAQ,CAACuP,IAAI,CAAC,CAAC,CAACuD,MAAM,CAAC,CAACC,GAAG,EAAEE,OAAO,KAAKA,OAAO,GAAGF,GAAG,GAAG,CAAC,GAAGA,GAAG,EAAE,CAAC,CAAC;EAC5I;EAEAzD,gBAAgBA,CAACC,IAAsB,EAAE;IAAE0D;EAAO,CAAqB;IACrE,IAAI,CAACrF,eAAe,CAACrY,OAAO,CAAC,CAAC;MAAExC;IAAE,CAAE,KAAI;MACtC,MAAMge,KAAK,GAAG,IAAI,CAACoB,gBAAgB,CAACpf,EAAE,CAAC;MACvC,IAAIkgB,OAAO,EAAE;QACX,IAAI,CAAClC,KAAK,CAAC/Q,QAAQ,CAACuP,IAAI,CAAC,EAAE;UACzBwB,KAAK,CAAClN,IAAI,CAAC0L,IAAI,CAAC;;OAEnB,MAAM;QACL,IAAI,CAAC4C,gBAAgB,CAACpf,EAAE,CAAC,GAAGge,KAAK,CAACpP,MAAM,CAACwR,KAAK,IAAIA,KAAK,KAAK5D,IAAI,CAAC;;IAErE,CAAC,CAAC;IACF,IAAI,CAACkD,YAAY,EAAE;EACrB;EAEA5B,oBAAoBA,CAACvL,SAA0B;IAC7C,MAAMyL,KAAK,GAAG,IAAI,CAACoB,gBAAgB,CAAC7M,SAAS,CAAC;IAC9C,OAAOyL,KAAK,CAACvX,MAAM,KAAKhJ,kFAAiB,CAACgJ,MAAM;EAClD;EAEAsX,qBAAqBA,CAACxL,SAA0B;IAC9C,MAAMyL,KAAK,GAAG,IAAI,CAACoB,gBAAgB,CAAC7M,SAAS,CAAC;IAC9C,OAAOyL,KAAK,CAACvX,MAAM,KAAKhJ,kFAAiB,CAACgJ,MAAM,IAAIuX,KAAK,CAACvX,MAAM,KAAK,CAAC;EACxE;EAEAkX,mBAAmBA,CAACpL,SAA0B,EAAE;IAAE2N;EAAO,CAAqB;IAC5E,IAAIA,OAAO,EAAE;MACX,IAAI,CAACd,gBAAgB,CAAC7M,SAAS,CAAC,GAAG,CAAC,GAAG9U,kFAAiB,CAAC;KAC1D,MAAM;MACL,IAAI,CAAC2hB,gBAAgB,CAAC7M,SAAS,CAAC,GAAG,EAAE;;IAEvC,IAAI,CAACmN,YAAY,EAAE;EACrB;EAEAtC,wBAAwBA,CAAC7K,SAA0B,EAAEiK,IAAsB;IACzE,MAAMwB,KAAK,GAAG,IAAI,CAACoB,gBAAgB,CAAC7M,SAAS,CAAC;IAC9C,OAAOyL,KAAK,CAAC/Q,QAAQ,CAACuP,IAAI,CAAC;EAC7B;EAEAU,uBAAuBA,CAAC3K,SAA0B,EAAEiK,IAAsB,EAAE;IAAE0D;EAAO,CAAqB;IACxG,MAAMlC,KAAK,GAAG,IAAI,CAACoB,gBAAgB,CAAC7M,SAAS,CAAC;IAC9C,IAAI2N,OAAO,EAAE;MACXlC,KAAK,CAAClN,IAAI,CAAC0L,IAAI,CAAC;KACjB,MAAM;MACL,IAAI,CAAC4C,gBAAgB,CAAC7M,SAAS,CAAC,GAAGyL,KAAK,CAACpP,MAAM,CAACwR,KAAK,IAAI5D,IAAI,KAAK4D,KAAK,CAAC;;IAE1E,IAAI,CAACV,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,MAAM9f,KAAK,GAAG;MAAE,GAAG,IAAI,CAACwf;IAAgB,CAAE;IAC1C,OAAOxf,KAAK,CAAC,IAAI,CAACH,WAAW,CAACO,EAAE,CAAC;IACjC,IAAI,CAACL,QAAQ,CAACC,KAAK,CAAC;IACpB,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAya,gBAAgBA,CAACF,UAAmB;IAClC,IAAI,CAAC5M,QAAQ,GAAG4M,UAAU;EAC5B;;;uBAzKW+E,6BAA6B;IAAA;EAAA;;;YAA7BA,6BAA6B;MAAA1b,SAAA;MAAAC,MAAA;QAAApE,SAAA;QAAAG,WAAA;QAAAid,IAAA;MAAA;MAAA/Y,QAAA,GAAA1F,gEAAA,CAR7B,CACT;QACE4F,OAAO,EAAElG,6DAAiB;QAC1BmG,KAAK,EAAE,IAAI;QACXC,WAAW,EAAEob;OACd,CACF,GAAAlhB,kEAAA;MAAAgG,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAic,uCAAA/b,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UClBHrG,wDAAA,IAAAqiB,8CAAA,qBAwEQ;;;UAxEWriB,wDAAA,UAAAsG,GAAA,CAAAiJ,QAAA,CAAe;;;;;;;;;ADiMlC,MAAMiS,MAAM,GAAGA,CAAC/N,CAAU,EAAE6O,CAAU,KAAK7O,CAAC,CAACxR,IAAK,CAACsgB,aAAa,CAACD,CAAC,CAACrgB,IAAK,CAAC;;;;;;;;;;;;;;;;;;;;AEjMQ;AAER;AAGiB;;;;;;;ICQpFjC,4DAAA,YAAwD;IACvCA,uDAAA,cAA+C;IAAAA,4DAAA,WAAM;IAAAA,oDAAA,GAAa;IAAAA,0DAAA,EAAO;IACxFA,4DAAA,YAAO;IAC+DA,wDAAA,oBAAAwiB,iFAAAnY,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAAub,GAAA;MAAA,MAAAkH,OAAA,GAAAnX,WAAA,CAAA+S,SAAA;MAAA,MAAA5C,MAAA,GAAAzb,2DAAA;MAAA,OAAUA,yDAAA,CAAAyb,MAAA,CAAAiH,YAAA,CAAAD,OAAA,CAAAlE,IAAA,EAAAlU,MAAA,CAA+B;IAAA,EAAC;IAACrK,0DAAA,EAAe;IAC9HA,uDAAA,QAAO;IACTA,0DAAA,EAAQ;;;;;IALqBA,wDAAA,YAAAyiB,OAAA,CAAAjE,OAAA,CAAwB;IACpBxe,uDAAA,GAAqB;IAArBA,wDAAA,YAAAyiB,OAAA,CAAAhE,IAAA,CAAqB;IAAcze,uDAAA,GAAa;IAAbA,+DAAA,CAAAyiB,OAAA,CAAAxgB,IAAA,CAAa;IAEhDjC,uDAAA,GAAoC;IAApCA,wDAAA,YAAAod,MAAA,CAAAuF,aAAA,CAAAF,OAAA,CAAAlE,IAAA,EAAoC;;;;;;IAhB7Eve,4DAAA,eAAoC;IAIvBA,oDAAA,GAA6C;IAAAA,0DAAA,EAAM;IAE1DA,4DAAA,YAAuB;IACNA,oDAAA,kDAAQ;IAAAA,0DAAA,EAAM;IAC7BA,4DAAA,YAAO;IACoFA,wDAAA,oBAAA4iB,4EAAAvY,MAAA;MAAArK,2DAAA,CAAA6iB,GAAA;MAAA,MAAAnE,MAAA,GAAA1e,2DAAA;MAAA,OAAUA,yDAAA,CAAA0e,MAAA,CAAAoE,WAAA,CAAAzY,MAAA,CAAmB;IAAA,EAAC;IAACrK,0DAAA,EAAe;IACvIA,uDAAA,SAAO;IACTA,0DAAA,EAAQ;IAEVA,wDAAA,KAAA+iB,iDAAA,gBAMK;IACP/iB,0DAAA,EAAK;;;;IAhBIA,uDAAA,GAA6C;IAA7CA,gEAAA,iGAAA6gB,MAAA,CAAArf,WAAA,CAAA6b,SAAA,MAA6C;IAKjBrd,uDAAA,GAAwB;IAAxBA,wDAAA,YAAA6gB,MAAA,CAAAG,UAAA,GAAwB,mBAAAH,MAAA,CAAAI,WAAA;IAItCjhB,uDAAA,GAAQ;IAARA,wDAAA,YAAA6gB,MAAA,CAAAd,KAAA,CAAQ;;;ADO7B,MAAOiD,0BAA0B;EAUrC7hB,YAAA;IARS,KAAAK,WAAW,GAAY1B,oEAAc;IAC9C,KAAA4B,QAAQ,GAAIC,KAAU,IAAI,CAAG,CAAC;IAC9B,KAAAC,SAAS,GAAG,MAAK,CAAG,CAAC;IAErB,KAAAme,KAAK,GAAGrD,2EAAqB;IAC7B,KAAAuG,KAAK,GAAuB,EAAE;IAC9B,KAAA1T,QAAQ,GAAY,KAAK;EAIzB;EAEA3M,UAAUA,CAACqgB,KAA0B;IACnC,IAAI,CAACA,KAAK,GAAGA,KAAK,IAAI,EAAE;EAC1B;EAEAlgB,gBAAgBA,CAACC,EAAO;IACtB,IAAI,CAACtB,QAAQ,GAAGsB,EAAE;EACpB;EAEAC,iBAAiBA,CAACD,EAAO;IACvB,IAAI,CAACpB,SAAS,GAAGoB,EAAE;EACrB;EAEAge,UAAUA,CAAA;IACR,OAAO,IAAI,CAACiC,KAAK,CAACza,MAAM,KAAKhJ,kFAAiB,CAACgJ,MAAM;EACvD;EAEAyY,WAAWA,CAAA;IACT,MAAMlB,KAAK,GAAG,IAAI,CAACkD,KAAK;IACxB,OAAOlD,KAAK,CAACvX,MAAM,KAAKhJ,kFAAiB,CAACgJ,MAAM,IAAIuX,KAAK,CAACvX,MAAM,KAAK,CAAC;EACxE;EAEAsa,WAAWA,CAAC;IAAEb;EAAO,CAAqB;IACxC,IAAIA,OAAO,EAAE;MACX,IAAI,CAACgB,KAAK,GAAG,CAAC,GAAGzjB,kFAAiB,CAAC;KACpC,MAAM;MACL,IAAI,CAACyjB,KAAK,GAAG,EAAE;;IAEjB,IAAI,CAACxB,YAAY,EAAE;EACrB;EAEAkB,aAAaA,CAACpE,IAAsB;IAClC,MAAMwB,KAAK,GAAG,IAAI,CAACkD,KAAK;IACxB,OAAOlD,KAAK,CAAC/Q,QAAQ,CAACuP,IAAI,CAAC;EAC7B;EAEAmE,YAAYA,CAACnE,IAAsB,EAAE;IAAE0D;EAAO,CAAqB;IACjE,MAAMlC,KAAK,GAAG,IAAI,CAACkD,KAAK;IACxB,IAAIhB,OAAO,EAAE;MACXlC,KAAK,CAAClN,IAAI,CAAC0L,IAAI,CAAC;KACjB,MAAM;MACL,IAAI,CAAC0E,KAAK,GAAGlD,KAAK,CAACpP,MAAM,CAACwR,KAAK,IAAI5D,IAAI,KAAK4D,KAAK,CAAC;;IAEpD,IAAI,CAACV,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAAC/f,QAAQ,CAAC,IAAI,CAACuhB,KAAK,CAAC;IACzB,IAAI,CAACrhB,SAAS,EAAE;EAClB;EAEAya,gBAAgBA,CAACF,UAAmB;IAClC,IAAI,CAAC5M,QAAQ,GAAG4M,UAAU;EAC5B;;;uBAlEW6G,0BAA0B;IAAA;EAAA;;;YAA1BA,0BAA0B;MAAAxd,SAAA;MAAAC,MAAA;QAAAjE,WAAA;MAAA;MAAAkE,QAAA,GAAA1F,gEAAA,CAR1B,CACT;QACE4F,OAAO,EAAElG,6DAAiB;QAC1BmG,KAAK,EAAE,IAAI;QACXC,WAAW,EAAEkd;OACd,CACF;MAAAhd,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA+c,oCAAA7c,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UClBHrG,wDAAA,IAAAmjB,2CAAA,oBAsBQ;;;UAtBWnjB,wDAAA,UAAAsG,GAAA,CAAAiJ,QAAA,CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCuC;AAIQ;AAElC;;;;;;;;;;;ICuBzCvP,4DAAA,aAA8D;IAE1DA,uDAAA,eAAwD;IACxDA,4DAAA,WAAM;IAAAA,oDAAA,GAAa;IAAAA,0DAAA,EAAO;IAE5BA,4DAAA,YAAO;IAWHA,wDAAA,oBAAAojB,sEAAA/Y,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAAub,GAAA;MAAA,MAAAkH,OAAA,GAAAnX,WAAA,CAAA+S,SAAA;MAAA,MAAA5C,MAAA,GAAAzb,2DAAA;MAAA,OAAUA,yDAAA,CAAAyb,MAAA,CAAA6C,gBAAA,CAAAmE,OAAA,CAAA1gB,EAAA,EAAAsI,MAAA,CAAiC;IAAA,EAAC;IAC9CrK,0DAAA,EAAe;IACfA,uDAAA,QAAO;IACTA,0DAAA,EAAQ;;;;;IAnBqBA,wDAAA,YAAA6gB,MAAA,CAAAwC,YAAA,CAAAZ,OAAA,EAA8B;IAEvCziB,uDAAA,GAA8B;IAA9BA,wDAAA,YAAA6gB,MAAA,CAAAwC,YAAA,CAAAZ,OAAA,EAA8B;IAC1CziB,uDAAA,GAAa;IAAbA,+DAAA,CAAAyiB,OAAA,CAAAxgB,IAAA,CAAa;IAWjBjC,uDAAA,GAAsC;IAAtCA,wDAAA,YAAA6gB,MAAA,CAAAlC,iBAAA,CAAA8D,OAAA,CAAA1gB,EAAA,EAAsC,mBAAA8e,MAAA,CAAAjC,kBAAA,CAAA6D,OAAA,CAAA1gB,EAAA;;;;;;IA8C5C/B,4DAAA,aAA8D;IAUxDA,wDAAA,oBAAAsjB,4EAAAjZ,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAAujB,IAAA;MAAA,MAAAC,OAAA,GAAAlY,WAAA,CAAA+S,SAAA;MAAA,MAAAoF,IAAA,GAAAzjB,2DAAA,GAAA6I,KAAA;MAAA,MAAA6a,MAAA,GAAA1jB,2DAAA;MAAA,OAAUA,yDAAA,CAAA0jB,MAAA,CAAAzE,uBAAA,CAAAwE,IAAA,EAAAD,OAAA,CAAAzhB,EAAA,EAAAsI,MAAA,CAA2C;IAAA,EAAC;IACxDrK,0DAAA,EAAe;IACfA,uDAAA,QAAO;IACTA,0DAAA,EAAQ;;;;;;IAbqBA,wDAAA,YAAA2jB,MAAA,CAAAN,YAAA,CAAAG,OAAA,EAA8B;IASvDxjB,uDAAA,GAAgD;IAAhDA,wDAAA,YAAA2jB,MAAA,CAAAxE,wBAAA,CAAAsE,IAAA,EAAAD,OAAA,CAAAzhB,EAAA,EAAgD;;;;;;IA7CxD/B,4DAAA,aAAoE;IAKCA,wDAAA,oBAAA4jB,mEAAA;MAAA5jB,2DAAA,CAAA6jB,IAAA;MAAA,MAAA9iB,OAAA,GAAAf,2DAAA;MAAA,OAAUA,yDAAA,CAAAe,OAAA,CAAA0gB,YAAA,EAAc;IAAA,EAAC,2BAAAqC,0EAAAzZ,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAA6jB,IAAA;MAAA,MAAAE,YAAA,GAAAzY,WAAA,CAAA+S,SAAA;MAAA,OAAcre,yDAAA,CAAA+jB,YAAA,CAAArb,mBAAA,GAAA2B,MAAA,CAAqC;IAAA,EAAnD;IAAgHrK,0DAAA,EAAY;IAMnNA,4DAAA,oBAAoM;IAAvIA,wDAAA,oBAAAgkB,mEAAA;MAAAhkB,2DAAA,CAAA6jB,IAAA;MAAA,MAAAvG,OAAA,GAAAtd,2DAAA;MAAA,OAAUA,yDAAA,CAAAsd,OAAA,CAAAmE,YAAA,EAAc;IAAA,EAAC,2BAAAwC,0EAAA5Z,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAA6jB,IAAA;MAAA,MAAAE,YAAA,GAAAzY,WAAA,CAAA+S,SAAA;MAAA,OAAcre,yDAAA,CAAA+jB,YAAA,CAAApb,iBAAA,GAAA0B,MAAA,CAAmC;IAAA,EAAjD;IAA8GrK,0DAAA,EAAY;IASjNA,4DAAA,eAAmD;IAA7BA,wDAAA,mBAAAkkB,6DAAA;MAAA,MAAA5Y,WAAA,GAAAtL,2DAAA,CAAA6jB,IAAA;MAAA,MAAAJ,IAAA,GAAAnY,WAAA,CAAAzC,KAAA;MAAA,MAAA2U,OAAA,GAAAxd,2DAAA;MAAA,OAASA,yDAAA,CAAAwd,OAAA,CAAA2G,eAAA,CAAAV,IAAA,CAAkB;IAAA,EAAC;IAACzjB,0DAAA,EAAO;IAK9DA,4DAAA,aAAmB;IAKbA,wDAAA,oBAAAokB,sEAAA/Z,MAAA;MAAA,MAAAiB,WAAA,GAAAtL,2DAAA,CAAA6jB,IAAA;MAAA,MAAAJ,IAAA,GAAAnY,WAAA,CAAAzC,KAAA;MAAA,MAAAwb,OAAA,GAAArkB,2DAAA;MAAA,OAAUA,yDAAA,CAAAqkB,OAAA,CAAA3E,mBAAA,CAAA+D,IAAA,EAAApZ,MAAA,CAA8B;IAAA,EAAC;IAC3CrK,0DAAA,EAAe;IACfA,uDAAA,QAAO;IACTA,0DAAA,EAAQ;IAGVA,wDAAA,KAAAskB,4CAAA,gBAcK;IAEPtkB,0DAAA,EAAK;;;;;;IA/C0FA,uDAAA,GAA2C;IAA3CA,wDAAA,YAAA+jB,YAAA,CAAArb,mBAAA,CAA2C,UAAA0U,MAAA,CAAA/b,SAAA;IAM5CrB,uDAAA,GAAyC;IAAzCA,wDAAA,YAAA+jB,YAAA,CAAApb,iBAAA,CAAyC,UAAAyU,MAAA,CAAA/b,SAAA;IAiB/HrB,uDAAA,GAAmC;IAAnCA,wDAAA,YAAAod,MAAA,CAAAyC,oBAAA,CAAA4D,IAAA,EAAmC,mBAAArG,MAAA,CAAA0C,qBAAA,CAAA2D,IAAA;IAQpBzjB,uDAAA,GAAQ;IAARA,wDAAA,YAAAod,MAAA,CAAA2C,KAAA,CAAQ;;;ADlE7B,MAAOwE,uBAAuB;EAoBlCpjB,YACU8L,gBAAkC,EAClCJ,QAAqB;IADrB,KAAAI,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAJ,QAAQ,GAARA,QAAQ;IArBT,KAAAxL,SAAS,GAAc,EAAE;IACzB,KAAAG,WAAW,GAAY1B,oEAAc;IACrC,KAAA2e,IAAI,GAAwB,QAAQ;IACpC,KAAAld,iBAAiB,GAAU,KAAK;IACzC,KAAAG,QAAQ,GAAIC,KAAU,IAAI,CAAG,CAAC;IAC9B,KAAAC,SAAS,GAAG,MAAK,CAAG,CAAC;IACb,KAAA4M,SAAS,GAAG,IAAI5O,yCAAO,EAAE;IAGjC,KAAA+N,iBAAiB,GAAc,EAAE;IAGjC,KAAA6W,uBAAuB,GAAQ,CAAC;IAEhC,KAAAjc,UAAU,GAAyB,EAAE;IAErC,KAAA0F,yBAAyB,GAAsB;MAAEC,QAAQ,EAAE;IAAI,CAAE;IACjE,KAAAC,wBAAwB,GAAsB;MAAED,QAAQ,EAAE;IAAI,CAAE;EAK5D;EAEJhL,QAAQA,CAAA;IACN,IAAI,CAACuhB,mBAAmB,EAAE;EAC5B;EAEA9gB,WAAWA,CAACC,OAAsB,GAGlC;EAEAJ,WAAWA,CAAA;IACT,IAAI,CAACgL,SAAS,CAAC/K,IAAI,CAAC,IAAI,CAAC;IACzB,IAAI,CAAC+K,SAAS,CAAC9K,QAAQ,EAAE;EAC3B;EAEAd,UAAUA,CAACye,mBAA2C;IACpDvc,OAAO,CAACC,GAAG,CAAC,YAAY,EAACsc,mBAAmB,CAAC;IAC7C,IAAI,CAAC9Y,UAAU,CAACsK,IAAI,CAAC,GAAGwO,mBAAmB,CAAC;IAC5C,IAAG,IAAI,CAAC9Y,UAAU,CAACC,MAAM,KAAG,CAAC,EAAC;MAC5B,IAAI,CAACkc,YAAY,EAAE;;EAGvB;EAEA3hB,gBAAgBA,CAACC,EAAO;IACtB,IAAI,CAACtB,QAAQ,GAAGsB,EAAE;EACpB;EAEAC,iBAAiBA,CAACD,EAAO;IACvB,IAAI,CAACpB,SAAS,GAAGoB,EAAE;EACrB;EAEAqgB,YAAYA,CAAC9E,IAAQ;IACnB,IAAIoG,SAAS,GAAC,EAAE;IAChB,IAAGpG,IAAI,CAACqG,OAAO,KAAG,CAAC,EAAED,SAAS,GAAC,KAAK;IACpC,IAAGpG,IAAI,CAACqG,OAAO,KAAG,CAAC,EAAED,SAAS,GAAC,MAAM;IACrC,IAAGpG,IAAI,CAACqG,OAAO,KAAG,CAAC,EAAED,SAAS,GAAC,MAAM;IACrC,IAAGpG,IAAI,CAACqG,OAAO,KAAG,CAAC,EAAED,SAAS,GAAC,KAAK;IACpC,OAAOA,SAAS;EAClB;EAEA;EAEA;EAEAD,YAAYA,CAAA;IACV,IAAI,CAACnc,UAAU,CAACsK,IAAI,CAAC;MACnBnK,mBAAmB,EAAEmH,SAAS;MAC9BlH,iBAAiB,EAAEkH,SAAS;MAC5B9G,eAAe,EAAC;KACjB,CAAC;IAEFjE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACwD,UAAU,CAAC;IAC5B,IAAI,CAACkZ,YAAY,EAAE;EACrB;EAEA0C,eAAeA,CAAC7P,SAAiB;IAC/B,IAAI,CAAC/L,UAAU,CAACoZ,MAAM,CAACrN,SAAS,EAAE,CAAC,CAAC;IACpC,IAAI,CAACmN,YAAY,EAAE;EACrB;EAEAT,UAAUA,CAAA;IACR,MAAMY,YAAY,GAAG,IAAI,CAACC,eAAe,EAAE;IAC3C;IACA,OAAO,IAAI,CAACtZ,UAAU,CAACC,MAAM,GAAG,CAAC,IAAIoZ,YAAY,KAAK,IAAI,CAACrZ,UAAU,CAACC,MAAM,GAAG,IAAI,CAACgc,uBAAuB;EAC7G;EAEAvD,WAAWA,CAAA;IACT,MAAMW,YAAY,GAAG,IAAI,CAACC,eAAe,EAAE;IAC3C;IACA,OAAOD,YAAY,KAAK,CAAC,IAAIA,YAAY,KAAK,IAAI,CAACrZ,UAAU,CAACC,MAAM,GAAG,IAAI,CAACgc,uBAAuB;EACrG;EAEQ3C,eAAeA,CAAA;IACrB,OAAO,IAAI,CAACtZ,UAAU,CAAC8I,GAAG,CAAEuC,CAAC,IAAKA,CAAC,CAAC7K,eAAgB,CAACP,MAAM,CAAC,CAACsZ,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAGC,KAAK,EAAE,CAAC,CAAC;EACrG;EAEAtB,SAASA,CAAC;IAAEuB;EAAO,CAAO;IACxB;IACA,IAAI,CAAC1Z,UAAU,CAAChE,OAAO,CAAGqP,CAAC,IAAKA,CAAC,CAAC7K,eAAe,GAAGkZ,OAAO,GAAG,IAAI,CAAC4C,oBAAoB,GAAG,EAAE,CAAC;IAC7F,IAAI,CAACpD,YAAY,EAAE;EACrB;EAEA9C,iBAAiBA,CAACJ,IAAsB;IACtC,OAAO,IAAI,CAAChW,UAAU,CAACC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC0Z,iBAAiB,CAAC3D,IAAI,CAAC,KAAK,IAAI,CAAChW,UAAU,CAACC,MAAM;EAC9F;EAEAoW,kBAAkBA,CAACL,IAAsB;IACvC,MAAM0D,OAAO,GAAG,IAAI,CAACC,iBAAiB,CAAC3D,IAAI,CAAC;IAC5C,OAAO0D,OAAO,KAAK,CAAC,IAAIA,OAAO,KAAK,IAAI,CAAC1Z,UAAU,CAACC,MAAM;EAC5D;EAEQ0Z,iBAAiBA,CAAC3D,IAAsB;IAC9C,OAAO,IAAI,CAAChW,UAAU,CAAC8I,GAAG,CAAGuC,CAAC,IAAMA,CAAC,CAAC7K,eAAe,EAAEiG,QAAQ,CAACuP,IAAI,CAAC,CAAC,CAACuD,MAAM,CAAC,CAACC,GAAG,EAAEE,OAAO,KAAKA,OAAO,GAAGF,GAAG,GAAG,CAAC,GAAGA,GAAG,EAAE,CAAC,CAAC;EAC7H;EAEAzD,gBAAgBA,CAACC,IAAsB,EAAE;IAAE0D;EAAO,CAAqB;IACrE,IAAI,CAAC1Z,UAAU,CAAChE,OAAO,CAAEqP,CAAC,IAAI;MAC5B,MAAMmM,KAAK,GAAGnM,CAAC,CAAC7K,eAAe;MAC/B,IAAIkZ,OAAO,EAAE;QACX,IAAI,CAAClC,KAAK,EAAE/Q,QAAQ,CAACuP,IAAI,CAAC,EAAE;UAC1BwB,KAAK,EAAElN,IAAI,CAAC0L,IAAI,CAAC;;OAEpB,MAAM;QACL3K,CAAC,CAAC7K,eAAe,GAAGgX,KAAK,EAAEpP,MAAM,CAACwR,KAAK,IAAIA,KAAK,KAAK5D,IAAI,CAAC;;IAE9D,CAAC,CAAC;IACF,IAAI,CAACkD,YAAY,EAAE;EACrB;EAEA5B,oBAAoBA,CAACpX,CAAS;IAC5B,MAAMsX,KAAK,GAAG,IAAI,CAACxX,UAAU,CAACE,CAAC,CAAC,CAACM,eAAe;IAChD;IACA,OAAO,IAAI,CAACyb,uBAAuB,KAAKzE,KAAK,EAAEvX,MAAM;EACvD;EAEAsX,qBAAqBA,CAACrX,CAAS;IAC7B,MAAMsX,KAAK,GAAG,IAAI,CAACxX,UAAU,CAACE,CAAC,CAAC,CAACM,eAAe;IAChD;IACA,OAAOgX,KAAK,EAAEvX,MAAM,KAAK,IAAI,CAACgc,uBAAuB,IAAIzE,KAAK,EAAEvX,MAAM,KAAK,CAAC;EAC9E;EAEAkX,mBAAmBA,CAACjX,CAAS,EAAG;IAAEwZ;EAAO,CAAqB;IAC5D,IAAIA,OAAO,EAAE;MACX;MACA,IAAI,CAAC1Z,UAAU,CAACE,CAAC,CAAC,CAACM,eAAe,GAAG,IAAI,CAAC8b,oBAAoB;KAI/D,MAAM;MACL,IAAI,CAACtc,UAAU,CAACE,CAAC,CAAC,CAACM,eAAe,GAAG,EAAE;;IAEzC,IAAI,CAAC0Y,YAAY,EAAE;EACrB;EAEAtC,wBAAwBA,CAAC1W,CAAS,EAAE8V,IAAsB;IACxD,MAAMwB,KAAK,GAAG,IAAI,CAACxX,UAAU,CAACE,CAAC,CAAC,CAACM,eAAe;IAChD,OAAOgX,KAAK,GAAEA,KAAK,CAAC/Q,QAAQ,CAACuP,IAAI,CAAC,GAAG,KAAK;EAC5C;EAEAU,uBAAuBA,CAACxW,CAAS,EAAE8V,IAAsB,EAAE;IAAE0D;EAAO,CAAqB;IACvF,MAAMlC,KAAK,GAAG,IAAI,CAACxX,UAAU,CAACE,CAAC,CAAC,CAACM,eAAe;IAChD,IAAIkZ,OAAO,EAAE;MACXlC,KAAK,EAAElN,IAAI,CAAC0L,IAAI,CAAC;KAClB,MAAM;MACL,IAAI,CAAChW,UAAU,CAACE,CAAC,CAAC,CAACM,eAAe,GAAGgX,KAAK,EAAEpP,MAAM,CAACwR,KAAK,IAAI5D,IAAI,KAAK4D,KAAK,CAAC;;IAE7E,IAAI,CAACV,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,MAAM9f,KAAK,GAAG,CAAE,GAAG,IAAI,CAAC4G,UAAU,CAAE;IACpC,IAAI,CAAC7G,QAAQ,CAACC,KAAK,CAAC;IACpB,IAAI,CAACC,SAAS,EAAE;IAChBkD,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;EAExB;EAEA;EACA;EACQ0f,mBAAmBA,CAAA;IACzB,IAAI,CAACxX,gBAAgB,CAAC6X,gBAAgB,EAAE,CACrC1hB,IAAI,CACHmG,yCAAG,CAAEQ,gBAAoB,IAAI;MAC3BjF,OAAO,CAACC,GAAG,CAACgF,gBAAgB,CAAC;MAE7B,IAAI,CAACA,gBAAgB,EAAE;QACrB,MAAO;UAAEsI,KAAK,EAAE;YAAEwC,aAAa,EAAE;UAA4B;QAAE,CAAE;;IAErE,CAAC,CAAC,EACFhV,+CAAS,CAAC,IAAI,CAAC2O,SAAS,CAAC,CAC1B,CACAnL,SAAS,CAAC;MACTI,IAAI,EAAGsG,gBAAgB,IAAI;QACzB,MAAMgb,MAAM,GAAGhb,gBAAgB,CAACwX,IAAI,CAAC,CAACyD,KAAS,EAAEC,KAAS,KAAKD,KAAK,CAAC,SAAS,CAAC,GAAGC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC5G,IAAI,CAAClF,KAAK,GAACgF,MAAM;QACjB,IAAI,CAACP,uBAAuB,GAAC,IAAI,CAACzE,KAAK,CAACvX,MAAM;QAC9C,IAAI6H,IAAI,GAAK,EAAE;QACf0U,MAAM,CAACxgB,OAAO,CAAEkE,CAAK,IAAG;UACtB4H,IAAI,CAACwC,IAAI,CAACpK,CAAC,CAAC1G,EAAE,CAAC;QACjB,CAAC,CAAC;QACF,IAAI,CAAC8iB,oBAAoB,GAACxU,IAAI;QAC9BvL,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC8f,oBAAoB,CAAC;MAExC,CAAC;MACDxS,KAAK,EAAGuC,GAAQ,IAAI;QAClB,IAAI,CAAC/H,QAAQ,CAACkG,IAAI,CAAC,+BAA+B,GAAG6B,GAAG,CAACvC,KAAK,CAACwC,aAAa,EAAEhF,SAAS,EAAE,IAAI,CAAC5B,yBAAyB,CAAC;MAC1H;KACD,CAAC;EACN;;;uBArNWsW,uBAAuB,EAAAvkB,+DAAA,CAAAsF,oFAAA,GAAAtF,+DAAA,CAAAwW,oEAAA;IAAA;EAAA;;;YAAvB+N,uBAAuB;MAAA/e,SAAA;MAAAC,MAAA;QAAApE,SAAA;QAAAG,WAAA;QAAAid,IAAA;QAAAld,iBAAA;MAAA;MAAAmE,QAAA,GAAA1F,gEAAA,CARvB,CACT;QACE4F,OAAO,EAAElG,6DAAiB;QAC1BmG,KAAK,EAAE,IAAI;QACXC,WAAW,EAAEye;OACd,CACF,GAAAvkB,kEAAA;MAAAgG,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA+e,iCAAA7e,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCtBHrG,4DAAA,eAAkB;UAMgBA,oDAAA,2EAAY;UAAAA,0DAAA,EAAM;UAE1CA,4DAAA,eAA6B;UACLA,oDAAA,8GAAkB;UAAAA,0DAAA,EAAM;UAC9CA,4DAAA,cAAsB;UAAAA,oDAAA,yGAAiB;UAAAA,0DAAA,EAAM;UAMnDA,4DAAA,aAAoB;UACHA,oDAAA,mDAAQ;UAAAA,0DAAA,EAAM;UAC7BA,4DAAA,aAAO;UAKHA,wDAAA,oBAAAmlB,iEAAA9a,MAAA;YAAA,OAAU/D,GAAA,CAAAoa,SAAA,CAAArW,MAAA,CAAiB;UAAA,EAAC;UAC9BrK,0DAAA,EAAe;UACfA,uDAAA,SAAO;UACTA,0DAAA,EAAQ;UAIVA,wDAAA,KAAAolB,sCAAA,gBAoBK;UAEPplB,0DAAA,EAAK;UAELA,wDAAA,KAAAqlB,sCAAA,kBAoDK;UACPrlB,0DAAA,EAAQ;UAGVA,4DAAA,eAAuB;UAEKA,wDAAA,mBAAAslB,wDAAA;YAAA,OAAQhf,GAAA,CAAAoe,YAAA,EAAc;UAAA;UAAC1kB,oDAAA,wDAAQ;UAAAA,0DAAA,EAAO;;;UA3FtDA,uDAAA,IAAwB;UAAxBA,wDAAA,YAAAsG,GAAA,CAAA0a,UAAA,GAAwB,mBAAA1a,GAAA,CAAA2a,WAAA;UASTjhB,uDAAA,GAAQ;UAARA,wDAAA,YAAAsG,GAAA,CAAAyZ,KAAA,CAAQ;UAwBO/f,uDAAA,GAAe;UAAfA,wDAAA,YAAAsG,GAAA,CAAAiC,UAAA,CAAe;;;;;;;;;;;;;;;;;;;;;;;;;ACtDgB;;;;;;ICGvEvI,4DAAA,YAAyD;IACFA,wDAAA,oBAAAulB,iEAAA;MAAA,MAAAja,WAAA,GAAAtL,2DAAA,CAAAub,GAAA;MAAA,MAAAC,IAAA,GAAAlQ,WAAA,CAAAzC,KAAA;MAAA,MAAA4S,MAAA,GAAAzb,2DAAA;MAAA,OAAUA,yDAAA,CAAAyb,MAAA,CAAA/Z,QAAA,CAAA8Z,IAAA,CAAW;IAAA,EAAC;IAA3Exb,0DAAA,EAA4E;IAC5EA,uDAAA,QAAO;IACPA,4DAAA,WAAM;IAAAA,oDAAA,GAAqB;IAAAA,0DAAA,EAAO;;;;IAFXA,uDAAA,GAA6B;IAA7BA,wDAAA,YAAAwlB,YAAA,CAAAvD,OAAA,CAA6B;IAE9CjiB,uDAAA,GAAqB;IAArBA,+DAAA,CAAAwlB,YAAA,CAAAC,KAAA,CAAqB;;;ADSzB,MAAOC,uBAAuB;EAWlCvkB,YAAA;IAVS,KAAAoH,UAAU,GAAG,CACpB;MAAE5G,KAAK,EAAE,KAAK;MAAE8jB,KAAK,EAAE,KAAK;MAAExD,OAAO,EAAE;IAAK,CAAE,EAC9C;MAAEtgB,KAAK,EAAE,QAAQ;MAAE8jB,KAAK,EAAE,QAAQ;MAAExD,OAAO,EAAE;IAAK,CAAE,EACpD;MAAEtgB,KAAK,EAAE,QAAQ;MAAE8jB,KAAK,EAAE,SAAS;MAAExD,OAAO,EAAE;IAAK,CAAE,EACrD;MAAEtgB,KAAK,EAAE,OAAO;MAAE8jB,KAAK,EAAE,yBAAyB;MAAExD,OAAO,EAAE;IAAK,CAAE,CACrE;IAED,KAAA0D,UAAU,GAAIhkB,KAAe,IAAI,CAAG,CAAC;IACrC,KAAAikB,WAAW,GAAG,MAAK,CAAG,CAAC;EAGvB;EAEA1iB,QAAQA,CAAA,GACR;EAEAN,UAAUA,CAACjB,KAAe;IACxB,IAAI,CAACsa,KAAK,CAAC4J,OAAO,CAAClkB,KAAK,CAAC,EAAE;MACzB;;IAEF,IAAI,CAAC4G,UAAU,CAAChE,OAAO,CAAE5B,SAAS,IAAI;MACpCA,SAAS,CAACsf,OAAO,GAAGtgB,KAAK,CAACqN,QAAQ,CAACrM,SAAS,CAAChB,KAAK,CAAC;IACrD,CAAC,CAAC;IACF,IAAI,CAAC4G,UAAU,CAAC,CAAC,CAAC,CAAC0Z,OAAO,GAAG,IAAI,CAAC1Z,UAAU,CAACud,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAACC,CAAC,IAAIA,CAAC,CAAC/D,OAAO,CAAC;EAC7E;EAEAlf,gBAAgBA,CAACC,EAAO;IACtB,IAAI,CAAC2iB,UAAU,GAAG3iB,EAAE;EACtB;EAEAC,iBAAiBA,CAACD,EAAO;IACvB,IAAI,CAAC4iB,WAAW,GAAG5iB,EAAE;EACvB;EAEAtB,QAAQA,CAAC+G,CAAS;IAChB,IAAIA,CAAC,KAAK,CAAC,EAAE;MACX,MAAMwZ,OAAO,GAAG,CAAC,IAAI,CAAC1Z,UAAU,CAAC,CAAC,CAAC,CAAC0Z,OAAO;MAC3C,IAAI,CAAC1Z,UAAU,CAAChE,OAAO,CAACyhB,CAAC,IAAIA,CAAC,CAAC/D,OAAO,GAAGA,OAAO,CAAC;KAClD,MAAM;MACL,IAAI,CAAC1Z,UAAU,CAACE,CAAC,CAAC,CAACwZ,OAAO,GAAG,CAAC,IAAI,CAAC1Z,UAAU,CAACE,CAAC,CAAC,CAACwZ,OAAO;MACxD,IAAI,CAAC1Z,UAAU,CAAC,CAAC,CAAC,CAAC0Z,OAAO,GAAG,IAAI,CAAC1Z,UAAU,CAACud,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAACpjB,SAAS,IAAIA,SAAS,CAACsf,OAAO,CAAC;;IAE7F,MAAMtgB,KAAK,GAAa,IAAI,CAAC4G,UAAU,CAACud,KAAK,CAAC,CAAC,CAAC,CAACnV,MAAM,CAAChO,SAAS,IAAIA,SAAS,CAACsf,OAAO,CAAC,CAAC5Q,GAAG,CAAC2U,CAAC,IAAIA,CAAC,CAACrkB,KAAK,CAAC;IACzG,IAAI,CAACgkB,UAAU,CAAChkB,KAAK,CAAC;EACxB;;;uBA7CW+jB,uBAAuB;IAAA;EAAA;;;YAAvBA,uBAAuB;MAAAlgB,SAAA;MAAAE,QAAA,GAAA1F,gEAAA,CARvB,CACT;QACE4F,OAAO,EAAElG,6DAAiB;QAC1BmG,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE4f;OACd,CACF;MAAA1f,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA8f,iCAAA5f,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCbHrG,4DAAA,aAAuC;UACrCA,oDAAA,wKACA;UAAAA,4DAAA,cAAkB;UAAAA,oDAAA,aAAC;UAAAA,0DAAA,EAAO;UAC1BA,wDAAA,IAAAkmB,wCAAA,mBAIQ;UACVlmB,0DAAA,EAAM;;;UALyBA,uDAAA,GAAe;UAAfA,wDAAA,YAAAsG,GAAA,CAAAiC,UAAA,CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFS;AACK;AAC2B;AACoB;AACT;AACvB;AAC0B;AACF;AACoB;AACT;;;AAG9G,MAAM+d,MAAM,GAAW,CACrB;EACE/U,IAAI,EAAE,EAAE;EACRgV,SAAS,EAAEF,4FAAmB;EAC9BhY,KAAK,EAAE;CACR,EACD;EACEkD,IAAI,EAAE,KAAK;EACXgV,SAAS,EAAE/Z,gHAAyB;EACpC6B,KAAK,EAAE;CACR,EACD;EACEkD,IAAI,EAAE,UAAU;EAChBgV,SAAS,EAAE/Z,gHAAyB;EACpC6B,KAAK,EAAE;CACR,CACF;AAqBK,MAAOmY,gBAAgB;;;uBAAhBA,gBAAgB;IAAA;EAAA;;;YAAhBA;IAAgB;EAAA;;;gBAPzBL,0DAAY,CAACM,QAAQ,CAACH,MAAM,CAAC,EAC7BF,sEAAY;IAAA;EAAA;;;sHAMHI,gBAAgB;IAAAE,YAAA,GAjBzBL,4FAAmB,EACnB7Z,gHAAyB,EACzBoP,gFAAe,EACf1a,uGAAsB,EACtBwkB,0GAAuB,EACvBxE,4HAA6B,EAC7B8B,mHAA0B,EAC1BuB,wGAAuB;IAAAoC,OAAA,GAAArhB,0DAAA,EAIvB8gB,sEAAY;EAAA;AAAA","sources":["./src/app/api/custom_models/transport.ts","./src/app/pages/components/contact-editor/contact-editor.component.ts","./src/app/pages/components/contact-editor/contact-editor.component.html","./src/app/pages/components/contact-editor/responsibility.validator.ts","./src/app/pages/components/contractor-editor/contractor-editor.component.ts","./src/app/pages/components/contractor-editor/contractor-editor.component.html","./src/app/pages/components/rating/rating.component.ts","./src/app/pages/components/rating/rating.component.html","./src/app/pages/components/responsibility-matrix/responsibility-matrix.component.ts","./src/app/pages/components/responsibility-matrix/responsibility-matrix.component.html","./src/app/pages/components/responsibility-row/responsibility-row.component.ts","./src/app/pages/components/responsibility-row/responsibility-row.component.html","./src/app/pages/components/responsibility/responsibility.component.ts","./src/app/pages/components/responsibility/responsibility.component.html","./src/app/pages/components/trade-direction/trade-direction.component.ts","./src/app/pages/components/trade-direction/trade-direction.component.html","./src/app/pages/modules/contractor/contractor.module.ts"],"sourcesContent":["export const TransportSubKinds = ['avia_lcl', 'avia_fcl', 'road_lcl', 'road_fcl', 'road_adr', 'road_ref', 'sea_teus', 'sea_lcl', 'sea_sp', 'rw_teus', 'rw_lcl', 'rw_sp'] as const;\nexport type TransportSubKind = typeof TransportSubKinds[number];\n\n// \nexport interface TransportKind {\n  id: number;\n  key:string;\n  name: string;\n}\n// \nexport interface TransportType {\n  id: number;\n  name: string;\n}\n\n//\nexport interface TransportCarrier {\n  id?: number;\n  kind_id?: number;\n  name?: string;\n  iata?: string;\n}\n\nexport interface TransportRoute {\n  id?: number,\n  kind_id?: number,\n  carrier_id?: number,\n  country_id_departure?: number,\n  country_id_arrival?: number,\n  city_id_departure?: number,\n  city_id_arrival?: number,\n  point_id_departure?: number,\n  point_id_arrival?: number,\n  name?: string,\n}\n\n","import { Country } from './../../../api/custom_models/country';\nimport { Contact, responsibilityDirections } from './../../../api/custom_models';\nimport { FormBuilder, FormGroup, Validators, ControlValueAccessor, NG_VALUE_ACCESSOR, AbstractControl, ValidationErrors, Validator, NG_VALIDATORS } from '@angular/forms';\nimport { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { unknownCountry } from 'src/app/shared/constants';\nimport { responsibilityValidator } from './responsibility.validator';\n\n@Component({\n  selector: 'app-contact-editor',\n  templateUrl: './contact-editor.component.html',\n  styleUrls: ['./contact-editor.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ContactEditorComponent\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: ContactEditorComponent,\n      multi: true,\n    },\n  ]\n})\nexport class ContactEditorComponent implements OnInit, OnDestroy, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() countries: Country[] = [];\n  @Input() homeCountryId?: number;\n  @Input() requiredFields: string[]=[];\n  @Input() requiredDirection: boolean=false;\n  readonly unknownCountry = unknownCountry;\n  homeCountry: Country = unknownCountry;\n  contactForm: FormGroup;\n  showResponsibilities = false;\n\n  onChange = (value: Partial<Contact>) => { };\n  onTouched = () => { };\n  destroy$ = new Subject<void>();\n\n  private touched = false;\n\n  constructor(\n    private fb: FormBuilder,\n  ) {\n    this.contactForm = this.fb.group({\n      id: [],\n      contractor_id: [],\n      name: [''],\n      // name_f: ['', [Validators.required]],\n      // name_i: ['', [Validators.required]],\n      // name_o: ['', [Validators.required]],\n      position: [''],\n      phone: [''],\n      mobile_phone: ['', []],\n      email: [''],\n      skype: ['', []],\n      whatsapp: ['', []],\n      telegram: ['', []],\n      wechat: ['', []],\n      // responsible_direction: [{}],\n      place: [''],\n      // responsible_param: fb.group({\n      //   import: [{}, []],\n      //   export: [{}, []],\n      //   local: [[], []],\n      //   responsible_param1:[[],[]]\n\n      // }),\n\n      direction:[[]]\n\n    });\n  }\n\n  writeValue(contact: Partial<Contact>): void {\n    this.contactForm.patchValue(contact);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  ngOnInit(): void {\n    this.contactForm.valueChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(value => this.onChange(value));\n\n    this.contactForm.statusChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        if (!this.touched) {\n          this.onTouched();\n          this.touched = true;\n        }\n      });\n    this.applyRequiredValidators();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['homeCountryId']) {\n      if (typeof this.homeCountryId === 'number') {\n        this.homeCountry = this.countries.find(country => country.id === this.homeCountryId) || unknownCountry;\n      }\n    }\n    //    requiredFields\n    if (changes['requiredFields'] && !changes['requiredFields'].firstChange) {\n      this.clearAllRequiredValidators();\n      this.applyRequiredValidators();\n    }\n  }\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    return control.value && this.contactForm.valid ? null : { contact: true };\n  }\n\n  private clearAllRequiredValidators() {\n    //   required   \n    Object.keys(this.contactForm.controls).forEach(key => {\n      const control = this.contactForm.get(key);\n      if (control?.hasValidator(Validators.required)) {\n        control.clearValidators();\n        control.updateValueAndValidity();\n      }\n    });\n  }\n\n  private applyRequiredValidators() {\n    //  required    \n    console.log('this.requiredFields',this.requiredFields);\n\n    this.requiredFields?.forEach(fieldName => {\n      const control = this.contactForm.get(fieldName);\n      if (control) {\n        control.setValidators(Validators.required);\n        control.updateValueAndValidity();\n      } else {\n        console.warn(` ${fieldName}    `);\n      }\n    });\n    const directionControl = this.contactForm.get('direction');\n    if(directionControl && this.requiredDirection){\n      directionControl.setValidators([responsibilityValidator()]);\n      directionControl.updateValueAndValidity();\n      console.log(this.contactForm.get('direction'));\n\n    }\n  }\n\n  isRequiredField(field: string): boolean {\n    const control = this.contactForm.get(field);\n    return control?.hasValidator(Validators.required) ?? false;\n  }\n}\n","<form class=\"form-block\" [formGroup]=\"contactForm\">\n  <input type=\"hidden\" formControlName=\"id\">\n  <input type=\"hidden\" formControlName=\"contractor_id\">\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\">:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'name'}\"></ng-container>\n      </div>\n      <div class=\"form-data\">\n        <input type=\"text\" name=\"name\" formControlName=\"name\" placeholder=\"\" required>\n      </div>\n    </div>\n    <!--<div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\" name=\"name_f\" formControlName=\"name_f\" placeholder=\"\" required></div>\n    </div>\n     <div class=\"form-item\">\n      <div class=\"form-label\">:</div>\n      <div class=\"form-data\"><input type=\"text\"  name=\"name_i\" formControlName=\"name_i\" placeholder=\"\" required></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\"  name=\"name_o\" formControlName=\"name_o\" placeholder=\"\" required></div>\n    </div> -->\n    <div class=\"form-item\">\n      <div class=\"form-label\">:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'position'}\"></ng-container>\n      </div>\n      <div class=\"form-data\">\n        <input type=\"text\" name=\"position\" formControlName=\"position\" placeholder=\"\" required>\n      </div>\n    </div>\n  </div>\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'place'}\"></ng-container>\n      </div>\n      <div class=\"form-data\">\n        <input type=\"text\" name=\"place\" formControlName=\"place\" placeholder=\"\">\n      </div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'phone'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"phone\" formControlName=\"phone\" placeholder=\"\"  appPhoneMask></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'mobile_phone'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"mobile_phone\" formControlName=\"mobile_phone\" placeholder=\"\" appPhoneMask></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">e-mail:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'email'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"email\" formControlName=\"email\" placeholder=\"\" required></div>\n    </div>\n  </div>\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\">skype:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'skype'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"skype\" formControlName=\"skype\" placeholder=\"\"></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">telegram:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'telegram'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"telegram\" formControlName=\"telegram\" placeholder=\"\"></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">whatsapp:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'whatsapp'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"whatsapp\" formControlName=\"whatsapp\" placeholder=\"\"></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">WeChat:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'wechat'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"wechat\" formControlName=\"wechat\" placeholder=\"\"></div>\n    </div>\n  </div>\n  <!-- <app-trade-direction formControlName=\"responsible_direction\" (ngModelChange)=\"onResponsibleDirectionChange($event)\"></app-trade-direction> -->\n  <div class=\"options\">\n    <div class=\"lnk\">\n      <div class=\"ttl\"> </div>\n      <div class=\"link show\" [ngClass]=\"showResponsibilities ? 'hide' : 'show'\" (click)=\"showResponsibilities = !showResponsibilities\">\n        <span>{{ showResponsibilities ? '' : '' }}</span>\n      </div>\n    </div>\n\n    <div class=\"lnk-data\" [ngStyle]=\"{'display': showResponsibilities ? 'block' : 'none' }\">\n      <!-- <app-responsibility-matrix formControlName=\"export\" [homeCountry]=\"homeCountry\" [countries]=\"countries\" type=\"export\"></app-responsibility-matrix> -->\n      <!-- <app-responsibility-matrix formControlName=\"import\" [homeCountry]=\"homeCountry\" [countries]=\"countries\" type=\"import\"></app-responsibility-matrix>\n      <app-responsibility-row formControlName=\"local\" [homeCountry]=\"homeCountry\"></app-responsibility-row> -->\n      <app-responsibility formControlName=\"direction\" [countries]=\"countries\" [requiredDirection]=\"requiredDirection\"></app-responsibility>\n    </div>\n  </div>\n</form>\n\n<ng-template #inputError let-field=\"field\">\n  <mat-error *ngIf=\"contactForm.controls[field].hasError('required') && contactForm.controls[field].touched\">\n      \n  </mat-error>\n</ng-template>\n\n<ng-template #inputLabelReq let-field=\"field\">\n  <span *ngIf=\"isRequiredField(field)\" class=\"req\"></span>\n</ng-template>\n","import { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nexport function responsibilityValidator(): ValidatorFn {\n  return (control: AbstractControl): ValidationErrors | null => {\n    const directions: any[] = control.value || [];\n\n    //    - \n    if (directions.length === 0) {\n      return {\n        requiredDirection: '     '\n      };\n    }\n\n    //   \n    for (let i = 0; i < directions.length; i++) {\n      const direction = directions[i];\n\n      // ,    \n      if (!direction.direction_departure || !direction.direction_arrival) {\n        return {\n          incompleteDirection: {\n            index: i,\n            message: '    '\n          }\n        };\n      }\n\n      // ,         1 \n      if (!direction.direction_items || direction.direction_items.length < 1) {\n        return {\n          emptyItems: {\n            index: i,\n            message: '       '\n          }\n        };\n      }\n    }\n\n    return null;\n  };\n}\n","import { CountryService } from './../../services/country.service';\nimport { environment } from './../../../../environments/environment';\nimport { catchError, debounceTime, distinctUntilChanged, forkJoin, fromEvent, lastValueFrom, merge, Subject, takeUntil, tap, throwError } from 'rxjs';\nimport { City } from './../../../api/custom_models/city';\nimport { Association } from './../../../api/custom_models/association';\nimport { Country } from './../../../api/custom_models/country';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Contractor, ContractorRequestFormat, ContractorType } from './../../../api/custom_models/contractor';\nimport { ContractorService } from './../../../api/services/contractor.service';\nimport { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {  MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { CityService } from '../../services/city.service';\nimport { Location } from '@angular/common';\nimport { TaxSystem } from 'src/app/api/custom_models';\nimport { DirectionService, SystemService, TransportService } from 'src/app/api/services';\nimport { Counterparty } from 'src/app/api/custom_models/counterparty';\n\n\n@Component({\n  selector: 'app-contractor-editor',\n  templateUrl: './contractor-editor.component.html',\n  styleUrls: ['./contractor-editor.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ContractorEditorComponent implements OnInit {\n  carrierFilterCtrl = new FormControl();\n  isNavigateAfterSave:boolean=true;\n\n  contractor: Partial<Contractor> = {};\n  isEditMode: boolean = false;\n  contractorForm: FormGroup;\n  associations: Association[] = [];\n\n  contractorTypes: ContractorType[] = []; filteredContractorTypes: ContractorType[] = [];\n  transportCarrier:any[]=[]; filteredTransportCarrier:any[]=[];\n  countries: Country[] = []; filteredCountries: Country[] = [];\n  cities: any[] = []; filteredCitys: any[] = [];\n  directionPoint: any[] = []; filteredDirectionPoint: any[] = [];\n\n  counterpartys:Counterparty[]=[]; filteredCounterpartys:Counterparty[]=[];\n  currencyList:any;\n\n  snackBarWithShortDuration: MatSnackBarConfig = { duration: 1000 };\n  snackBarWithLongDuration: MatSnackBarConfig = { duration: 3000 };\n  requestFormats: ContractorRequestFormat[] = [];\n  production = environment.production;\n  title = '';\n  taxSystems: TaxSystem[] = []; filteredTaxs: TaxSystem[] = [];\n  nameForHeader?: string;\n  // counterpartys:Counterparty[]=[];\n  formParams:any;\n\n  requiredContactFields:string[]=[];\n  requiredDirection:boolean=false;\n\n  private _destroy$ = new Subject();\n\n\n  // change$ = new Subject<string|undefined>();\n\n\n\n  constructor(\n    private route: ActivatedRoute,\n    private contractorService: ContractorService,\n    private countryService: CountryService,\n    private cityService: CityService,\n    private fb: FormBuilder,\n    private snackBar: MatSnackBar,\n    private router: Router,\n    private location: Location,\n    private systemService: SystemService,\n    private transportService: TransportService,\n    private directionService: DirectionService,\n  ) {\n    this.contractorForm = this.fb.group({\n      id: [''],\n      address: [''],\n      name: [''],\n      ind: [''],\n      phone: [''],\n      web: [''],\n      rating_nps: [{ value: 0, disabled: true }],\n      user_rating_nps: [{ value: 0, disabled: true }],\n      contacts: fb.array([], []),\n      association_id: [[]],\n      tax_id: [undefined],\n      // type_id: [undefined, [Validators.required]],\n      type_id: [],\n      language_id: [undefined],\n      country_id: [],\n      city_id: [],\n      svh_id: [],\n      request_format_id: [''],\n      // exclude_from_trade: [false]\n      allow_trade:[false],\n      counterparty_id: [],\n      // carrier_name:[,[]],\n      carrier_id:[[],[]],\n      currency:[,[]]\n    });\n\n    // this.change$\n    // .pipe(\n    //   debounceTime(1000),\n    //   distinctUntilChanged(),\n    // )\n    // .subscribe((e) => {\n    //   this.getTransportCarrier(e)\n    // });\n  }\n  test(i:any,c?:any){\n    console.log(i,c);\n\n  }\n\n  customSearchFn = (term: string, item: any): boolean => {\n    //      \n    const selectedCityId = this.contractorForm?.get('city_id')?.value;\n    const selectedCountryId = this.contractorForm?.get('country_id')?.value;\n\n    //     \n    let isValid = true;\n\n    // 1.     (name)\n    if (term) {\n      isValid = isValid && item.name.toLowerCase().includes(term.toLowerCase());\n    }\n\n    // 2.   city_id ( )\n    if (selectedCityId) {\n      isValid = isValid && item.city_id === selectedCityId;\n    }\n\n    // 3.   country_id ( )\n    if (selectedCountryId) {\n      isValid = isValid && item.country_id === selectedCountryId;\n    }\n\n    return isValid;\n  }\n\n  isRequiredField(field: string): boolean {\n    const control = this.contractorForm.get(field);\n    return control?.hasValidator(Validators.required) ?? false;\n  }\n\n  onSearchChange(event: any) {\n    const searchText = event.target.value.toLowerCase();\n    this.filteredTransportCarrier = this.transportCarrier.filter(carrier =>\n      carrier.full_name.toLowerCase().includes(searchText)\n    );\n  }\n  displayName(item: any): string {\n    return item ? item.full_name : '';\n  }\n\n  ngOnInit(): void {\n    this.initialization_chooseModeForm();\n    this.initialization_getDatas();\n    // this.initialization_subscribeForm();\n    this.getFormParam();\n  }\n\n  initialization_chooseModeForm(){\n    const segments = this.route.snapshot.url.map(s => s.path);\n    this.isEditMode = segments[0] !== 'add';\n    this.title = this.isEditMode ? '  ' : ' ';\n  }\n  async initialization_getDatas() {\n    try {\n      await lastValueFrom(forkJoin([\n        this.getContractorTypes(),\n        this.getTransportCarrier(),\n        this.getCountries(),\n        this.getCities(),\n        this.getDirectionPoint(),\n        this.getCounterparty(),\n        this.getTaxSystems(),\n        this.getAssociations(),\n        this.getRequestFormats(),\n        this.getCurrency(),\n      ]));\n      //       \n      if (this.isEditMode) {\n        await lastValueFrom(this.getContractor()); //  Observable  Promise\n      }\n    } catch (error) {\n      console.error('   :', error);\n    }\n\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n\n  // onChange(query: string|undefined) {\n  //   this.change$.next(query);\n  // }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  goToContractor(id: number): void {\n    this.router.navigate(['..', id]);\n  }\n\n  removeContact(i: number): void {\n    this.contacts.removeAt(i);\n    this.contractorForm.markAsTouched();\n  }\n\n  addContact() {\n    this.contacts.push(this.fb.control({\n      contractor_id: this.contractor.id\n    }));\n    this.contractorForm.markAsTouched();\n  }\n\n  get contacts() {\n    return <FormArray>this.contractorForm.get('contacts');\n  }\n\n  save(): void {\n    console.log(this.contractorForm.value);\n\n    if (!this.contractorForm.valid) {\n      this.snackBar.open('    ', undefined, this.snackBarWithLongDuration);\n      return;\n    }\n    const body = this.contractorForm.value;\n    if (typeof this.contractor.id === 'number') {\n      this.updateContractor(body);\n    } else {\n      this.createContractor(body);\n    }\n  }\n\n  remove(): void {\n    this.snackBar.open(\" ...\", \"\", this.snackBarWithLongDuration)\n      .afterDismissed().subscribe(res => {\n        if (!res.dismissedByAction) {\n          this.removeContractor();\n        }\n      });\n  }\n\n  get assocAsText(): string {\n    const ids: string[] = this.contractorForm.controls['association_id'].value || [];\n    return ids.map(id => this.associations.find(a => a.id === id)?.name).join(', ');\n  }\n\n\n\n  onContractorTypeChange(e:any){\n    console.log(e);\n\n    if(e?.contact_required){\n      this.contractorForm.get('type_id')!.setValidators([Validators.required]);\n    } else {\n      this.contractorForm.get('type_id')!.setValidators([]);\n      // this.contractorForm.get('type_id')!.clearValidators;\n    }\n  }\n\n  onCountryChange(country:any) {\n    if(country){\n      this.contractorForm.controls['city_id'].reset();\n      this.updateFilteredCityList();\n      this.updateDirectionPointList();\n    }\n  }\n  onCityChange(city:any) {\n    if(city ){\n      this.patchCountryControl(city?.country_id);\n      this.updateDirectionPointList();\n    }\n  }\n  onSvhChange(svh:any){\n    console.log(svh);\n\n    if(svh){\n      this.contractorForm.patchValue({ country_id: svh.country_id, city_id: svh.city_id })\n      this.updateFilteredCityList();\n    }\n  }\n\n  updateFilteredCityList(){\n    const countryId = this.contractorForm.value.country_id;\n    this.filteredCitys = countryId\n    ? this.cities.filter(item => item.country_id == countryId)\n    : this.cities\n  }\n  updateDirectionPointList(){\n    const countryId = this.contractorForm.value.country_id;\n    const cityId = this.contractorForm.value.city_id;\n    if(cityId){\n      this.filteredDirectionPoint=this.directionPoint.filter(item => item.city_id == cityId )\n    } else if (countryId) {\n      this.filteredDirectionPoint=this.directionPoint.filter(item => item.country_id == countryId )\n    } else {\n      // this.filteredDirectionPoint=this.directionPoint;\n    }\n    // this.filteredDirectionPoint = countryId || cityId\n    // ? this.directionPoint.filter(item =>\n    //   item.country_id == countryId || countryId\n    //   &&\n    //   item.city_id == cityId || cityId)\n    // : this.directionPoint\n  }\n\n  patchCountryControl(country_id:any){\n    this.contractorForm.patchValue({\n      country_id: country_id\n    });\n  }\n\n  onCounterpartyChange(counterparty:any){\n    if(counterparty.id==12 && this.filteredDirectionPoint.length<1) {\n      this.snackBar.open(` ,      `, undefined, this.snackBarWithLongDuration)\n      this.filteredDirectionPoint=this.directionPoint;\n    }\n  }\n\n  canSave(): boolean {\n    return this.contractorForm.valid;\n  }\n\n  private updateContractor(body: any) {\n    console.log(body);\n\n    this.contractorService.contractorUpdate({ body }).pipe().subscribe({\n      next: () => {\n        if(this.isNavigateAfterSave){\n          this.goBack();\n        }\n        this.snackBar.open(` `, undefined, this.snackBarWithShortDuration);\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n  private createContractor(body: any) {\n    console.log(body);\n    this.contractorService.contractorCreate({ body }).pipe().subscribe({\n      next: ({ id }) => {\n        if(this.isNavigateAfterSave){\n          this.goBack();\n        } else {\n          this.goToContractor(id);\n        }\n        this.snackBar.open(` `, undefined, this.snackBarWithShortDuration)\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n  private removeContractor() {\n    const body = { id: this.contractor.id! };\n    this.contractorService.contractorDelete({ body }).subscribe({\n      next: () => {\n        this.snackBar.open(' ', undefined, this.snackBarWithShortDuration);\n        this.goBack();\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n\n  // onTransportCarrierChange(i:any){\n  //   this.contractorForm.patchValue({\n  //     carrier_id:i.id\n  //   })\n  // }\n\n  private getTransportCarrier() {\n    return this.transportService.transportCarrier()\n      .pipe(\n        tap((transportCarrier) =>{\n          this.transportCarrier = transportCarrier;\n          this.filteredTransportCarrier = transportCarrier;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getCounterparty() {\n    return this.systemService.systemCounterparty()\n      .pipe(\n        tap((counterpartys) =>{\n          this.filteredCounterpartys = counterpartys as Counterparty[];\n          this.counterpartys = counterpartys as Counterparty[];\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getAssociations() {\n    return this.systemService.systemAssociation()\n      .pipe(\n        tap((associations) =>{\n          this.associations = associations as Association[]\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  private getContractorTypes() {\n    return  this.contractorService.contractorType()\n      .pipe(\n        tap((contractorTypes) =>{\n          this.contractorTypes = contractorTypes as unknown as ContractorType[];\n          this.filteredContractorTypes = contractorTypes as unknown as ContractorType[];\n        } ),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getTaxSystems() {\n    return  this.systemService.systemTaxSystem()\n      .pipe(\n        tap((taxSystems) =>{\n          this.filteredTaxs = taxSystems ? taxSystems as TaxSystem[] : [];\n          this.taxSystems = taxSystems ? taxSystems as TaxSystem[] : [];\n        } ),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  private getCountries() {\n    return this.countryService.getCountries()\n      .pipe(\n        tap((countries) =>{\n          this.filteredCountries = countries;\n          this.countries = countries;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getCities() {\n    return this.directionService.directionCity()\n      .pipe(\n        tap((cities) =>{\n          this.cities = cities;\n          this.filteredCitys = cities;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getDirectionPoint() {\n    return this.directionService.directionPoint({transport_kind_id:1,})\n      .pipe(\n        tap((directionPoint) =>{\n          this.directionPoint = directionPoint;\n          this.filteredDirectionPoint = directionPoint;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getRequestFormats() {\n    return this.contractorService.contractorRequestFormat()\n      .pipe(\n        tap((formats) =>{\n          this.requestFormats = formats as unknown as ContractorRequestFormat[];\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  // private getCities(countryId: number) {\n  //   this.cityService.getCities(countryId)\n  //     .subscribe(cities => {\n  //       this.filteredCitys = cities;\n  //       this.cities = cities;\n  //     } );\n  // }\n\n  private getContractor() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    return this.contractorService.contractorInfo({ id }).pipe(\n      tap((contractor) => {\n        console.log(' ', contractor);\n        if (!contractor) {\n          throw { error: { error_message: `  ` } };\n        }\n      }),\n      tap((contractor) => {\n        this.contractor = contractor as unknown as Contractor;\n        const contactsControls = this.contacts;\n\n        //  contractor_id   \n        this.contractor.contacts?.forEach((contact) => {\n          contact.contractor_id = contractor.id;\n          contactsControls.push(this.fb.control(contact));\n        });\n\n        //    \n        this.contractorForm.patchValue(this.contractor);\n\n        //   country_id,  \n        // if (typeof contractor.country_id === 'number') {\n        //   this.getCities(contractor.country_id);\n        // }\n        this.updateFilteredCityList();\n        this.updateDirectionPointList();\n\n\n        //    \n        this.nameForHeader = contractor.name;\n      }),\n      catchError((err) => {\n        this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n        this.goBack();\n        return throwError(() => err); //   \n      })\n    );\n  }\n\n  getCurrency(){\n    return this.systemService.systemCurrency()\n      .pipe(\n        tap((currencyList) =>{\n          this.currencyList=currencyList.current;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  getFormParam(body?:any){\n    this.contractorService.contractorParam({body:body})\n      .pipe(\n        tap((formParams) =>{\n          this.formParams=formParams;\n          console.log('getFormParam body',body);\n          console.log('getFormParam formParams',formParams.required);\n\n        }),\n        takeUntil(this._destroy$)\n      ).subscribe({\n      next: () => {\n        this.applyRequiredValidators();\n        if(!body)this.subscribeDependentFields();\n\n\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)});\n  }\n\n  applyRequiredValidators() {\n    console.log('valid', this.formParams, this.contractorForm);\n    this.requiredContactFields=[];\n    this.requiredDirection=false;\n    this.formParams.required?.forEach((required_item:any) => {\n      const control = this.contractorForm.get(required_item.field);\n\n      if (required_item.parent=='contacts') {\n        this.requiredContactFields.push(required_item.field);\n      } else if (required_item.parent=='contacts/direction') {\n        this.requiredDirection=true;\n      } else if (control && !required_item.parent) {\n        control.setValidators(Validators.required);\n        control.updateValueAndValidity();\n      }\n    });\n  }\n\n  subscribeDependentFields(){\n    this.formParams.dependent_fields?.forEach((dependent_field:string) => {\n      this.contractorForm.get(dependent_field)?.valueChanges\n      .pipe(\n        debounceTime(1500),\n        distinctUntilChanged(),\n        takeUntil(this._destroy$),)\n      .subscribe((value: any) => {\n        const body = {\n          dependent_fields: this.formParams.dependent_fields?.map((dependent_field:any) =>\n            ({field: dependent_field, value: this.contractorForm.value[dependent_field]})\n          )\n        }\n        // const body = this.formParams.dependent_fields?.map((dependent_field:any) => ({dependent_fields: [{field: dependent_field, value: this.contractorForm.value[dependent_field]}]}));\n        this.getFormParam(body);\n\n\n      })\n    })\n  }\n\n\n  // private getContractor() {\n  //   const id = Number(this.route.snapshot.paramMap.get('id'));\n  //   return this.contractorService.contractorInfo({ id })\n  //     .pipe(\n  //       tap(contractor => {\n  //       console.log(' ',contractor);\n  //       if (!contractor) {\n  //         throw ({ error: { error_message: `  ` } });\n  //       }\n  //     }))\n  //     .subscribe({\n  //       next: contractor => {\n  //         this.contractor = contractor as unknown as Contractor;\n  //         const contactsControls = this.contacts;\n  //         this.contractor.contacts?.forEach(contact => contact.contractor_id = contractor.id);\n  //         this.contractor.contacts?.forEach(contact => contactsControls.push(this.fb.control(contact)));\n  //         this.contractorForm.patchValue(this.contractor);\n  //         if (typeof contractor.country_id === 'number') {\n  //           this.getCities(contractor.country_id);\n  //         }\n  //         this.nameForHeader = contractor.name;\n  //       },\n  //       error: (err: any) => {\n  //         this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n  //         this.goBack();\n  //       }\n  //     });\n  // }\n\n\n\n\n\n}\n\n// initialization_subscribeForm(){\n  //   // this.subscribeControl_ContractorType();\n  //   this.subscribeControl_CarrierId();\n  //   this.subscribeControl_CountryId();\n  //   this.subscribeControl_CityId();\n  //   this.subscribeControl_CounterpartyId();\n  //   this.subscribeControl_TaxId();\n  // }\n\n  // subscribeControl_ContractorType(){\n  //   this.contractorForm.get('type_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredContractorTypes = this.contractorTypes.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredContractorTypes.length==1){\n  //         if(this.filteredContractorTypes[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             type_id:this.filteredContractorTypes[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CarrierId(){\n  //   this.contractorForm.get('carrier_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredTransportCarrier = this.transportCarrier.filter((item: any) => {\n  //         return item.full_name && item.full_name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredTransportCarrier.length==1){\n  //         if(this.filteredTransportCarrier[0].full_name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             carrier_id: this.filteredTransportCarrier[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CountryId(){\n  //   this.contractorForm.get('country_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCountries = this.countries.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCountries.length==1){\n  //         if(this.filteredCountries[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             country_id: this.filteredCountries[0].id,\n  //           });\n  //           this.onCountryChange(this.filteredCountries[0].id);\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CityId(){\n  //   this.contractorForm.get('city_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCitys = this.cities.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCitys.length==1){\n  //         if(this.filteredCitys[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             city_id: this.filteredCitys[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CounterpartyId(){\n  //   this.contractorForm.get('counterparty_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCounterpartys = this.counterpartys.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCounterpartys.length==1){\n  //         if(this.filteredCounterpartys[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             counterparty_id: this.filteredCounterpartys[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_TaxId(){\n  //   this.contractorForm.get('tax_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredTaxs = this.taxSystems.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredTaxs.length==1){\n  //         if(this.filteredTaxs[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             tax_id: this.filteredTaxs[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n\n  //   displayFn_TaxId(id: any): string {\n  //   if (!this.taxSystems) {\n  //     return '';\n  //   }\n  //   const obj = this.taxSystems.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CounterpartyId(id: any): string {\n  //   if (!this.counterpartys) {\n  //     return '';\n  //   }\n  //   const obj = this.counterpartys.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CityId(id: any): string {\n  //   if (!this.cities) {\n  //     return '';\n  //   }\n  //   const obj = this.cities.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CountryId(id: any): string {\n  //   if (!this.countries) {\n  //     return '';\n  //   }\n  //   const obj = this.countries.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CarrierId(id: any): string {\n  //   if (!this.transportCarrier) {\n  //     return '';\n  //   }\n  //   const obj = this.transportCarrier.find(obj => obj.id === id);\n  //   return obj?.full_name || '';\n  // }\n  // displayFn_TypeId(id: any): string {\n  //   if (!this.contractorTypes) {\n  //     return '';\n  //   }\n  //   const obj = this.contractorTypes.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n\n\n\n","<app-editor-header [title]=\"title\" (save)=\"save()\" (remove)=\"remove()\" [isEditMode]=\"isEditMode\"  [name]=\"nameForHeader\" [backLink]=\"'contractor'\"></app-editor-header>\n\n<form class=\"edit-form\" [formGroup]=\"contractorForm\" (submit)=\"save()\" focusFirstInvalid>\n  <div class=\"form-block\">\n    <div class=\"form-row\">\n      <div class=\"form-item-layout\">\n\n        <div class=\"form-data form-item torg\">\n          <label>\n            <input type=\"checkbox\" formControlName=\"allow_trade\">\n            <i> </i>\n            <span> </span>\n          </label>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\"></div>\n          <div class=\"form-data\">\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'type_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"type_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"contractorTypes\" (change)=\"onContractorTypeChange($event)\"></ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'type_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\"> : <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n            <input matInput type=\"text\" formControlName=\"type_id\" [matAutocomplete]=\"type_id\">\n            <mat-autocomplete #type_id=\"matAutocomplete\" [displayWith]=\"displayFn_TypeId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredContractorTypes\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n            </mat-autocomplete>\n            <mat-error *ngIf=\"contractorForm.controls['type_id'].hasError('required')\">\n                \n            </mat-error>\n          </div>\n        </div> -->\n\n        <div class=\"form-item\">\n           <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'language_id'}\"></ng-container>\n          </div>\n           <div class=\"form-data\">\n            <ng-select formControlName=\"language_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"[{name:'',id:'en'},{name:'',id:'ru'}]\"></ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'language_id'}\"></ng-container>\n            <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"language_id\" panelClass=\"panel-class-name\">\n                <mat-option value=\"en\"></mat-option>\n                <mat-option value=\"ru\"></mat-option>\n              </mat-select>\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'language_id'}\"></ng-container>\n            </mat-form-field> -->\n           </div>\n         </div>\n\n\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: </div>\n          <div class=\"form-data\">\n            <input appearance=\"outline\" class=\"ui-select\"\n              type=\"text\"\n              formControlName=\"carrier_name\"\n              [matAutocomplete]=\"auto\"\n              (ngModelChange)=\"onChange($event)\"\n              placeholder=\"\" >\n            <mat-autocomplete  #auto=\"matAutocomplete\">\n              <mat-option class=\"\" *ngFor=\"let customer of transportCarrier;\" [value]=\"customer.name\" (click)=\"onTransportCarrierChange(customer)\">{{ customer.name }}</mat-option>\n            </mat-autocomplete>\n          </div>\n        </div> -->\n\n      </div>\n\n    </div>\n    <div class=\"form-row\">\n      <input type=\"hidden\" formControlName=\"id\">\n\n      <div class=\"form-item-layout\">\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               :\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'name'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <input type=\"text\" name=\"name\" formControlName=\"name\" placeholder=\"\">\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'name'}\"></ng-container>\n            </div>\n          </div>\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               (, Rec   .):\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'ind'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <input type=\"text\" name=\"ind\" formControlName=\"ind\" placeholder=\"\">\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'ind'}\"></ng-container>\n            </div>\n          </div>\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               :\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'country_id'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <ng-select formControlName=\"country_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"countries\" (change)=\"onCountryChange($event)\"></ng-select>\n              <!-- <input matInput type=\"text\" formControlName=\"country_id\" [matAutocomplete]=\"country_id\" >\n              <mat-autocomplete #country_id=\"matAutocomplete\" [displayWith]=\"displayFn_CountryId.bind(this)\">\n                <mat-option *ngFor=\"let option of filteredCountries\" [value]=\"option.id\" (click)=\"onCountryChange(option.id)\">\n                  {{option.name}}\n                </mat-option>\n                <mat-option *ngIf=\"filteredCountries.length==0\" disabled > </mat-option>\n              </mat-autocomplete> -->\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'country_id'}\"></ng-container>\n            </div>\n          </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n             <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"country_id\" (valueChange)=\"onCountryChange($event)\">\n                <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['country_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n         </div> -->\n\n        <div class=\"form-item\">\n        <div class=\"form-label\">\n          :\n          <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'city_id'}\"></ng-container>\n        </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"city_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"filteredCitys\" (change)=\"onCityChange($event)\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"city_id\" [matAutocomplete]=\"city_id\" >\n            <mat-autocomplete #city_id=\"matAutocomplete\" [displayWith]=\"displayFn_CityId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredCitys\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredCitys.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'city_id'}\"></ng-container>\n          </div>\n        </div>\n\n         <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: <span class=\"req\"></span></div>\n           <mat-form-field appearance=\"outline\" class=\"ui-select\">\n             <mat-select formControlName=\"city_id\">\n               <mat-option *ngFor=\"let city of cities;\" [value]=\"city.id\">{{ city.name }}</mat-option>\n             </mat-select>\n             <mat-error *ngIf=\"contractorForm.controls['city_id'].hasError('required')\">\n                 \n             </mat-error>\n           </mat-form-field>\n         </div> -->\n\n      </div>\n\n\n\n      <div class=\"form-item-layout\">\n        <div class=\"form-item w50\">\n          <div class=\"form-label\">\n            :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'address'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"address\" formControlName=\"address\" placeholder=\"\">\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'address'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'phone'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"phone\" formControlName=\"phone\" placeholder=\"\" appPhoneMask>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'phone'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'web'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"web\" formControlName=\"web\" placeholder=\"\">\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'web'}\"></ng-container>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"form-item-layout\">\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'counterparty_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"counterparty_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"counterpartys\" (change)=\"onCounterpartyChange($event)\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"counterparty_id\" [matAutocomplete]=\"counterparty_id\" >\n            <mat-autocomplete #counterparty_id=\"matAutocomplete\" [displayWith]=\"displayFn_CounterpartyId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredCounterpartys\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredCounterpartys.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'counterparty_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n            <input matInput type=\"text\" formControlName=\"carrier_id\" [matAutocomplete]=\"carrier_id\">\n            <mat-autocomplete #carrier_id=\"matAutocomplete\" [displayWith]=\"displayFn_CarrierId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredTransportCarrier\" [value]=\"option.id\">\n                {{ option.full_name }}\n              </mat-option>\n            </mat-autocomplete>\n          </div>\n        </div> -->\n\n        <div class=\"form-item\" *ngIf=\"contractorForm.value.counterparty_id!=12\">\n          <div class=\"form-label\">\n            :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'carrier_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"carrier_id\" class=\"custom\" bindLabel=\"full_name\" bindValue=\"id\"\n              [closeOnSelect]=\"false\"\n              [multiple]=\"true\"\n              [items]=\"transportCarrier\"\n              [placeholder]=\"contractorForm.value.carrier_id?.length>0\n                ? ' .: ' + contractorForm.value.carrier_id.length\n                : '' \"\n            >\n              <ng-template ng-multi-label-tmp let-items=\"items\" let-clear=\"clear\">\n\n              </ng-template>\n            </ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'carrier_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\" *ngIf=\"contractorForm.value.counterparty_id==12\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'svh_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"svh_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"filteredDirectionPoint\" (change)=\"onSvhChange($event)\"></ng-select>\n            <!-- <ng-select formControlName=\"svh_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"directionPoint\"></ng-select> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'svh_id'}\"></ng-container>\n          </div>\n        </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n            <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"type_id\">\n                <mat-option *ngFor=\"let type of contractorTypes; let i=index\" [value]=\"i+1\">{{ type.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['type_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n         </div> -->\n\n\n\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\"> : <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n           <mat-form-field appearance=\"outline\" class=\"ui-select\">\n             <mat-select formControlName=\"counterparty_id\">\n               <mat-option *ngFor=\"let type of counterpartys;\"  [value]=\"type.id\">{{ type.name }}</mat-option>\n             </mat-select>\n             <mat-error *ngIf=\"contractorForm.controls['counterparty_id'].hasError('required')\">\n\n                 \n             </mat-error>\n           </mat-form-field>\n          </div>\n        </div> -->\n\n         <div class=\"form-item\">\n           <div class=\"form-label\">\n              :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'association_id'}\"></ng-container>\n          </div>\n           <div class=\"form-data\">\n            <ng-select formControlName=\"association_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"associations\" [multiple]=\"true\"\n              [placeholder]=\"contractorForm.value.association_id?.length>0\n                ? ' .: ' + contractorForm.value.association_id.length\n                : '' \"\n                [closeOnSelect]=\"false\"\n              >\n              <ng-template ng-multi-label-tmp let-items=\"items\" let-clear=\"clear\"></ng-template>\n            </ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'association_id'}\"></ng-container>\n            <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"association_id\" multiple>\n                <mat-select-trigger>\n                  {{ assocAsText }}\n                </mat-select-trigger>\n                <mat-option *ngFor=\"let assoc of associations\" [value]=\"assoc.id\">{{assoc.name}}</mat-option>\n              </mat-select>\n\n            </mat-form-field> -->\n           </div>\n         </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'tax_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"tax_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"taxSystems\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"tax_id\" [matAutocomplete]=\"tax_id\" >\n            <mat-autocomplete #tax_id=\"matAutocomplete\" [displayWith]=\"displayFn_TaxId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredTaxs\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredTaxs.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'tax_id'}\"></ng-container>\n          </div>\n        </div>\n      </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n            <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"tax_id\">\n                <mat-option *ngFor=\"let taxSystem of taxSystems\" [value]=\"taxSystem.id\">{{ taxSystem.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['tax_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n        </div>\n       </div> -->\n\n    </div>\n\n    <div class=\"form-row sep\" *ngIf=\"contractorForm.value.allow_trade\">\n        :\n      <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'request_format_id'}\"></ng-container>\n      <label *ngFor=\"let format of requestFormats\">\n        <input type=\"radio\" formControlName=\"request_format_id\" [value]=\"format.id\">\n        <i></i>\n        <span>{{ format.name }}</span>\n      </label>\n      <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'request_format_id'}\"></ng-container>\n    </div>\n\n    <div class=\"form-row\" >\n      <div class=\"form-item\" style=\"width: 100px;\">\n        <div class=\"form-label\">\n            \n          <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'currency'}\"></ng-container>\n        </div>\n        <div class=\"form-data\">\n        <ng-select formControlName=\"currency\" class=\"custom\" bindLabel=\"code\" bindValue=\"id\" [items]=\"currencyList\"></ng-select>\n        <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'currency'}\"></ng-container>\n        <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n          <mat-select formControlName=\"currency\">\n            <mat-option *ngFor=\"let currency of currencyList\" [value]=\"currency.id\">{{currency.code}}</mat-option>\n          </mat-select>\n        </mat-form-field> -->\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"form-block-title\"></div>\n  <div class=\"form-block\">\n\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <app-rating name=\"rating_nps\" formControlName=\"rating_nps\"></app-rating>\n      <div class=\"link\">\n        <a href=\"#\"></a>\n      </div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <app-rating name=\"user_rating_nps\" formControlName=\"user_rating_nps\"></app-rating>\n      <div class=\"link\">\n        <a href=\"#\"></a>\n      </div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">    :</div>\n      <div class=\"data flags\">\n        <span class=\"plus\">{{ contractor.review_positive_count }}</span>\n        <span class=\"minus\">{{ contractor.review_negative_count }}</span>\n        <span class=\"neutral\">{{ contractor.review_neutral_count }}</span>\n      </div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <div class=\"data\">{{contractor.order_count}}</div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\"> %  :</div>\n      <div class=\"data flags\">\n        <span class=\"win\">{{contractor.trade_success_count}}</span>\n        <span class=\"fail\">{{contractor.trade_fail_count}}</span>\n      </div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n  </div>\n\n\n  <div formArrayName=\"contacts\">\n  <div class=\"user-item\" *ngFor=\"let contact of contacts.controls; let i=index\">\n    <div class=\"form-block-title\">  {{i + 1}}<span class=\"btn v del\" (click)=\"removeContact(i)\"></span></div>\n    <app-contact-editor [homeCountryId]=\"contractorForm.controls['country_id'].value\" [countries]=\"countries\" [formControlName]=\"i\" [requiredFields]=\"requiredContactFields\" [requiredDirection]=\"requiredDirection\"></app-contact-editor>\n  </div>\n\n  <div class=\"user-item\">\n    <div class=\"form-block-title\">  {{contacts.length + 1}}<span class=\"btn v add\" (click)=addContact()></span></div>\n  </div>\n  <mat-error *ngIf=\"contacts.errors?.['required'] && (contractorForm.touched || contractorForm.dirty)\">\n         .\n  </mat-error>\n  </div>\n\n  <div class=\"hdr ftr\">\n    <div class=\"title\">\n    </div>\n    <div class=\"fn\">\n      <button class=\"btn v save\" type=\"submit\" ><span></span></button>\n      <button class=\"btn v del\" *ngIf=\"isEditMode\" (click)=\"remove()\"><span></span></button>\n      <button class=\"btn v cancel\" (click)=\"goBack()\"><span></span></button>\n    </div>\n  </div>\n\n</form>\n\n\n<ng-template #inputError let-field=\"field\">\n  <mat-error *ngIf=\"contractorForm.controls[field].hasError('required') && contractorForm.controls[field].touched\">\n      \n  </mat-error>\n</ng-template>\n\n<ng-template #inputLabelReq let-field=\"field\">\n  <span *ngIf=\"isRequiredField(field)\" class=\"req\"></span>\n</ng-template>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'app-rating',\n  templateUrl: './rating.component.html',\n  styleUrls: ['./rating.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: RatingComponent\n    }\n  ]\n})\nexport class RatingComponent implements OnInit, ControlValueAccessor {\n  @Input() total: number = 10;\n  @Input() units: string = 'NPS';\n\n  score: number = 0;\n  stars = new Array<boolean>(this.total).fill(false);\n  isDisabled = false;\n  private touched = false;\n\n  onChange = (value: number) => {};\n  onTouched = () => {};\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  writeValue(score: number): void {\n    this.score = +score;\n    this.fillStars();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n  \n  setDisabledState(isDisabled: boolean): void {\n    this.isDisabled = isDisabled; \n  }\n\n  getAsText(): string {\n    return `${this.score}/${this.total} ${this.units}`;\n  }\n  \n  setScore(score: number): void {\n    if (this.isDisabled) {\n      return;\n    }\n    this.score = score;\n    this.fillStars();\n    this.onChange(this.score);\n    if (!this.touched) {\n      this.touched = true;\n      this.onTouched();\n    }\n  }\n  \n  fillStars(): void {\n    for (let i = 0; i < this.total; i++) {\n      this.stars[i] = i < this.score;\n    }\n  }\n\n}\n","<div class=\"data\">\n  {{score}}/{{total}} {{units}}\n  <span class=\"stars\" [ngClass]=\"{'disabled': isDisabled}\">\n    <span *ngFor=\"let star of stars; let i=index\" [ngClass]=\"{'sel': star}\" (click)=\"setScore(i + 1)\"></span>\n  </span>\n</div>","import { Component, Input, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country, Responsibilities } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\nimport { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\n\n@Component({\n  selector: 'app-responsibility-matrix',\n  templateUrl: './responsibility-matrix.component.html',\n  styleUrls: ['./responsibility-matrix.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityMatrixComponent\n    }\n  ]\n})\nexport class ResponsibilityMatrixComponent implements ControlValueAccessor {\n  @Input() countries: Country[] = [];\n  @Input() homeCountry: Country = unknownCountry;\n  @Input() type: 'import' | 'export' = 'export';\n  onChange = (value: any) => { };\n  onTouched = () => { };\n\n  // New country\n  country?: Country;\n  filteredCountries: Country[] = [];\n\n  kinds = transportSubKindTable;\n  responsibilities: Responsibilities = {};\n\n  targetCountries: Country[] = [];\n  disabled: boolean = false;\n  constructor() { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const homeCountryChange = changes['homeCountry'];\n    if (homeCountryChange) {\n      if (this.homeCountry) {\n        const homeCountryId = this.homeCountry.id;\n        delete this.responsibilities[homeCountryId];\n        this.targetCountries = this.targetCountries.filter(({ id }) => id !== homeCountryId);\n      }\n    }\n  }\n\n  writeValue(responsibilityParam: Responsibilities): void {\n    this.responsibilities = responsibilityParam || {};\n    this.targetCountries = Object.keys(this.responsibilities)\n      .filter(countryId => Number(countryId) !== this.homeCountry.id)\n      .map(countryId => this.getCountryById(countryId)!)\n      .sort(byName);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  doFilter(country: Country | string): void {\n    this.filteredCountries = this.countries.filter(c => {\n      const value = typeof country === 'string' ? country : country.name!;\n      return c.name!.toLowerCase().includes(value.toLowerCase()) && !(c.id in this.responsibilities && c.id === this.homeCountry.id);\n    });\n  }\n\n  displayFn(country: Country): string {\n    return country && country.name ? country.name : '';\n  }\n\n  addCountry(): void {\n    this.targetCountries.push(this.country!);\n    console.log(this.targetCountries);\n\n    this.targetCountries.sort(byName);\n    this.responsibilities[this.country!.id] = [];\n    this.country = undefined;\n    this.valueChanged();\n  }\n\n  getCountryById(id: string | number): Country | undefined {\n    return this.countries.find(country => country.id === Number(id));\n  }\n\n  removeCountry(countryId: number | string): void {\n    const index = this.targetCountries.findIndex(({ id }) => id === Number(countryId))\n    if (index >= 0) {\n      this.targetCountries.splice(index, 1);\n    }\n    delete this.responsibilities[countryId];\n    this.valueChanged();\n  }\n\n\n  allChecked(): boolean {\n    const countChecked = this.getCountChecked();\n    return this.targetCountries.length > 0 && countChecked === this.targetCountries.length * TransportSubKinds.length;\n  }\n\n  allComplete(): boolean {\n    const countChecked = this.getCountChecked();\n    return countChecked === 0 || countChecked === this.targetCountries.length * TransportSubKinds.length;\n  }\n\n  private getCountChecked(): number {\n    return this.targetCountries.map(({ id }) => this.responsibilities[id].length).reduce((sum, count) => sum + count, 0);\n  }\n\n  allChange({ checked }: MatCheckboxChange): void {\n    this.targetCountries.forEach(({ id }) => this.responsibilities[id] = checked ? [...TransportSubKinds] : []);\n    this.valueChanged();\n  }\n\n  allCheckedForKind(kind: TransportSubKind): boolean {\n    return this.targetCountries.length > 0 && this.getCheckedForKind(kind) === this.targetCountries.length;\n  }\n\n  allCompleteForKind(kind: TransportSubKind): boolean {\n    const checked = this.getCheckedForKind(kind);\n    return checked === 0 || checked === this.targetCountries.length;\n  }\n\n  private getCheckedForKind(kind: TransportSubKind): number {\n    return this.targetCountries.map(({ id }) => this.responsibilities[id].includes(kind)).reduce((sum, checked) => checked ? sum + 1 : sum, 0)\n  }\n\n  allChangeForKind(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    this.targetCountries.forEach(({ id }) => {\n      const kinds = this.responsibilities[id];\n      if (checked) {\n        if (!kinds.includes(kind)) {\n          kinds.push(kind);\n        }\n      } else {\n        this.responsibilities[id] = kinds.filter(aKind => aKind !== kind);\n      }\n    });\n    this.valueChanged();\n  }\n\n  allCheckedForCountry(countryId: number | string): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.length === TransportSubKinds.length;\n  }\n\n  allCompleteForCountry(countryId: number | string): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.length === TransportSubKinds.length || kinds.length === 0;\n  }\n\n  allChangeForCountry(countryId: number | string, { checked }: MatCheckboxChange): void {\n    if (checked) {\n      this.responsibilities[countryId] = [...TransportSubKinds];\n    } else {\n      this.responsibilities[countryId] = [];\n    }\n    this.valueChanged();\n  }\n\n  checkedForCountryAndKind(countryId: number | string, kind: TransportSubKind): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.includes(kind);\n  }\n\n  changeForCountryAndKind(countryId: number | string, kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.responsibilities[countryId];\n    if (checked) {\n      kinds.push(kind);\n    } else {\n      this.responsibilities[countryId] = kinds.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    const value = { ...this.responsibilities };\n    delete value[this.homeCountry.id];\n    this.onChange(value);\n    this.onTouched();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n\nconst byName = (a: Country, b: Country) => a.name!.localeCompare(b.name!);\n","<table class=\"t1\" *ngIf=\"!disabled\">\n  <tbody>\n    <tr>\n      <th class=\"name\">\n        <div *ngIf=\"type === 'export'\">  {{homeCountry.name_from}}\n          <span [ngPlural]=\"targetCountries.length\">\n            <ng-template ngPluralCase=\"=0\"></ng-template>\n            <ng-template ngPluralCase=\"=1\">  </ng-template>\n            <ng-template ngPluralCase=\"=2\">  </ng-template>\n            <ng-template ngPluralCase=\"few\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"many\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"other\"> {{targetCountries.length}} </ng-template>\n          </span>:\n        </div>\n        <div *ngIf=\"type === 'import'\">  {{homeCountry.name_to}}\n          <span [ngPlural]=\"targetCountries.length\">\n            <ng-template ngPluralCase=\"=0\"></ng-template>\n            <ng-template ngPluralCase=\"=1\">  </ng-template>\n            <ng-template ngPluralCase=\"=2\">  </ng-template>\n            <ng-template ngPluralCase=\"few\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"many\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"other\"> {{targetCountries.length}} </ng-template>\n          </span>:\n        </div>\n        <input type=\"text\" placeholder=\"   ...\" matInput [(ngModel)]=\"country\" (ngModelChange)=\"doFilter($event)\"\n          [matAutocomplete]=\"auto\">\n        <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\" (optionSelected)=\"addCountry()\">\n          <mat-option *ngFor=\"let country of filteredCountries\" [value]=\"country\">\n            {{country.name}}\n          </mat-option>\n        </mat-autocomplete>\n      </th>\n      <th class=\"all bg s e\">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allChecked()\" [indeterminate]=\"!allComplete()\" (change)=\"allChange($event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <div class=\"l\"><span class=\"ico\" [ngClass]=\"kind.type\"></span><span>{{kind.name}}</span></div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allCheckedForKind(kind.kind)\" [indeterminate]=\"!allCompleteForKind(kind.kind)\"\n            (change)=\"allChangeForKind(kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n    </tr>\n\n    <tr class=\"row\" *ngFor=\"let country of targetCountries; let i = index\">\n      <td class=\"name\">\n        <div>\n          <span>{{ country.name }}</span>\n          <span class=\"del\" (click)=\"removeCountry(country.id)\"></span>\n        </div>\n      </td>\n      <td class=\"bg s e\">\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allCheckedForCountry(country.id)\" [indeterminate]=\"!allCompleteForCountry(country.id)\"\n            (change)=\"allChangeForCountry(country.id, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n      <td *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"checkedForCountryAndKind(country.id, kind.kind)\"\n            (change)=\"changeForCountryAndKind(country.id, kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n    </tr>\n  </tbody>\n</table>\n","import { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\nimport { Component, Input, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\n\n@Component({\n  selector: 'app-responsibility-row',\n  templateUrl: './responsibility-row.component.html',\n  styleUrls: ['./responsibility-row.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityRowComponent\n    }\n  ]\n})\nexport class ResponsibilityRowComponent implements ControlValueAccessor {\n\n  @Input() homeCountry: Country = unknownCountry;\n  onChange = (value: any) => { };\n  onTouched = () => { };\n\n  kinds = transportSubKindTable;\n  local: TransportSubKind[] = [];\n  disabled: boolean = false;\n\n  constructor(\n  ) {\n  }\n\n  writeValue(local?: TransportSubKind[]): void {\n    this.local = local || [];\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  allChecked(): boolean {\n    return this.local.length === TransportSubKinds.length;\n  }\n\n  allComplete(): boolean {\n    const kinds = this.local;\n    return kinds.length === TransportSubKinds.length || kinds.length === 0;\n  }\n\n  onAllChange({ checked }: MatCheckboxChange): void {\n    if (checked) {\n      this.local = [...TransportSubKinds];\n    } else {\n      this.local = [];\n    }\n    this.valueChanged();\n  }\n\n  isKindChecked(kind: TransportSubKind): boolean {\n    const kinds = this.local;\n    return kinds.includes(kind);\n  }\n\n  onKindChange(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.local;\n    if (checked) {\n      kinds.push(kind);\n    } else {\n      this.local = kinds.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    this.onChange(this.local);\n    this.onTouched();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n\n\n","<table class=\"t1\" *ngIf=\"!disabled\">\n  <tbody>\n    <tr>\n      <th class=\"name\">\n        <div>  {{ homeCountry.name_from }}:</div>\n      </th>\n      <th class=\"all bg s e\">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allChecked()\" [indeterminate]=\"!allComplete()\" (change)=\"onAllChange($event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <div class=\"l\"><span class=\"ico\" [ngClass]=\"kind.type\"></span><span>{{kind.name}}</span></div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"isKindChecked(kind.kind)\" (change)=\"onKindChange(kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n    </tr>\n  </tbody>\n</table>","import { Component, Input, OnInit, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {  MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country, AreaOfResponsibility } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\nimport { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\nimport { TransportService } from 'src/app/api/services/transport.service';\nimport { Subject, takeUntil, tap } from 'rxjs';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\n\n\n@Component({\n  selector: 'app-responsibility',\n  templateUrl: './responsibility.component.html',\n  styleUrls: ['./responsibility.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityComponent\n    }\n  ]\n})\nexport class ResponsibilityComponent implements ControlValueAccessor, OnInit {\n  @Input() countries: Country[] = [];\n  @Input() homeCountry: Country = unknownCountry;\n  @Input() type: 'import' | 'export' = 'export';\n  @Input() requiredDirection: boolean=false;\n  onChange = (value: any) => { };\n  onTouched = () => { };\n  private _destroy$ = new Subject();\n\n  country?: Country;\n  filteredCountries: Country[] = [];\n  // kinds = transportSubKindTable;\n  kinds:any\n  transportSubKindsLength:number=0;\n  allTransportSubKinds:any;\n  directions: AreaOfResponsibility[]=[];\n\n  snackBarWithShortDuration: MatSnackBarConfig = { duration: 1000 };\n  snackBarWithLongDuration: MatSnackBarConfig = { duration: 3000 };\n\n  constructor(\n    private transportService: TransportService,\n    private snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit(): void {\n    this.getTransportSubKind()\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n\n\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n\n  writeValue(responsibilityParam: AreaOfResponsibility[]): void {\n    console.log('writeValue',responsibilityParam);\n    this.directions.push(...responsibilityParam);\n    if(this.directions.length===0){\n      this.addDirection();\n    }\n\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setClassIcon(kind:any){\n    let classIcon='';\n    if(kind.kind_id===1) classIcon='air';\n    if(kind.kind_id===2) classIcon='road';\n    if(kind.kind_id===3) classIcon='rail';\n    if(kind.kind_id===4) classIcon='sea';\n    return classIcon;\n  }\n\n  // setClassTh(){\n\n  // }\n\n  addDirection(){\n    this.directions.push({\n      direction_departure: undefined,\n      direction_arrival: undefined,\n      direction_items:[]\n    });\n\n    console.log(this.directions);\n    this.valueChanged();\n  }\n\n  removeDirection(countryId: number ): void {\n    this.directions.splice(countryId, 1);\n    this.valueChanged();\n  }\n\n  allChecked(): boolean {\n    const countChecked = this.getCountChecked();\n    // return this.directions.length > 0 && countChecked === this.directions.length * TransportSubKinds.length;\n    return this.directions.length > 0 && countChecked === this.directions.length * this.transportSubKindsLength;\n  }\n\n  allComplete(): boolean {\n    const countChecked = this.getCountChecked();\n    // return countChecked === 0 || countChecked === this.directions.length * TransportSubKinds.length;\n    return countChecked === 0 || countChecked === this.directions.length * this.transportSubKindsLength;\n  }\n\n  private getCountChecked(): number {\n    return this.directions.map((e) => e.direction_items!.length).reduce((sum, count) => sum + count, 0);\n  }\n\n  allChange({ checked }: any): void {\n    // this.directions.forEach(( e) => e.direction_items = checked ? [...TransportSubKinds] : []);\n    this.directions.forEach(( e) => e.direction_items = checked ? this.allTransportSubKinds : []);\n    this.valueChanged();\n  }\n\n  allCheckedForKind(kind: TransportSubKind): boolean {\n    return this.directions.length > 0 && this.getCheckedForKind(kind) === this.directions.length;\n  }\n\n  allCompleteForKind(kind: TransportSubKind): boolean {\n    const checked = this.getCheckedForKind(kind);\n    return checked === 0 || checked === this.directions.length;\n  }\n\n  private getCheckedForKind(kind: TransportSubKind): number {\n    return this.directions.map(( e ) => e.direction_items?.includes(kind)).reduce((sum, checked) => checked ? sum + 1 : sum, 0)\n  }\n\n  allChangeForKind(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    this.directions.forEach((e) => {\n      const kinds = e.direction_items;\n      if (checked) {\n        if (!kinds?.includes(kind)) {\n          kinds?.push(kind);\n        }\n      } else {\n        e.direction_items = kinds?.filter(aKind => aKind !== kind);\n      }\n    });\n    this.valueChanged();\n  }\n\n  allCheckedForCountry(i: number ): boolean {\n    const kinds = this.directions[i].direction_items;\n    // return kinds?.length === TransportSubKinds.length;\n    return this.transportSubKindsLength === kinds?.length  ;\n  }\n\n  allCompleteForCountry(i: number): boolean {\n    const kinds = this.directions[i].direction_items;\n    // return kinds?.length === TransportSubKinds.length || kinds?.length === 0;\n    return kinds?.length === this.transportSubKindsLength || kinds?.length === 0;\n  }\n\n  allChangeForCountry(i: number , { checked }: MatCheckboxChange): void {\n    if (checked) {\n      // this.directions[i].direction_items = [...TransportSubKinds];\n      this.directions[i].direction_items = this.allTransportSubKinds;\n\n\n\n    } else {\n      this.directions[i].direction_items = [];\n    }\n    this.valueChanged();\n  }\n\n  checkedForCountryAndKind(i: number, kind: TransportSubKind): boolean {\n    const kinds = this.directions[i].direction_items;\n    return kinds? kinds.includes(kind) : false;\n  }\n\n  changeForCountryAndKind(i: number, kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.directions[i].direction_items;\n    if (checked) {\n      kinds?.push(kind);\n    } else {\n      this.directions[i].direction_items = kinds?.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    const value = [ ...this.directions ];\n    this.onChange(value);\n    this.onTouched();\n    console.log(123123123);\n\n  }\n\n  //  \n  //  (airline and airline iata)\n  private getTransportSubKind():void{\n    this.transportService.transportSubKind()\n      .pipe(\n        tap((transportCarrier:any) => {\n          console.log(transportCarrier);\n\n          if (!transportCarrier) {\n            throw ({ error: { error_message: `  ` } });\n          }\n        }),\n        takeUntil(this._destroy$),\n      )\n      .subscribe({\n        next: (transportCarrier) => {\n          const sorted = transportCarrier.sort((user1:any, user2:any) => user1['kind_id'] > user2['kind_id'] ? 1 : -1);\n          this.kinds=sorted;\n          this.transportSubKindsLength=this.kinds.length;\n          let test:any=[];\n          sorted.forEach((i:any)=>{\n            test.push(i.id)\n          })\n          this.allTransportSubKinds=test\n          console.log(this.allTransportSubKinds);\n\n        },\n        error: (err: any) => {\n          this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n        }\n      });\n  }\n}\n\n","<table class=\"t1\">\n  <tbody>\n    <tr>\n\n      <th class=\"name pm0\">\n        <div class=\"table-header\">\n          <div class=\"tab-title\"> :</div>\n\n          <label class=\"tab-subtitles\">\n            <div class=\"subtitle\"> </div>\n            <div class=\"subtitle\"> </div>\n\n          </label>\n        </div>\n      </th>\n\n      <th class=\"all bg \">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allChecked()\"\n            [indeterminate]=\"!allComplete()\"\n            (change)=\"allChange($event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n\n      <!-- <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\"> -->\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"setClassIcon(kind)\">\n        <div class=\"l\">\n          <span class=\"ico\" [ngClass]=\"setClassIcon(kind)\"></span>\n          <span>{{kind.name}}</span>\n        </div>\n        <label>\n          <!-- <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allCheckedForKind(kind.kind)\"\n            [indeterminate]=\"!allCompleteForKind(kind.kind)\"\n            (change)=\"allChangeForKind(kind.kind, $event)\">\n          </mat-checkbox> -->\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allCheckedForKind(kind.id)\"\n            [indeterminate]=\"!allCompleteForKind(kind.id)\"\n            (change)=\"allChangeForKind(kind.id, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n\n    </tr>\n\n    <tr class=\"row\" *ngFor=\"let direction of directions; let i = index\">\n      <td>\n\n        <div class=\"dir-block\">\n          <!-- <mat-form-field appearance=\"outline\" class=\"ui-select mw50 \"> -->\n            <ng-select style=\"width: 100%; margin-right: 10px;\" required (change)=\"valueChanged()\" [(ngModel)]=\"direction.direction_departure\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"countries\"></ng-select>\n            <!-- <mat-select [(ngModel)]=\"direction.direction_departure\" class=\"border-none\">\n              <mat-option [value]=\"0\">--   --</mat-option>\n              <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n            </mat-select> -->\n          <!-- </mat-form-field> -->\n           <ng-select style=\"width: 100%; margin-right: 10px;\" required (change)=\"valueChanged()\" [(ngModel)]=\"direction.direction_arrival\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"countries\"></ng-select>\n\n          <!-- <mat-form-field appearance=\"outline\" class=\"ui-select mw50\">\n            <mat-select [(ngModel)]=\"direction.direction_arrival\">\n              <mat-option [value]=\"0\">--   --</mat-option>\n              <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n            </mat-select>\n          </mat-form-field> -->\n\n          <span class=\"btn-del\" (click)=\"removeDirection(i)\"></span>\n        </div>\n\n      </td>\n\n      <td class=\"bg s e\">\n        <label>\n          <mat-checkbox class=\"show-all testclass\"\n            [checked]=\"allCheckedForCountry(i)\"\n            [indeterminate]=\"!allCompleteForCountry(i)\"\n            (change)=\"allChangeForCountry(i, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n\n      <td *ngFor=\"let kind of kinds\" [ngClass]=\"setClassIcon(kind)\">\n        <label>\n          <!-- <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"checkedForCountryAndKind(i, kind.kind)\"\n            (change)=\"changeForCountryAndKind(i, kind.kind, $event)\">\n          </mat-checkbox> -->\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"checkedForCountryAndKind(i, kind.id)\"\n            (change)=\"changeForCountryAndKind(i, kind.id, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n\n    </tr>\n  </tbody>\n</table>\n\n<div class=\"user-item\">\n  <div class=\"form-block-title\">\n    <span class=\"btn v add\" (click)=addDirection()></span>\n  </div>\n</div>\n","import { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-trade-direction',\n  templateUrl: './trade-direction.component.html',\n  styleUrls: ['./trade-direction.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: TradeDirectionComponent\n    }\n  ]\n})\nexport class TradeDirectionComponent implements OnInit, ControlValueAccessor {\n  readonly directions = [\n    { value: 'all', label: '', checked: false },\n    { value: 'import', label: '', checked: false },\n    { value: 'export', label: '', checked: false },\n    { value: 'local', label: '  ', checked: false },\n  ];\n\n  onChangeFn = (value: string[]) => { };\n  onTouchedFn = () => { };\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  writeValue(value: string[]): void {\n    if (!Array.isArray(value)) {\n      return;\n    }\n    this.directions.forEach((direction) => {\n      direction.checked = value.includes(direction.value);\n    });\n    this.directions[0].checked = this.directions.slice(1).every(r => r.checked);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouchedFn = fn;\n  }\n\n  onChange(i: number) {\n    if (i === 0) {\n      const checked = !this.directions[0].checked;\n      this.directions.forEach(r => r.checked = checked);\n    } else {\n      this.directions[i].checked = !this.directions[i].checked;\n      this.directions[0].checked = this.directions.slice(1).every(direction => direction.checked);\n    }\n    const value: string[] = this.directions.slice(1).filter(direction => direction.checked).map(r => r.value);\n    this.onChangeFn(value);\n  }\n\n}\n","<div class=\"form-item-layout padd sep\">\n    :\n  <span class=\"req\"></span>\n  <label *ngFor=\"let direction of directions; let i=index\">\n    <input type=\"checkbox\" [checked]=\"direction.checked\" (change)=\"onChange(i)\">\n    <i></i>\n    <span>{{ direction.label }}</span>\n  </label>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { ContractorComponent } from '../../components/contractor/contractor.component';\nimport { ContractorEditorComponent } from '../../components/contractor-editor/contractor-editor.component';\nimport { ContactEditorComponent } from '../../components/contact-editor/contact-editor.component';\nimport { RatingComponent } from '../../components/rating/rating.component';\nimport { TradeDirectionComponent } from '../../components/trade-direction/trade-direction.component';\nimport { ResponsibilityComponent } from '../../components/responsibility/responsibility.component';\nimport { ResponsibilityMatrixComponent } from '../../components/responsibility-matrix/responsibility-matrix.component';\nimport { ResponsibilityRowComponent } from '../../components/responsibility-row/responsibility-row.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ContractorComponent,\n    title: ''\n  },\n  {\n    path: 'add',\n    component: ContractorEditorComponent,\n    title: ' '\n  },\n  {\n    path: 'edit/:id',\n    component: ContractorEditorComponent,\n    title: ' '\n  },\n];\n\n@NgModule({\n  declarations: [\n    ContractorComponent,\n    ContractorEditorComponent,\n    RatingComponent,\n    ContactEditorComponent,\n    TradeDirectionComponent,\n    ResponsibilityMatrixComponent,\n    ResponsibilityRowComponent,\n    ResponsibilityComponent,\n  ],\n  imports: [\n    RouterModule.forChild(routes),\n    SharedModule,\n  ],\n  // exports: [\n  //   ContractorComponent,\n  // ]\n})\nexport class ContractorModule { }\n"],"names":["TransportSubKinds","Validators","NG_VALUE_ACCESSOR","NG_VALIDATORS","Subject","takeUntil","unknownCountry","responsibilityValidator","i0","elementContainer","elementStart","text","elementEnd","template","ContactEditorComponent_ng_template_75_mat_error_0_Template","property","ctx_r11","contactForm","controls","field_r14","hasError","touched","ContactEditorComponent_ng_template_77_span_0_Template","ctx_r13","isRequiredField","field_r16","ContactEditorComponent","constructor","fb","countries","requiredFields","requiredDirection","homeCountry","showResponsibilities","onChange","value","onTouched","destroy$","group","id","contractor_id","name","position","phone","mobile_phone","email","skype","whatsapp","telegram","wechat","place","direction","writeValue","contact","patchValue","registerOnChange","fn","registerOnTouched","ngOnInit","valueChanges","pipe","subscribe","statusChanges","applyRequiredValidators","ngOnDestroy","next","complete","ngOnChanges","changes","homeCountryId","find","country","firstChange","clearAllRequiredValidators","validate","control","valid","Object","keys","forEach","key","get","hasValidator","required","clearValidators","updateValueAndValidity","console","log","fieldName","setValidators","warn","directionControl","field","directiveInject","i1","FormBuilder","selectors","inputs","features","ProvidersFeature","provide","multi","useExisting","NgOnChangesFeature","decls","vars","consts","template","ContactEditorComponent_Template","rf","ctx","element","ContactEditorComponent_ng_container_7_Template","ContactEditorComponent_ng_container_13_Template","ContactEditorComponent_ng_container_20_Template","ContactEditorComponent_ng_container_26_Template","ContactEditorComponent_ng_container_32_Template","ContactEditorComponent_ng_container_38_Template","ContactEditorComponent_ng_container_45_Template","ContactEditorComponent_ng_container_51_Template","ContactEditorComponent_ng_container_57_Template","ContactEditorComponent_ng_container_63_Template","listener","ContactEditorComponent_Template_div_click_70_listener","ContactEditorComponent_ng_template_75_Template","templateRefExtractor","ContactEditorComponent_ng_template_77_Template","advance","_r12","pureFunction0","_c0","_c1","_c2","_c3","_c4","_c5","_c6","_c7","_c8","_c9","textInterpolate","pureFunction1","_c10","directions","length","i","direction_departure","direction_arrival","incompleteDirection","index","message","direction_items","emptyItems","environment","catchError","debounceTime","distinctUntilChanged","forkJoin","lastValueFrom","tap","throwError","FormControl","ContractorEditorComponent_div_89_ng_container_3_Template","ContractorEditorComponent_div_89_ng_template_6_Template","ContractorEditorComponent_div_89_ng_container_7_Template","_r35","ctx_r20","transportCarrier","contractorForm","carrier_id","_r33","ContractorEditorComponent_div_90_ng_container_3_Template","ContractorEditorComponent_div_90_Template_ng_select_change_5_listener","$event","restoreView","_r45","ctx_r44","nextContext","resetView","onSvhChange","ContractorEditorComponent_div_90_ng_container_6_Template","ctx_r21","filteredDirectionPoint","format_r51","ContractorEditorComponent_div_106_ng_container_2_Template","ContractorEditorComponent_div_106_label_3_Template","ContractorEditorComponent_div_106_ng_container_4_Template","ctx_r27","requestFormats","ContractorEditorComponent_div_165_Template_span_click_3_listener","restoredCtx","_r55","i_r53","ctx_r54","removeContact","textInterpolate1","ctx_r30","requiredContactFields","ContractorEditorComponent_button_178_Template_button_click_0_listener","_r57","ctx_r56","remove","ContractorEditorComponent_ng_template_182_mat_error_0_Template","ctx_r34","field_r58","ContractorEditorComponent_ng_template_184_span_0_Template","ctx_r36","field_r60","ContractorEditorComponent","route","contractorService","countryService","cityService","snackBar","router","location","systemService","transportService","directionService","carrierFilterCtrl","isNavigateAfterSave","contractor","isEditMode","associations","contractorTypes","filteredContractorTypes","filteredTransportCarrier","filteredCountries","cities","filteredCitys","directionPoint","counterpartys","filteredCounterpartys","snackBarWithShortDuration","duration","snackBarWithLongDuration","production","title","taxSystems","filteredTaxs","_destroy$","customSearchFn","term","item","selectedCityId","selectedCountryId","isValid","toLowerCase","includes","city_id","country_id","address","ind","web","rating_nps","disabled","user_rating_nps","contacts","array","association_id","tax_id","undefined","type_id","language_id","svh_id","request_format_id","allow_trade","counterparty_id","currency","test","c","onSearchChange","event","searchText","target","filter","carrier","full_name","displayName","initialization_chooseModeForm","initialization_getDatas","getFormParam","segments","snapshot","url","map","s","path","_this","_asyncToGenerator","getContractorTypes","getTransportCarrier","getCountries","getCities","getDirectionPoint","getCounterparty","getTaxSystems","getAssociations","getRequestFormats","getCurrency","getContractor","error","goBack","back","goToContractor","navigate","removeAt","markAsTouched","addContact","push","save","open","body","updateContractor","createContractor","afterDismissed","res","dismissedByAction","removeContractor","assocAsText","ids","a","join","onContractorTypeChange","e","contact_required","onCountryChange","reset","updateFilteredCityList","updateDirectionPointList","onCityChange","city","patchCountryControl","svh","countryId","cityId","onCounterpartyChange","counterparty","canSave","contractorUpdate","err","error_message","contractorCreate","contractorDelete","systemCounterparty","systemAssociation","contractorType","systemTaxSystem","directionCity","transport_kind_id","contractorRequestFormat","formats","Number","paramMap","contractorInfo","contactsControls","nameForHeader","systemCurrency","currencyList","current","contractorParam","formParams","subscribeDependentFields","required_item","parent","dependent_fields","dependent_field","ActivatedRoute","i2","ContractorService","i3","CountryService","i4","CityService","i5","i6","MatSnackBar","Router","i7","Location","i8","SystemService","TransportService","DirectionService","ContractorEditorComponent_Template","ContractorEditorComponent_Template_app_editor_header_save_0_listener","ContractorEditorComponent_Template_app_editor_header_remove_0_listener","ContractorEditorComponent_Template_form_submit_1_listener","ContractorEditorComponent_ng_container_17_Template","ContractorEditorComponent_Template_ng_select_change_19_listener","ContractorEditorComponent_ng_container_20_Template","ContractorEditorComponent_ng_container_24_Template","ContractorEditorComponent_ng_container_27_Template","ContractorEditorComponent_ng_container_34_Template","ContractorEditorComponent_ng_container_37_Template","ContractorEditorComponent_ng_container_41_Template","ContractorEditorComponent_ng_container_44_Template","ContractorEditorComponent_ng_container_48_Template","ContractorEditorComponent_Template_ng_select_change_50_listener","ContractorEditorComponent_ng_container_51_Template","ContractorEditorComponent_ng_container_55_Template","ContractorEditorComponent_Template_ng_select_change_57_listener","ContractorEditorComponent_ng_container_58_Template","ContractorEditorComponent_ng_container_63_Template","ContractorEditorComponent_ng_container_66_Template","ContractorEditorComponent_ng_container_70_Template","ContractorEditorComponent_ng_container_73_Template","ContractorEditorComponent_ng_container_77_Template","ContractorEditorComponent_ng_container_80_Template","ContractorEditorComponent_ng_container_85_Template","ContractorEditorComponent_Template_ng_select_change_87_listener","ContractorEditorComponent_ng_container_88_Template","ContractorEditorComponent_div_89_Template","ContractorEditorComponent_div_90_Template","ContractorEditorComponent_ng_container_94_Template","ContractorEditorComponent_ng_template_97_Template","ContractorEditorComponent_ng_container_98_Template","ContractorEditorComponent_ng_container_102_Template","ContractorEditorComponent_ng_container_105_Template","ContractorEditorComponent_div_106_Template","ContractorEditorComponent_ng_container_111_Template","ContractorEditorComponent_ng_container_114_Template","ContractorEditorComponent_div_165_Template","ContractorEditorComponent_Template_span_click_169_listener","ContractorEditorComponent_mat_error_171_Template","ContractorEditorComponent_button_178_Template","ContractorEditorComponent_Template_button_click_179_listener","ContractorEditorComponent_ng_template_182_Template","ContractorEditorComponent_ng_template_184_Template","pureFunction2","_c11","_c12","_c13","_c14","_c15","_c16","_c17","_c18","review_positive_count","review_negative_count","review_neutral_count","order_count","trade_success_count","trade_fail_count","errors","dirty","RatingComponent_span_3_Template_span_click_0_listener","_r4","i_r2","ctx_r3","setScore","star_r1","RatingComponent","total","units","score","stars","Array","fill","isDisabled","fillStars","setDisabledState","getAsText","RatingComponent_Template","RatingComponent_span_3_Template","textInterpolate3","transportSubKindTable","ctx_r10","targetCountries","ctx_r12","ResponsibilityMatrixComponent_table_0_div_4_ng_template_3_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_4_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_5_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_6_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_7_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_8_Template","ctx_r1","name_from","ctx_r16","ctx_r17","ctx_r18","ResponsibilityMatrixComponent_table_0_div_5_ng_template_3_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_4_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_5_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_6_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_7_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_8_Template","ctx_r2","name_to","country_r19","ResponsibilityMatrixComponent_table_0_th_16_Template_mat_checkbox_change_6_listener","_r22","kind_r20","$implicit","allChangeForKind","kind","classes","type","ctx_r5","allCheckedForKind","allCompleteForKind","ResponsibilityMatrixComponent_table_0_tr_17_td_10_Template_mat_checkbox_change_2_listener","_r29","kind_r26","country_r23","changeForCountryAndKind","ctx_r25","checkedForCountryAndKind","ResponsibilityMatrixComponent_table_0_tr_17_Template_span_click_5_listener","_r32","ctx_r31","removeCountry","ResponsibilityMatrixComponent_table_0_tr_17_Template_mat_checkbox_change_8_listener","ctx_r33","allChangeForCountry","ResponsibilityMatrixComponent_table_0_tr_17_td_10_Template","ctx_r6","allCheckedForCountry","allCompleteForCountry","kinds","ResponsibilityMatrixComponent_table_0_div_4_Template","ResponsibilityMatrixComponent_table_0_div_5_Template","ResponsibilityMatrixComponent_table_0_Template_input_ngModelChange_6_listener","doFilter","ResponsibilityMatrixComponent_table_0_Template_mat_autocomplete_optionSelected_7_listener","ctx_r37","addCountry","ResponsibilityMatrixComponent_table_0_mat_option_9_Template","ResponsibilityMatrixComponent_table_0_Template_mat_checkbox_change_14_listener","ctx_r38","allChange","ResponsibilityMatrixComponent_table_0_th_16_Template","ResponsibilityMatrixComponent_table_0_tr_17_Template","ctx_r0","_r3","displayFn","allChecked","allComplete","ResponsibilityMatrixComponent","responsibilities","homeCountryChange","responsibilityParam","getCountryById","sort","byName","valueChanged","findIndex","splice","countChecked","getCountChecked","reduce","sum","count","checked","getCheckedForKind","aKind","ResponsibilityMatrixComponent_Template","ResponsibilityMatrixComponent_table_0_Template","b","localeCompare","ResponsibilityRowComponent_table_0_th_12_Template_mat_checkbox_change_6_listener","kind_r2","onKindChange","isKindChecked","ResponsibilityRowComponent_table_0_Template_mat_checkbox_change_10_listener","_r6","onAllChange","ResponsibilityRowComponent_table_0_th_12_Template","ResponsibilityRowComponent","local","ResponsibilityRowComponent_Template","ResponsibilityRowComponent_table_0_Template","ResponsibilityComponent_th_18_Template_mat_checkbox_change_6_listener","setClassIcon","ResponsibilityComponent_tr_19_td_10_Template_mat_checkbox_change_2_listener","_r11","kind_r8","i_r6","ctx_r9","ctx_r7","ResponsibilityComponent_tr_19_Template_ng_select_change_3_listener","_r14","ResponsibilityComponent_tr_19_Template_ng_select_ngModelChange_3_listener","direction_r5","ResponsibilityComponent_tr_19_Template_ng_select_change_4_listener","ResponsibilityComponent_tr_19_Template_ng_select_ngModelChange_4_listener","ResponsibilityComponent_tr_19_Template_span_click_5_listener","removeDirection","ResponsibilityComponent_tr_19_Template_mat_checkbox_change_8_listener","ctx_r19","ResponsibilityComponent_tr_19_td_10_Template","ResponsibilityComponent","transportSubKindsLength","getTransportSubKind","addDirection","classIcon","kind_id","allTransportSubKinds","transportSubKind","sorted","user1","user2","ResponsibilityComponent_Template","ResponsibilityComponent_Template_mat_checkbox_change_16_listener","ResponsibilityComponent_th_18_Template","ResponsibilityComponent_tr_19_Template","ResponsibilityComponent_Template_span_click_22_listener","TradeDirectionComponent_label_4_Template_input_change_1_listener","direction_r1","label","TradeDirectionComponent","onChangeFn","onTouchedFn","isArray","slice","every","r","TradeDirectionComponent_Template","TradeDirectionComponent_label_4_Template","RouterModule","SharedModule","ContractorComponent","routes","component","ContractorModule","forChild","declarations","imports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}