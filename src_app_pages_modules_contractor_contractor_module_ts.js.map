{"version":3,"file":"src_app_pages_modules_contractor_contractor_module_ts.js","mappings":"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","sources":["./src/app/api/custom_models/transport.ts","./src/app/pages/components/contact-editor/contact-editor.component.ts","./src/app/pages/components/contact-editor/contact-editor.component.html","./src/app/pages/components/contractor-editor/contractor-editor.component.ts","./src/app/pages/components/contractor-editor/contractor-editor.component.html","./src/app/pages/components/rating/rating.component.ts","./src/app/pages/components/rating/rating.component.html","./src/app/pages/components/responsibility-matrix/responsibility-matrix.component.ts","./src/app/pages/components/responsibility-matrix/responsibility-matrix.component.html","./src/app/pages/components/responsibility-row/responsibility-row.component.ts","./src/app/pages/components/responsibility-row/responsibility-row.component.html","./src/app/pages/components/responsibility/responsibility.component.ts","./src/app/pages/components/responsibility/responsibility.component.html","./src/app/pages/components/trade-direction/trade-direction.component.ts","./src/app/pages/components/trade-direction/trade-direction.component.html","./src/app/pages/modules/contractor/contractor.module.ts"],"sourcesContent":["export const TransportSubKinds = ['avia_lcl', 'avia_fcl', 'road_lcl', 'road_fcl', 'road_adr', 'road_ref', 'sea_teus', 'sea_lcl', 'sea_sp', 'rw_teus', 'rw_lcl', 'rw_sp'] as const;\nexport type TransportSubKind = typeof TransportSubKinds[number];\n\n// \nexport interface TransportKind {\n  id: number;\n  key:string;\n  name: string;\n}\n// \nexport interface TransportType {\n  id: number;\n  name: string;\n}\n\n//\nexport interface TransportCarrier {\n  id?: number;\n  kind_id?: number;\n  name?: string;\n  iata?: string;\n}\n\nexport interface TransportRoute {\n  id?: number,\n  kind_id?: number,\n  carrier_id?: number,\n  country_id_departure?: number,\n  country_id_arrival?: number,\n  city_id_departure?: number,\n  city_id_arrival?: number,\n  point_id_departure?: number,\n  point_id_arrival?: number,\n  name?: string,\n}\n\n","import { Country } from './../../../api/custom_models/country';\nimport { Contact, responsibilityDirections } from './../../../api/custom_models';\nimport { FormBuilder, FormGroup, Validators, ControlValueAccessor, NG_VALUE_ACCESSOR, AbstractControl, ValidationErrors, Validator, NG_VALIDATORS } from '@angular/forms';\nimport { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { unknownCountry } from 'src/app/shared/constants';\n\n@Component({\n  selector: 'app-contact-editor',\n  templateUrl: './contact-editor.component.html',\n  styleUrls: ['./contact-editor.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ContactEditorComponent\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: ContactEditorComponent,\n      multi: true,\n    },\n  ]\n})\nexport class ContactEditorComponent implements OnInit, OnDestroy, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() countries: Country[] = [];\n  @Input() homeCountryId?: number;\n  readonly unknownCountry = unknownCountry;\n  homeCountry: Country = unknownCountry;\n  contactForm: FormGroup;\n  showResponsibilities = false;\n\n  onChange = (value: Partial<Contact>) => { };\n  onTouched = () => { };\n  destroy$ = new Subject<void>();\n\n  private touched = false;\n\n  constructor(\n    private fb: FormBuilder,\n  ) {\n    this.contactForm = this.fb.group({\n      id: [],\n      contractor_id: [],\n      name: ['', [Validators.required]],\n      // name_f: ['', [Validators.required]],\n      // name_i: ['', [Validators.required]],\n      // name_o: ['', [Validators.required]],\n      position: ['', [Validators.required]],\n      phone: ['', [Validators.required]],\n      mobile_phone: ['', []],\n      email: ['', [Validators.required]],\n      skype: ['', []],\n      whatsapp: ['', []],\n      telegram: ['', []],\n      wechat: ['', []],\n      // responsible_direction: [{}],\n      place: [''],\n      // responsible_param: fb.group({\n      //   import: [{}, []],\n      //   export: [{}, []],\n      //   local: [[], []],\n      //   responsible_param1:[[],[]]\n\n      // }),\n\n      direction:[[],[]]\n\n    });\n  }\n\n  writeValue(contact: Partial<Contact>): void {\n    this.contactForm.patchValue(contact);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  ngOnInit(): void {\n    this.contactForm.valueChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(value => this.onChange(value));\n\n    this.contactForm.statusChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        if (!this.touched) {\n          this.onTouched();\n          this.touched = true;\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['homeCountryId']) {\n      if (typeof this.homeCountryId === 'number') {\n        this.homeCountry = this.countries.find(country => country.id === this.homeCountryId) || unknownCountry;\n      }\n    }\n  }\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    return control.value && this.contactForm.valid ? null : { contact: true };\n  }\n\n\n}\n","<form class=\"form-block\" [formGroup]=\"contactForm\">\n  <input type=\"hidden\" formControlName=\"id\">\n  <input type=\"hidden\" formControlName=\"contractor_id\">\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\" name=\"name\" formControlName=\"name\" placeholder=\"\" required></div>\n    </div>\n    <!--<div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\" name=\"name_f\" formControlName=\"name_f\" placeholder=\"\" required></div>\n    </div>\n     <div class=\"form-item\">\n      <div class=\"form-label\">:</div>\n      <div class=\"form-data\"><input type=\"text\"  name=\"name_i\" formControlName=\"name_i\" placeholder=\"\" required></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\"  name=\"name_o\" formControlName=\"name_o\" placeholder=\"\" required></div>\n    </div> -->\n    <div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\" name=\"position\" formControlName=\"position\" placeholder=\"\" required></div>\n    </div>\n  </div>\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :</div>\n      <div class=\"form-data\"><input type=\"text\" name=\"place\" formControlName=\"place\" placeholder=\"\"></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\"> : <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\" name=\"phone\" formControlName=\"phone\" placeholder=\"\" required appPhoneMask></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :</div>\n      <div class=\"form-data\"><input type=\"text\" name=\"mobile_phone\" formControlName=\"mobile_phone\" placeholder=\"\" appPhoneMask></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\">e-mail: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\" name=\"email\" formControlName=\"email\" placeholder=\"\" required></div>\n    </div>\n  </div>\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\">skype:</div>\n      <div class=\"form-data\"><input type=\"text\" name=\"skype\" formControlName=\"skype\" placeholder=\"\"></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\">telegram:</div>\n      <div class=\"form-data\"><input type=\"text\" name=\"telegram\" formControlName=\"telegram\" placeholder=\"\"></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\">whatsapp:</div>\n      <div class=\"form-data\"><input type=\"text\" name=\"whatsapp\" formControlName=\"whatsapp\" placeholder=\"\"></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\">WeChat:</div>\n      <div class=\"form-data\"><input type=\"text\" name=\"wechat\" formControlName=\"wechat\" placeholder=\"\"></div>\n    </div>\n  </div>\n  <!-- <app-trade-direction formControlName=\"responsible_direction\" (ngModelChange)=\"onResponsibleDirectionChange($event)\"></app-trade-direction> -->\n  <div class=\"options\">\n    <div class=\"lnk\">\n      <div class=\"ttl\"> </div>\n      <div class=\"link show\" [ngClass]=\"showResponsibilities ? 'hide' : 'show'\" (click)=\"showResponsibilities = !showResponsibilities\">\n        <span>{{ showResponsibilities ? '' : '' }}</span>\n      </div>\n    </div>\n\n    <div class=\"lnk-data\" [ngStyle]=\"{'display': showResponsibilities ? 'block' : 'none' }\">\n      <!-- <app-responsibility-matrix formControlName=\"export\" [homeCountry]=\"homeCountry\" [countries]=\"countries\" type=\"export\"></app-responsibility-matrix> -->\n      <!-- <app-responsibility-matrix formControlName=\"import\" [homeCountry]=\"homeCountry\" [countries]=\"countries\" type=\"import\"></app-responsibility-matrix>\n      <app-responsibility-row formControlName=\"local\" [homeCountry]=\"homeCountry\"></app-responsibility-row> -->\n      <app-responsibility formControlName=\"direction\" [countries]=\"countries\"></app-responsibility>\n    </div>\n  </div>\n</form>\n","import { CountryService } from './../../services/country.service';\nimport { environment } from './../../../../environments/environment';\nimport { catchError, debounceTime, distinctUntilChanged, forkJoin, fromEvent, lastValueFrom, merge, Subject, takeUntil, tap, throwError } from 'rxjs';\nimport { City } from './../../../api/custom_models/city';\nimport { Association } from './../../../api/custom_models/association';\nimport { Country } from './../../../api/custom_models/country';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Contractor, ContractorRequestFormat, ContractorType } from './../../../api/custom_models/contractor';\nimport { ContractorService } from './../../../api/services/contractor.service';\nimport { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {  MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { CityService } from '../../services/city.service';\nimport { Location } from '@angular/common';\nimport { TaxSystem } from 'src/app/api/custom_models';\nimport { DirectionService, SystemService, TransportService } from 'src/app/api/services';\nimport { Counterparty } from 'src/app/api/custom_models/counterparty';\n\n\n@Component({\n  selector: 'app-contractor-editor',\n  templateUrl: './contractor-editor.component.html',\n  styleUrls: ['./contractor-editor.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ContractorEditorComponent implements OnInit {\n  carrierFilterCtrl = new FormControl();\n  isNavigateAfterSave:boolean=true;\n\n  contractor: Partial<Contractor> = {};\n  isEditMode: boolean = false;\n  contractorForm: FormGroup;\n  associations: Association[] = [];\n\n  contractorTypes: ContractorType[] = []; filteredContractorTypes: ContractorType[] = [];\n  transportCarrier:any[]=[]; filteredTransportCarrier:any[]=[];\n  countries: Country[] = []; filteredCountries: Country[] = [];\n  cities: any[] = []; filteredCitys: any[] = [];\n\n  counterpartys:Counterparty[]=[]; filteredCounterpartys:Counterparty[]=[];\n  currencyList:any;\n\n  snackBarWithShortDuration: MatSnackBarConfig = { duration: 1000 };\n  snackBarWithLongDuration: MatSnackBarConfig = { duration: 3000 };\n  requestFormats: ContractorRequestFormat[] = [];\n  production = environment.production;\n  title = '';\n  taxSystems: TaxSystem[] = []; filteredTaxs: TaxSystem[] = [];\n  nameForHeader?: string;\n  // counterpartys:Counterparty[]=[];\n  formParams:any;\n\n  private _destroy$ = new Subject();\n\n\n  // change$ = new Subject<string|undefined>();\n\n\n\n  constructor(\n    private route: ActivatedRoute,\n    private contractorService: ContractorService,\n    private countryService: CountryService,\n    private cityService: CityService,\n    private fb: FormBuilder,\n    private snackBar: MatSnackBar,\n    private router: Router,\n    private location: Location,\n    private systemService: SystemService,\n    private transportService: TransportService,\n    private directionService: DirectionService,\n  ) {\n    this.contractorForm = this.fb.group({\n      id: [''],\n      address: [''],\n      name: [''],\n      ind: [''],\n      phone: [''],\n      web: [''],\n      rating_nps: [{ value: 0, disabled: true }],\n      user_rating_nps: [{ value: 0, disabled: true }],\n      contacts: fb.array([], []),\n      association_id: [[]],\n      tax_id: [undefined],\n      // type_id: [undefined, [Validators.required]],\n      type_id: [],\n      language_id: [undefined],\n      country_id: [],\n      city_id: [],\n      request_format_id: [''],\n      // exclude_from_trade: [false]\n      allow_trade:[false],\n      counterparty_id: [],\n      // carrier_name:[,[]],\n      carrier_id:[[],[]],\n      currency:[,[]]\n    });\n\n    // this.change$\n    // .pipe(\n    //   debounceTime(1000),\n    //   distinctUntilChanged(),\n    // )\n    // .subscribe((e) => {\n    //   this.getTransportCarrier(e)\n    // });\n  }\n  test(i:any,c:any){\n    console.log(i,c);\n\n  }\n\n  isRequiredField(field: string): boolean {\n    const control = this.contractorForm.get(field);\n    return control?.hasValidator(Validators.required) ?? false;\n  }\n\n  onSearchChange(event: any) {\n    const searchText = event.target.value.toLowerCase();\n    this.filteredTransportCarrier = this.transportCarrier.filter(carrier =>\n      carrier.full_name.toLowerCase().includes(searchText)\n    );\n  }\n  displayName(item: any): string {\n    return item ? item.full_name : '';\n  }\n\n  ngOnInit(): void {\n    this.initialization_chooseModeForm();\n    this.initialization_getDatas();\n    // this.initialization_subscribeForm();\n    this.getFormParam();\n\n\n  }\n\n  initialization_chooseModeForm(){\n    const segments = this.route.snapshot.url.map(s => s.path);\n    this.isEditMode = segments[0] !== 'add';\n    this.title = this.isEditMode ? '  ' : ' ';\n  }\n  async initialization_getDatas() {\n    try {\n      await lastValueFrom(forkJoin([\n        this.getContractorTypes(),\n        this.getTransportCarrier(),\n        this.getCountries(),\n        this.getCities(),\n        this.getCounterparty(),\n        this.getTaxSystems(),\n        this.getAssociations(),\n        this.getRequestFormats(),\n        this.getCurrency(),\n      ]));\n      //       \n      if (this.isEditMode) {\n        await lastValueFrom(this.getContractor()); //  Observable  Promise\n      }\n    } catch (error) {\n      console.error('   :', error);\n    }\n\n  }\n\n\n  displayFn_TaxId(id: any): string {\n    if (!this.taxSystems) {\n      return '';\n    }\n    const obj = this.taxSystems.find(obj => obj.id === id);\n    return obj?.name || '';\n  }\n  displayFn_CounterpartyId(id: any): string {\n    if (!this.counterpartys) {\n      return '';\n    }\n    const obj = this.counterpartys.find(obj => obj.id === id);\n    return obj?.name || '';\n  }\n  displayFn_CityId(id: any): string {\n    if (!this.cities) {\n      return '';\n    }\n    const obj = this.cities.find(obj => obj.id === id);\n    return obj?.name || '';\n  }\n  displayFn_CountryId(id: any): string {\n    if (!this.countries) {\n      return '';\n    }\n    const obj = this.countries.find(obj => obj.id === id);\n    return obj?.name || '';\n  }\n  displayFn_CarrierId(id: any): string {\n    if (!this.transportCarrier) {\n      return '';\n    }\n    const obj = this.transportCarrier.find(obj => obj.id === id);\n    return obj?.full_name || '';\n  }\n  displayFn_TypeId(id: any): string {\n    if (!this.contractorTypes) {\n      return '';\n    }\n    const obj = this.contractorTypes.find(obj => obj.id === id);\n    return obj?.name || '';\n  }\n\n\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n\n  // onChange(query: string|undefined) {\n  //   this.change$.next(query);\n  // }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  goToContractor(id: number): void {\n    this.router.navigate(['..', id]);\n  }\n\n  removeContact(i: number): void {\n    this.contacts.removeAt(i);\n    this.contractorForm.markAsTouched();\n  }\n\n  addContact() {\n    this.contacts.push(this.fb.control({\n      contractor_id: this.contractor.id\n    }));\n    this.contractorForm.markAsTouched();\n  }\n\n  get contacts() {\n    return <FormArray>this.contractorForm.get('contacts');\n  }\n\n  save(): void {\n    console.log(this.contractorForm.value);\n\n    if (!this.contractorForm.valid) {\n      this.snackBar.open('    ', undefined, this.snackBarWithLongDuration);\n      return;\n    }\n    const body = this.contractorForm.value;\n    if (typeof this.contractor.id === 'number') {\n      this.updateContractor(body);\n    } else {\n      this.createContractor(body);\n    }\n  }\n\n  remove(): void {\n    this.snackBar.open(\" ...\", \"\", this.snackBarWithLongDuration)\n      .afterDismissed().subscribe(res => {\n        if (!res.dismissedByAction) {\n          this.removeContractor();\n        }\n      });\n  }\n\n  get assocAsText(): string {\n    const ids: string[] = this.contractorForm.controls['association_id'].value || [];\n    return ids.map(id => this.associations.find(a => a.id === id)?.name).join(', ');\n  }\n\n  onContractorTypeChange(e:any){\n    console.log(e);\n\n    if(e?.contact_required){\n      this.contractorForm.get('type_id')!.setValidators([Validators.required]);\n    } else {\n      this.contractorForm.get('type_id')!.setValidators([]);\n      // this.contractorForm.get('type_id')!.clearValidators;\n    }\n  }\n\n  onCountryChange(country:any) {\n    if(country)console.log('onCountryChange',country);\n    this.contractorForm.controls['city_id'].reset();\n    this.updateFilteredCityList();\n  }\n  onCityChange(city:any) {\n    if(city?.country_id!=this.contractorForm.value.country_id){\n      this.patchCountryControl(city?.country_id)\n    }\n  }\n\n  updateFilteredCityList(){\n    const countryId = this.contractorForm.value.country_id;\n    this.filteredCitys = countryId\n    ? this.cities.filter(item => item.country_id == countryId)\n    : this.cities\n  }\n\n  patchCountryControl(country_id:any){\n    this.contractorForm.patchValue({\n      country_id: country_id\n    });\n  }\n\n  canSave(): boolean {\n    return this.contractorForm.valid;\n  }\n\n  private updateContractor(body: any) {\n    console.log(body);\n\n    this.contractorService.contractorUpdate({ body }).pipe().subscribe({\n      next: () => {\n        if(this.isNavigateAfterSave){\n          this.goBack();\n        }\n        this.snackBar.open(` `, undefined, this.snackBarWithShortDuration);\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n  private createContractor(body: any) {\n    console.log(body);\n    this.contractorService.contractorCreate({ body }).pipe().subscribe({\n      next: ({ id }) => {\n        if(this.isNavigateAfterSave){\n          this.goBack();\n        } else {\n          this.goToContractor(id);\n        }\n        this.snackBar.open(` `, undefined, this.snackBarWithShortDuration)\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n  private removeContractor() {\n    const body = { id: this.contractor.id! };\n    this.contractorService.contractorDelete({ body }).subscribe({\n      next: () => {\n        this.snackBar.open(' ', undefined, this.snackBarWithShortDuration);\n        this.goBack();\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n\n  // onTransportCarrierChange(i:any){\n  //   this.contractorForm.patchValue({\n  //     carrier_id:i.id\n  //   })\n  // }\n\n  private getTransportCarrier() {\n    return this.transportService.transportCarrier()\n      .pipe(\n        tap((transportCarrier) =>{\n          this.transportCarrier = transportCarrier;\n          this.filteredTransportCarrier = transportCarrier;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getCounterparty() {\n    return this.systemService.systemCounterparty()\n      .pipe(\n        tap((counterpartys) =>{\n          this.filteredCounterpartys = counterpartys as Counterparty[];\n          this.counterpartys = counterpartys as Counterparty[];\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getAssociations() {\n    return this.systemService.systemAssociation()\n      .pipe(\n        tap((associations) =>{\n          this.associations = associations as Association[]\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  private getContractorTypes() {\n    return  this.contractorService.contractorType()\n      .pipe(\n        tap((contractorTypes) =>{\n          this.contractorTypes = contractorTypes as unknown as ContractorType[];\n          this.filteredContractorTypes = contractorTypes as unknown as ContractorType[];\n        } ),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getTaxSystems() {\n    return  this.systemService.systemTaxSystem()\n      .pipe(\n        tap((taxSystems) =>{\n          this.filteredTaxs = taxSystems ? taxSystems as TaxSystem[] : [];\n          this.taxSystems = taxSystems ? taxSystems as TaxSystem[] : [];\n        } ),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  private getCountries() {\n    return this.countryService.getCountries()\n      .pipe(\n        tap((countries) =>{\n          this.filteredCountries = countries;\n          this.countries = countries;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getCities() {\n    return this.directionService.directionCity()\n      .pipe(\n        tap((cities) =>{\n          this.cities = cities;\n          this.filteredCitys = cities;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getRequestFormats() {\n    return this.contractorService.contractorRequestFormat()\n      .pipe(\n        tap((formats) =>{\n          this.requestFormats = formats as unknown as ContractorRequestFormat[];\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  // private getCities(countryId: number) {\n  //   this.cityService.getCities(countryId)\n  //     .subscribe(cities => {\n  //       this.filteredCitys = cities;\n  //       this.cities = cities;\n  //     } );\n  // }\n\n  private getContractor() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    return this.contractorService.contractorInfo({ id }).pipe(\n      tap((contractor) => {\n        console.log(' ', contractor);\n        if (!contractor) {\n          throw { error: { error_message: `  ` } };\n        }\n      }),\n      tap((contractor) => {\n        this.contractor = contractor as unknown as Contractor;\n        const contactsControls = this.contacts;\n\n        //  contractor_id   \n        this.contractor.contacts?.forEach((contact) => {\n          contact.contractor_id = contractor.id;\n          contactsControls.push(this.fb.control(contact));\n        });\n\n        //    \n        this.contractorForm.patchValue(this.contractor);\n\n        //   country_id,  \n        // if (typeof contractor.country_id === 'number') {\n        //   this.getCities(contractor.country_id);\n        // }\n        if(contractor.country_id)this.updateFilteredCityList();\n\n\n        //    \n        this.nameForHeader = contractor.name;\n      }),\n      catchError((err) => {\n        this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n        this.goBack();\n        return throwError(() => err); //   \n      })\n    );\n  }\n\n  getCurrency(){\n    return this.systemService.systemCurrency()\n      .pipe(\n        tap((currencyList) =>{\n          this.currencyList=currencyList.current;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  getFormParam(body?:any){\n    this.contractorService.contractorParam({body:body})\n      .pipe(\n        tap((formParams) =>{\n          this.formParams=formParams;\n          console.log('getFormParam body',body);\n          console.log('getFormParam formParams',formParams.required);\n\n        }),\n        takeUntil(this._destroy$)\n      ).subscribe({\n      next: () => {\n        this.applyRequiredValidators();\n        if(!body)this.subscribeDependentFields();\n\n\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)});\n  }\n  applyRequiredValidators() {\n    this.formParams.required?.forEach((required_item:any) => {\n      const control = this.contractorForm.get(required_item.field);\n      if (control) {\n        control.setValidators(Validators.required);\n        control.updateValueAndValidity();\n      }\n    });\n  }\n\n  subscribeDependentFields(){\n    this.formParams.dependent_fields?.forEach((dependent_field:string) => {\n      this.contractorForm.get(dependent_field)?.valueChanges\n      .pipe(\n        debounceTime(1500),\n        distinctUntilChanged(),\n        takeUntil(this._destroy$),)\n      .subscribe((value: any) => {\n        const body = { dependent_fields: this.formParams.dependent_fields?.map((dependent_field:any) => ({field: dependent_field, value: this.contractorForm.value[dependent_field]}))}\n        // const body = this.formParams.dependent_fields?.map((dependent_field:any) => ({dependent_fields: [{field: dependent_field, value: this.contractorForm.value[dependent_field]}]}));\n        this.getFormParam(body);\n\n\n      })\n    })\n  }\n\n\n  // private getContractor() {\n  //   const id = Number(this.route.snapshot.paramMap.get('id'));\n  //   return this.contractorService.contractorInfo({ id })\n  //     .pipe(\n  //       tap(contractor => {\n  //       console.log(' ',contractor);\n  //       if (!contractor) {\n  //         throw ({ error: { error_message: `  ` } });\n  //       }\n  //     }))\n  //     .subscribe({\n  //       next: contractor => {\n  //         this.contractor = contractor as unknown as Contractor;\n  //         const contactsControls = this.contacts;\n  //         this.contractor.contacts?.forEach(contact => contact.contractor_id = contractor.id);\n  //         this.contractor.contacts?.forEach(contact => contactsControls.push(this.fb.control(contact)));\n  //         this.contractorForm.patchValue(this.contractor);\n  //         if (typeof contractor.country_id === 'number') {\n  //           this.getCities(contractor.country_id);\n  //         }\n  //         this.nameForHeader = contractor.name;\n  //       },\n  //       error: (err: any) => {\n  //         this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n  //         this.goBack();\n  //       }\n  //     });\n  // }\n\n\n\n\n\n}\n\n// initialization_subscribeForm(){\n  //   // this.subscribeControl_ContractorType();\n  //   this.subscribeControl_CarrierId();\n  //   this.subscribeControl_CountryId();\n  //   this.subscribeControl_CityId();\n  //   this.subscribeControl_CounterpartyId();\n  //   this.subscribeControl_TaxId();\n  // }\n\n  // subscribeControl_ContractorType(){\n  //   this.contractorForm.get('type_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredContractorTypes = this.contractorTypes.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredContractorTypes.length==1){\n  //         if(this.filteredContractorTypes[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             type_id:this.filteredContractorTypes[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CarrierId(){\n  //   this.contractorForm.get('carrier_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredTransportCarrier = this.transportCarrier.filter((item: any) => {\n  //         return item.full_name && item.full_name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredTransportCarrier.length==1){\n  //         if(this.filteredTransportCarrier[0].full_name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             carrier_id: this.filteredTransportCarrier[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CountryId(){\n  //   this.contractorForm.get('country_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCountries = this.countries.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCountries.length==1){\n  //         if(this.filteredCountries[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             country_id: this.filteredCountries[0].id,\n  //           });\n  //           this.onCountryChange(this.filteredCountries[0].id);\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CityId(){\n  //   this.contractorForm.get('city_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCitys = this.cities.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCitys.length==1){\n  //         if(this.filteredCitys[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             city_id: this.filteredCitys[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CounterpartyId(){\n  //   this.contractorForm.get('counterparty_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCounterpartys = this.counterpartys.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCounterpartys.length==1){\n  //         if(this.filteredCounterpartys[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             counterparty_id: this.filteredCounterpartys[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_TaxId(){\n  //   this.contractorForm.get('tax_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredTaxs = this.taxSystems.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredTaxs.length==1){\n  //         if(this.filteredTaxs[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             tax_id: this.filteredTaxs[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n","<app-editor-header [title]=\"title\" (save)=\"save()\" (remove)=\"remove()\" [isEditMode]=\"isEditMode\"  [name]=\"nameForHeader\" [backLink]=\"'contractor'\"></app-editor-header>\n\n<form class=\"edit-form\" [formGroup]=\"contractorForm\">\n  <div class=\"form-block\">\n    <div class=\"form-row\">\n      <div class=\"form-item-layout\">\n\n        <div class=\"form-data form-item torg\">\n          <label>\n            <input type=\"checkbox\" formControlName=\"allow_trade\">\n            <i> </i>\n            <span> </span>\n          </label>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\"></div>\n          <div class=\"form-data\">\n          </div>\n        </div>\n\n\n\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'type_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"type_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"contractorTypes\" (change)=\"onContractorTypeChange($event)\"></ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'type_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\"> : <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n            <input matInput type=\"text\" formControlName=\"type_id\" [matAutocomplete]=\"type_id\">\n            <mat-autocomplete #type_id=\"matAutocomplete\" [displayWith]=\"displayFn_TypeId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredContractorTypes\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n            </mat-autocomplete>\n            <mat-error *ngIf=\"contractorForm.controls['type_id'].hasError('required')\">\n                \n            </mat-error>\n          </div>\n        </div> -->\n\n        <div class=\"form-item\">\n           <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'language_id'}\"></ng-container>\n          </div>\n           <div class=\"form-data\">\n            <ng-select formControlName=\"language_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"[{name:'',id:'en'},{name:'',id:'ru'}]\"></ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'language_id'}\"></ng-container>\n            <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"language_id\" panelClass=\"panel-class-name\">\n                <mat-option value=\"en\"></mat-option>\n                <mat-option value=\"ru\"></mat-option>\n              </mat-select>\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'language_id'}\"></ng-container>\n            </mat-form-field> -->\n           </div>\n         </div>\n\n\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: </div>\n          <div class=\"form-data\">\n            <input appearance=\"outline\" class=\"ui-select\"\n              type=\"text\"\n              formControlName=\"carrier_name\"\n              [matAutocomplete]=\"auto\"\n              (ngModelChange)=\"onChange($event)\"\n              placeholder=\"\" >\n            <mat-autocomplete  #auto=\"matAutocomplete\">\n              <mat-option class=\"\" *ngFor=\"let customer of transportCarrier;\" [value]=\"customer.name\" (click)=\"onTransportCarrierChange(customer)\">{{ customer.name }}</mat-option>\n            </mat-autocomplete>\n          </div>\n        </div> -->\n\n      </div>\n\n    </div>\n    <div class=\"form-row\">\n      <input type=\"hidden\" formControlName=\"id\">\n\n      <div class=\"form-item-layout\">\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               :\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'name'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <input type=\"text\" name=\"name\" formControlName=\"name\" placeholder=\"\">\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'name'}\"></ng-container>\n            </div>\n          </div>\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               (, Rec   .):\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'ind'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <input type=\"text\" name=\"ind\" formControlName=\"ind\" placeholder=\"\">\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'ind'}\"></ng-container>\n            </div>\n          </div>\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               :\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'country_id'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <ng-select formControlName=\"country_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"countries\" (change)=\"onCountryChange($event)\"></ng-select>\n              <!-- <input matInput type=\"text\" formControlName=\"country_id\" [matAutocomplete]=\"country_id\" >\n              <mat-autocomplete #country_id=\"matAutocomplete\" [displayWith]=\"displayFn_CountryId.bind(this)\">\n                <mat-option *ngFor=\"let option of filteredCountries\" [value]=\"option.id\" (click)=\"onCountryChange(option.id)\">\n                  {{option.name}}\n                </mat-option>\n                <mat-option *ngIf=\"filteredCountries.length==0\" disabled > </mat-option>\n              </mat-autocomplete> -->\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'country_id'}\"></ng-container>\n            </div>\n          </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n             <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"country_id\" (valueChange)=\"onCountryChange($event)\">\n                <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['country_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n         </div> -->\n\n        <div class=\"form-item\">\n        <div class=\"form-label\">\n          :\n          <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'city_id'}\"></ng-container>\n        </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"city_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"filteredCitys\" (change)=\"onCityChange($event)\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"city_id\" [matAutocomplete]=\"city_id\" >\n            <mat-autocomplete #city_id=\"matAutocomplete\" [displayWith]=\"displayFn_CityId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredCitys\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredCitys.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'city_id'}\"></ng-container>\n          </div>\n        </div>\n\n         <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: <span class=\"req\"></span></div>\n           <mat-form-field appearance=\"outline\" class=\"ui-select\">\n             <mat-select formControlName=\"city_id\">\n               <mat-option *ngFor=\"let city of cities;\" [value]=\"city.id\">{{ city.name }}</mat-option>\n             </mat-select>\n             <mat-error *ngIf=\"contractorForm.controls['city_id'].hasError('required')\">\n                 \n             </mat-error>\n           </mat-form-field>\n         </div> -->\n\n      </div>\n\n\n\n      <div class=\"form-item-layout\">\n        <div class=\"form-item w50\">\n          <div class=\"form-label\">\n            :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'address'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"address\" formControlName=\"address\" placeholder=\"\">\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'address'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'phone'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"phone\" formControlName=\"phone\" placeholder=\"\" appPhoneMask>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'phone'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'web'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"web\" formControlName=\"web\" placeholder=\"\">\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'web'}\"></ng-container>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"form-item-layout\">\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'counterparty_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"counterparty_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"counterpartys\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"counterparty_id\" [matAutocomplete]=\"counterparty_id\" >\n            <mat-autocomplete #counterparty_id=\"matAutocomplete\" [displayWith]=\"displayFn_CounterpartyId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredCounterpartys\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredCounterpartys.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'counterparty_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n            <input matInput type=\"text\" formControlName=\"carrier_id\" [matAutocomplete]=\"carrier_id\">\n            <mat-autocomplete #carrier_id=\"matAutocomplete\" [displayWith]=\"displayFn_CarrierId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredTransportCarrier\" [value]=\"option.id\">\n                {{ option.full_name }}\n              </mat-option>\n            </mat-autocomplete>\n          </div>\n        </div> -->\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n            :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'carrier_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"carrier_id\" class=\"custom\" bindLabel=\"full_name\" bindValue=\"id\"\n              [closeOnSelect]=\"false\"\n              [multiple]=\"true\"\n              [items]=\"transportCarrier\"\n              [placeholder]=\"contractorForm.value.carrier_id?.length>0\n                ? ' .: ' + contractorForm.value.carrier_id.length\n                : '' \"\n            >\n              <ng-template ng-multi-label-tmp let-items=\"items\" let-clear=\"clear\">\n\n              </ng-template>\n            </ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'carrier_id'}\"></ng-container>\n          </div>\n        </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n            <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"type_id\">\n                <mat-option *ngFor=\"let type of contractorTypes; let i=index\" [value]=\"i+1\">{{ type.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['type_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n         </div> -->\n\n\n\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\"> : <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n           <mat-form-field appearance=\"outline\" class=\"ui-select\">\n             <mat-select formControlName=\"counterparty_id\">\n               <mat-option *ngFor=\"let type of counterpartys;\"  [value]=\"type.id\">{{ type.name }}</mat-option>\n             </mat-select>\n             <mat-error *ngIf=\"contractorForm.controls['counterparty_id'].hasError('required')\">\n\n                 \n             </mat-error>\n           </mat-form-field>\n          </div>\n        </div> -->\n\n         <div class=\"form-item\">\n           <div class=\"form-label\">\n              :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'association_id'}\"></ng-container>\n          </div>\n           <div class=\"form-data\">\n            <ng-select formControlName=\"association_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"associations\" [multiple]=\"true\"\n              [placeholder]=\"contractorForm.value.association_id?.length>0\n                ? ' .: ' + contractorForm.value.association_id.length\n                : '' \"\n                [closeOnSelect]=\"false\"\n              >\n              <ng-template ng-multi-label-tmp let-items=\"items\" let-clear=\"clear\"></ng-template>\n            </ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'association_id'}\"></ng-container>\n            <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"association_id\" multiple>\n                <mat-select-trigger>\n                  {{ assocAsText }}\n                </mat-select-trigger>\n                <mat-option *ngFor=\"let assoc of associations\" [value]=\"assoc.id\">{{assoc.name}}</mat-option>\n              </mat-select>\n\n            </mat-form-field> -->\n           </div>\n         </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'tax_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"tax_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"taxSystems\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"tax_id\" [matAutocomplete]=\"tax_id\" >\n            <mat-autocomplete #tax_id=\"matAutocomplete\" [displayWith]=\"displayFn_TaxId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredTaxs\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredTaxs.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'tax_id'}\"></ng-container>\n          </div>\n        </div>\n      </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n            <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"tax_id\">\n                <mat-option *ngFor=\"let taxSystem of taxSystems\" [value]=\"taxSystem.id\">{{ taxSystem.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['tax_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n        </div>\n       </div> -->\n\n    </div>\n\n    <div class=\"form-row sep\" *ngIf=\"contractorForm.value.allow_trade\">\n        :\n      <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'request_format_id'}\"></ng-container>\n      <label *ngFor=\"let format of requestFormats\">\n        <input type=\"radio\" formControlName=\"request_format_id\" [value]=\"format.id\">\n        <i></i>\n        <span>{{ format.name }}</span>\n      </label>\n      <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'request_format_id'}\"></ng-container>\n    </div>\n\n    <div class=\"form-row\" >\n      <div class=\"form-item\" style=\"width: 100px;\">\n        <div class=\"form-label\">\n            \n          <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'currency'}\"></ng-container>\n        </div>\n        <div class=\"form-data\">\n        <ng-select formControlName=\"currency\" class=\"custom\" bindLabel=\"code\" bindValue=\"id\" [items]=\"currencyList\"></ng-select>\n        <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'currency'}\"></ng-container>\n        <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n          <mat-select formControlName=\"currency\">\n            <mat-option *ngFor=\"let currency of currencyList\" [value]=\"currency.id\">{{currency.code}}</mat-option>\n          </mat-select>\n        </mat-form-field> -->\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"form-block-title\"></div>\n  <div class=\"form-block\">\n\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <app-rating name=\"rating_nps\" formControlName=\"rating_nps\"></app-rating>\n      <div class=\"link\">\n        <a href=\"#\"></a>\n      </div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <app-rating name=\"user_rating_nps\" formControlName=\"user_rating_nps\"></app-rating>\n      <div class=\"link\">\n        <a href=\"#\"></a>\n      </div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">    :</div>\n      <div class=\"data flags\">\n        <span class=\"plus\">{{ contractor.review_positive_count }}</span>\n        <span class=\"minus\">{{ contractor.review_negative_count }}</span>\n        <span class=\"neutral\">{{ contractor.review_neutral_count }}</span>\n      </div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <div class=\"data\">{{contractor.order_count}}</div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\"> %  :</div>\n      <div class=\"data flags\">\n        <span class=\"win\">{{contractor.trade_success_count}}</span>\n        <span class=\"fail\">{{contractor.trade_fail_count}}</span>\n      </div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n  </div>\n\n\n  <div formArrayName=\"contacts\">\n  <div class=\"user-item\" *ngFor=\"let contact of contacts.controls; let i=index\">\n    <div class=\"form-block-title\">  {{i + 1}}<span class=\"btn v del\" (click)=\"removeContact(i)\"></span></div>\n    <app-contact-editor [homeCountryId]=\"contractorForm.controls['country_id'].value\" [countries]=\"countries\" [formControlName]=\"i\"></app-contact-editor>\n  </div>\n\n  <div class=\"user-item\">\n    <div class=\"form-block-title\">  {{contacts.length + 1}}<span class=\"btn v add\" (click)=addContact()></span></div>\n  </div>\n  <mat-error *ngIf=\"contacts.errors?.['required'] && (contractorForm.touched || contractorForm.dirty)\">\n         .\n  </mat-error>\n  </div>\n\n  <div class=\"hdr ftr\">\n    <div class=\"title\">\n    </div>\n    <div class=\"fn\">\n      <button class=\"btn v save\" (click)=\"save()\"><span></span></button>\n      <button class=\"btn v del\" *ngIf=\"isEditMode\" (click)=\"remove()\"><span></span></button>\n      <button class=\"btn v cancel\" (click)=\"goBack()\"><span></span></button>\n    </div>\n  </div>\n\n</form>\n\n\n<ng-template #inputError let-field=\"field\">\n  <mat-error *ngIf=\"contractorForm.controls[field].hasError('required') && contractorForm.controls[field].touched\">\n      \n  </mat-error>\n</ng-template>\n\n<ng-template #inputLabelReq let-field=\"field\">\n  <span *ngIf=\"isRequiredField(field)\" class=\"req\"></span>\n</ng-template>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'app-rating',\n  templateUrl: './rating.component.html',\n  styleUrls: ['./rating.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: RatingComponent\n    }\n  ]\n})\nexport class RatingComponent implements OnInit, ControlValueAccessor {\n  @Input() total: number = 10;\n  @Input() units: string = 'NPS';\n\n  score: number = 0;\n  stars = new Array<boolean>(this.total).fill(false);\n  isDisabled = false;\n  private touched = false;\n\n  onChange = (value: number) => {};\n  onTouched = () => {};\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  writeValue(score: number): void {\n    this.score = +score;\n    this.fillStars();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n  \n  setDisabledState(isDisabled: boolean): void {\n    this.isDisabled = isDisabled; \n  }\n\n  getAsText(): string {\n    return `${this.score}/${this.total} ${this.units}`;\n  }\n  \n  setScore(score: number): void {\n    if (this.isDisabled) {\n      return;\n    }\n    this.score = score;\n    this.fillStars();\n    this.onChange(this.score);\n    if (!this.touched) {\n      this.touched = true;\n      this.onTouched();\n    }\n  }\n  \n  fillStars(): void {\n    for (let i = 0; i < this.total; i++) {\n      this.stars[i] = i < this.score;\n    }\n  }\n\n}\n","<div class=\"data\">\n  {{score}}/{{total}} {{units}}\n  <span class=\"stars\" [ngClass]=\"{'disabled': isDisabled}\">\n    <span *ngFor=\"let star of stars; let i=index\" [ngClass]=\"{'sel': star}\" (click)=\"setScore(i + 1)\"></span>\n  </span>\n</div>","import { Component, Input, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country, Responsibilities } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\nimport { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\n\n@Component({\n  selector: 'app-responsibility-matrix',\n  templateUrl: './responsibility-matrix.component.html',\n  styleUrls: ['./responsibility-matrix.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityMatrixComponent\n    }\n  ]\n})\nexport class ResponsibilityMatrixComponent implements ControlValueAccessor {\n  @Input() countries: Country[] = [];\n  @Input() homeCountry: Country = unknownCountry;\n  @Input() type: 'import' | 'export' = 'export';\n  onChange = (value: any) => { };\n  onTouched = () => { };\n\n  // New country\n  country?: Country;\n  filteredCountries: Country[] = [];\n\n  kinds = transportSubKindTable;\n  responsibilities: Responsibilities = {};\n\n  targetCountries: Country[] = [];\n  disabled: boolean = false;\n  constructor() { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const homeCountryChange = changes['homeCountry'];\n    if (homeCountryChange) {\n      if (this.homeCountry) {\n        const homeCountryId = this.homeCountry.id;\n        delete this.responsibilities[homeCountryId];\n        this.targetCountries = this.targetCountries.filter(({ id }) => id !== homeCountryId);\n      }\n    }\n  }\n\n  writeValue(responsibilityParam: Responsibilities): void {\n    this.responsibilities = responsibilityParam || {};\n    this.targetCountries = Object.keys(this.responsibilities)\n      .filter(countryId => Number(countryId) !== this.homeCountry.id)\n      .map(countryId => this.getCountryById(countryId)!)\n      .sort(byName);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  doFilter(country: Country | string): void {\n    this.filteredCountries = this.countries.filter(c => {\n      const value = typeof country === 'string' ? country : country.name!;\n      return c.name!.toLowerCase().includes(value.toLowerCase()) && !(c.id in this.responsibilities && c.id === this.homeCountry.id);\n    });\n  }\n\n  displayFn(country: Country): string {\n    return country && country.name ? country.name : '';\n  }\n\n  addCountry(): void {\n    this.targetCountries.push(this.country!);\n    console.log(this.targetCountries);\n\n    this.targetCountries.sort(byName);\n    this.responsibilities[this.country!.id] = [];\n    this.country = undefined;\n    this.valueChanged();\n  }\n\n  getCountryById(id: string | number): Country | undefined {\n    return this.countries.find(country => country.id === Number(id));\n  }\n\n  removeCountry(countryId: number | string): void {\n    const index = this.targetCountries.findIndex(({ id }) => id === Number(countryId))\n    if (index >= 0) {\n      this.targetCountries.splice(index, 1);\n    }\n    delete this.responsibilities[countryId];\n    this.valueChanged();\n  }\n\n\n  allChecked(): boolean {\n    const countChecked = this.getCountChecked();\n    return this.targetCountries.length > 0 && countChecked === this.targetCountries.length * TransportSubKinds.length;\n  }\n\n  allComplete(): boolean {\n    const countChecked = this.getCountChecked();\n    return countChecked === 0 || countChecked === this.targetCountries.length * TransportSubKinds.length;\n  }\n\n  private getCountChecked(): number {\n    return this.targetCountries.map(({ id }) => this.responsibilities[id].length).reduce((sum, count) => sum + count, 0);\n  }\n\n  allChange({ checked }: MatCheckboxChange): void {\n    this.targetCountries.forEach(({ id }) => this.responsibilities[id] = checked ? [...TransportSubKinds] : []);\n    this.valueChanged();\n  }\n\n  allCheckedForKind(kind: TransportSubKind): boolean {\n    return this.targetCountries.length > 0 && this.getCheckedForKind(kind) === this.targetCountries.length;\n  }\n\n  allCompleteForKind(kind: TransportSubKind): boolean {\n    const checked = this.getCheckedForKind(kind);\n    return checked === 0 || checked === this.targetCountries.length;\n  }\n\n  private getCheckedForKind(kind: TransportSubKind): number {\n    return this.targetCountries.map(({ id }) => this.responsibilities[id].includes(kind)).reduce((sum, checked) => checked ? sum + 1 : sum, 0)\n  }\n\n  allChangeForKind(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    this.targetCountries.forEach(({ id }) => {\n      const kinds = this.responsibilities[id];\n      if (checked) {\n        if (!kinds.includes(kind)) {\n          kinds.push(kind);\n        }\n      } else {\n        this.responsibilities[id] = kinds.filter(aKind => aKind !== kind);\n      }\n    });\n    this.valueChanged();\n  }\n\n  allCheckedForCountry(countryId: number | string): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.length === TransportSubKinds.length;\n  }\n\n  allCompleteForCountry(countryId: number | string): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.length === TransportSubKinds.length || kinds.length === 0;\n  }\n\n  allChangeForCountry(countryId: number | string, { checked }: MatCheckboxChange): void {\n    if (checked) {\n      this.responsibilities[countryId] = [...TransportSubKinds];\n    } else {\n      this.responsibilities[countryId] = [];\n    }\n    this.valueChanged();\n  }\n\n  checkedForCountryAndKind(countryId: number | string, kind: TransportSubKind): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.includes(kind);\n  }\n\n  changeForCountryAndKind(countryId: number | string, kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.responsibilities[countryId];\n    if (checked) {\n      kinds.push(kind);\n    } else {\n      this.responsibilities[countryId] = kinds.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    const value = { ...this.responsibilities };\n    delete value[this.homeCountry.id];\n    this.onChange(value);\n    this.onTouched();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n\nconst byName = (a: Country, b: Country) => a.name!.localeCompare(b.name!);\n","<table class=\"t1\" *ngIf=\"!disabled\">\n  <tbody>\n    <tr>\n      <th class=\"name\">\n        <div *ngIf=\"type === 'export'\">  {{homeCountry.name_from}}\n          <span [ngPlural]=\"targetCountries.length\">\n            <ng-template ngPluralCase=\"=0\"></ng-template>\n            <ng-template ngPluralCase=\"=1\">  </ng-template>\n            <ng-template ngPluralCase=\"=2\">  </ng-template>\n            <ng-template ngPluralCase=\"few\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"many\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"other\"> {{targetCountries.length}} </ng-template>\n          </span>:\n        </div>\n        <div *ngIf=\"type === 'import'\">  {{homeCountry.name_to}}\n          <span [ngPlural]=\"targetCountries.length\">\n            <ng-template ngPluralCase=\"=0\"></ng-template>\n            <ng-template ngPluralCase=\"=1\">  </ng-template>\n            <ng-template ngPluralCase=\"=2\">  </ng-template>\n            <ng-template ngPluralCase=\"few\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"many\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"other\"> {{targetCountries.length}} </ng-template>\n          </span>:\n        </div>\n        <input type=\"text\" placeholder=\"   ...\" matInput [(ngModel)]=\"country\" (ngModelChange)=\"doFilter($event)\"\n          [matAutocomplete]=\"auto\">\n        <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\" (optionSelected)=\"addCountry()\">\n          <mat-option *ngFor=\"let country of filteredCountries\" [value]=\"country\">\n            {{country.name}}\n          </mat-option>\n        </mat-autocomplete>\n      </th>\n      <th class=\"all bg s e\">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allChecked()\" [indeterminate]=\"!allComplete()\" (change)=\"allChange($event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <div class=\"l\"><span class=\"ico\" [ngClass]=\"kind.type\"></span><span>{{kind.name}}</span></div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allCheckedForKind(kind.kind)\" [indeterminate]=\"!allCompleteForKind(kind.kind)\"\n            (change)=\"allChangeForKind(kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n    </tr>\n\n    <tr class=\"row\" *ngFor=\"let country of targetCountries; let i = index\">\n      <td class=\"name\">\n        <div>\n          <span>{{ country.name }}</span>\n          <span class=\"del\" (click)=\"removeCountry(country.id)\"></span>\n        </div>\n      </td>\n      <td class=\"bg s e\">\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allCheckedForCountry(country.id)\" [indeterminate]=\"!allCompleteForCountry(country.id)\"\n            (change)=\"allChangeForCountry(country.id, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n      <td *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"checkedForCountryAndKind(country.id, kind.kind)\"\n            (change)=\"changeForCountryAndKind(country.id, kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n    </tr>\n  </tbody>\n</table>\n","import { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\nimport { Component, Input, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\n\n@Component({\n  selector: 'app-responsibility-row',\n  templateUrl: './responsibility-row.component.html',\n  styleUrls: ['./responsibility-row.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityRowComponent\n    }\n  ]\n})\nexport class ResponsibilityRowComponent implements ControlValueAccessor {\n\n  @Input() homeCountry: Country = unknownCountry;\n  onChange = (value: any) => { };\n  onTouched = () => { };\n\n  kinds = transportSubKindTable;\n  local: TransportSubKind[] = [];\n  disabled: boolean = false;\n\n  constructor(\n  ) {\n  }\n\n  writeValue(local?: TransportSubKind[]): void {\n    this.local = local || [];\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  allChecked(): boolean {\n    return this.local.length === TransportSubKinds.length;\n  }\n\n  allComplete(): boolean {\n    const kinds = this.local;\n    return kinds.length === TransportSubKinds.length || kinds.length === 0;\n  }\n\n  onAllChange({ checked }: MatCheckboxChange): void {\n    if (checked) {\n      this.local = [...TransportSubKinds];\n    } else {\n      this.local = [];\n    }\n    this.valueChanged();\n  }\n\n  isKindChecked(kind: TransportSubKind): boolean {\n    const kinds = this.local;\n    return kinds.includes(kind);\n  }\n\n  onKindChange(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.local;\n    if (checked) {\n      kinds.push(kind);\n    } else {\n      this.local = kinds.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    this.onChange(this.local);\n    this.onTouched();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n\n\n","<table class=\"t1\" *ngIf=\"!disabled\">\n  <tbody>\n    <tr>\n      <th class=\"name\">\n        <div>  {{ homeCountry.name_from }}:</div>\n      </th>\n      <th class=\"all bg s e\">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allChecked()\" [indeterminate]=\"!allComplete()\" (change)=\"onAllChange($event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <div class=\"l\"><span class=\"ico\" [ngClass]=\"kind.type\"></span><span>{{kind.name}}</span></div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"isKindChecked(kind.kind)\" (change)=\"onKindChange(kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n    </tr>\n  </tbody>\n</table>","import { Component, Input, OnInit, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {  MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country, AreaOfResponsibility } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\nimport { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\nimport { TransportService } from 'src/app/api/services/transport.service';\nimport { Subject, takeUntil, tap } from 'rxjs';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\n\n\n@Component({\n  selector: 'app-responsibility',\n  templateUrl: './responsibility.component.html',\n  styleUrls: ['./responsibility.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityComponent\n    }\n  ]\n})\nexport class ResponsibilityComponent implements ControlValueAccessor, OnInit {\n  @Input() countries: Country[] = [];\n  @Input() homeCountry: Country = unknownCountry;\n  @Input() type: 'import' | 'export' = 'export';\n  onChange = (value: any) => { };\n  onTouched = () => { };\n  private _destroy$ = new Subject();\n\n  country?: Country;\n  filteredCountries: Country[] = [];\n  // kinds = transportSubKindTable;\n  kinds:any\n  transportSubKindsLength:number=0;\n  allTransportSubKinds:any;\n  directions: AreaOfResponsibility[]=[];\n\n  snackBarWithShortDuration: MatSnackBarConfig = { duration: 1000 };\n  snackBarWithLongDuration: MatSnackBarConfig = { duration: 3000 };\n\n  constructor(\n    private transportService: TransportService,\n    private snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit(): void {\n    this.getTransportSubKind()\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n\n  writeValue(responsibilityParam: AreaOfResponsibility[]): void {\n    console.log('writeValue',responsibilityParam);\n    this.directions.push(...responsibilityParam);\n    if(this.directions.length===0){\n      this.addDirection();\n    }\n\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setClassIcon(kind:any){\n    let classIcon='';\n    if(kind.kind_id===1) classIcon='air';\n    if(kind.kind_id===2) classIcon='road';\n    if(kind.kind_id===3) classIcon='rail';\n    if(kind.kind_id===4) classIcon='sea';\n    return classIcon;\n  }\n\n  // setClassTh(){\n\n  // }\n\n  addDirection(){\n    this.directions.push({\n      direction_departure: undefined,\n      direction_arrival: undefined,\n      direction_items:[]\n    });\n\n    console.log(this.directions);\n    this.valueChanged();\n  }\n\n  removeDirection(countryId: number ): void {\n    this.directions.splice(countryId, 1);\n    this.valueChanged();\n  }\n\n  allChecked(): boolean {\n    const countChecked = this.getCountChecked();\n    // return this.directions.length > 0 && countChecked === this.directions.length * TransportSubKinds.length;\n    return this.directions.length > 0 && countChecked === this.directions.length * this.transportSubKindsLength;\n  }\n\n  allComplete(): boolean {\n    const countChecked = this.getCountChecked();\n    // return countChecked === 0 || countChecked === this.directions.length * TransportSubKinds.length;\n    return countChecked === 0 || countChecked === this.directions.length * this.transportSubKindsLength;\n  }\n\n  private getCountChecked(): number {\n    return this.directions.map((e) => e.direction_items!.length).reduce((sum, count) => sum + count, 0);\n  }\n\n  allChange({ checked }: any): void {\n    // this.directions.forEach(( e) => e.direction_items = checked ? [...TransportSubKinds] : []);\n    this.directions.forEach(( e) => e.direction_items = checked ? this.allTransportSubKinds : []);\n    this.valueChanged();\n  }\n\n  allCheckedForKind(kind: TransportSubKind): boolean {\n    return this.directions.length > 0 && this.getCheckedForKind(kind) === this.directions.length;\n  }\n\n  allCompleteForKind(kind: TransportSubKind): boolean {\n    const checked = this.getCheckedForKind(kind);\n    return checked === 0 || checked === this.directions.length;\n  }\n\n  private getCheckedForKind(kind: TransportSubKind): number {\n    return this.directions.map(( e ) => e.direction_items?.includes(kind)).reduce((sum, checked) => checked ? sum + 1 : sum, 0)\n  }\n\n  allChangeForKind(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    this.directions.forEach((e) => {\n      const kinds = e.direction_items;\n      if (checked) {\n        if (!kinds?.includes(kind)) {\n          kinds?.push(kind);\n        }\n      } else {\n        e.direction_items = kinds?.filter(aKind => aKind !== kind);\n      }\n    });\n    this.valueChanged();\n  }\n\n  allCheckedForCountry(i: number ): boolean {\n    const kinds = this.directions[i].direction_items;\n    // return kinds?.length === TransportSubKinds.length;\n    return this.transportSubKindsLength === kinds?.length  ;\n  }\n\n  allCompleteForCountry(i: number): boolean {\n    const kinds = this.directions[i].direction_items;\n    // return kinds?.length === TransportSubKinds.length || kinds?.length === 0;\n    return kinds?.length === this.transportSubKindsLength || kinds?.length === 0;\n  }\n\n  allChangeForCountry(i: number , { checked }: MatCheckboxChange): void {\n    if (checked) {\n      // this.directions[i].direction_items = [...TransportSubKinds];\n      this.directions[i].direction_items = this.allTransportSubKinds;\n\n\n\n    } else {\n      this.directions[i].direction_items = [];\n    }\n    this.valueChanged();\n  }\n\n  checkedForCountryAndKind(i: number, kind: TransportSubKind): boolean {\n    const kinds = this.directions[i].direction_items;\n    return kinds? kinds.includes(kind) : false;\n  }\n\n  changeForCountryAndKind(i: number, kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.directions[i].direction_items;\n    if (checked) {\n      kinds?.push(kind);\n    } else {\n      this.directions[i].direction_items = kinds?.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    const value = [ ...this.directions ];\n    this.onChange(value);\n    this.onTouched();\n  }\n\n  //  \n  //  (airline and airline iata)\n  private getTransportSubKind():void{\n    this.transportService.transportSubKind()\n      .pipe(\n        tap((transportCarrier:any) => {\n          console.log(transportCarrier);\n\n          if (!transportCarrier) {\n            throw ({ error: { error_message: `  ` } });\n          }\n        }),\n        takeUntil(this._destroy$),\n      )\n      .subscribe({\n        next: (transportCarrier) => {\n          const sorted = transportCarrier.sort((user1:any, user2:any) => user1['kind_id'] > user2['kind_id'] ? 1 : -1);\n          this.kinds=sorted;\n          this.transportSubKindsLength=this.kinds.length;\n          let test:any=[];\n          sorted.forEach((i:any)=>{\n            test.push(i.id)\n          })\n          this.allTransportSubKinds=test\n          console.log(this.allTransportSubKinds);\n\n        },\n        error: (err: any) => {\n          this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n        }\n      });\n  }\n}\n\n","<table class=\"t1\">\n  <tbody>\n    <tr>\n\n      <th class=\"name pm0\">\n        <div class=\"table-header\">\n          <div class=\"tab-title\"> :</div>\n\n          <label class=\"tab-subtitles\">\n            <div class=\"subtitle\"> </div>\n            <div class=\"subtitle\"> </div>\n\n          </label>\n        </div>\n      </th>\n\n      <th class=\"all bg \">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allChecked()\"\n            [indeterminate]=\"!allComplete()\"\n            (change)=\"allChange($event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n\n      <!-- <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\"> -->\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"setClassIcon(kind)\">\n        <div class=\"l\">\n          <span class=\"ico\" [ngClass]=\"setClassIcon(kind)\"></span>\n          <span>{{kind.name}}</span>\n        </div>\n        <label>\n          <!-- <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allCheckedForKind(kind.kind)\"\n            [indeterminate]=\"!allCompleteForKind(kind.kind)\"\n            (change)=\"allChangeForKind(kind.kind, $event)\">\n          </mat-checkbox> -->\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allCheckedForKind(kind.id)\"\n            [indeterminate]=\"!allCompleteForKind(kind.id)\"\n            (change)=\"allChangeForKind(kind.id, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n\n    </tr>\n\n    <tr class=\"row\" *ngFor=\"let direction of directions; let i = index\">\n      <td>\n\n        <div class=\"dir-block\">\n          <!-- <mat-form-field appearance=\"outline\" class=\"ui-select mw50 \"> -->\n            <ng-select style=\"width: 100%; margin-right: 10px;\" [(ngModel)]=\"direction.direction_departure\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"countries\"></ng-select>\n            <!-- <mat-select [(ngModel)]=\"direction.direction_departure\" class=\"border-none\">\n              <mat-option [value]=\"0\">--   --</mat-option>\n              <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n            </mat-select> -->\n          <!-- </mat-form-field> -->\n           <ng-select style=\"width: 100%; margin-right: 10px;\" [(ngModel)]=\"direction.direction_arrival\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"countries\"></ng-select>\n\n          <!-- <mat-form-field appearance=\"outline\" class=\"ui-select mw50\">\n            <mat-select [(ngModel)]=\"direction.direction_arrival\">\n              <mat-option [value]=\"0\">--   --</mat-option>\n              <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n            </mat-select>\n          </mat-form-field> -->\n\n          <span class=\"btn-del\" (click)=\"removeDirection(i)\"></span>\n        </div>\n\n      </td>\n\n      <td class=\"bg s e\">\n        <label>\n          <mat-checkbox class=\"show-all testclass\"\n            [checked]=\"allCheckedForCountry(i)\"\n            [indeterminate]=\"!allCompleteForCountry(i)\"\n            (change)=\"allChangeForCountry(i, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n\n      <td *ngFor=\"let kind of kinds\" [ngClass]=\"setClassIcon(kind)\">\n        <label>\n          <!-- <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"checkedForCountryAndKind(i, kind.kind)\"\n            (change)=\"changeForCountryAndKind(i, kind.kind, $event)\">\n          </mat-checkbox> -->\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"checkedForCountryAndKind(i, kind.id)\"\n            (change)=\"changeForCountryAndKind(i, kind.id, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n\n    </tr>\n  </tbody>\n</table>\n\n<div class=\"user-item\">\n  <div class=\"form-block-title\">\n    <span class=\"btn v add\" (click)=addDirection()></span>\n  </div>\n</div>\n","import { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-trade-direction',\n  templateUrl: './trade-direction.component.html',\n  styleUrls: ['./trade-direction.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: TradeDirectionComponent\n    }\n  ]\n})\nexport class TradeDirectionComponent implements OnInit, ControlValueAccessor {\n  readonly directions = [\n    { value: 'all', label: '', checked: false },\n    { value: 'import', label: '', checked: false },\n    { value: 'export', label: '', checked: false },\n    { value: 'local', label: '  ', checked: false },\n  ];\n\n  onChangeFn = (value: string[]) => { };\n  onTouchedFn = () => { };\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  writeValue(value: string[]): void {\n    if (!Array.isArray(value)) {\n      return;\n    }\n    this.directions.forEach((direction) => {\n      direction.checked = value.includes(direction.value);\n    });\n    this.directions[0].checked = this.directions.slice(1).every(r => r.checked);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouchedFn = fn;\n  }\n\n  onChange(i: number) {\n    if (i === 0) {\n      const checked = !this.directions[0].checked;\n      this.directions.forEach(r => r.checked = checked);\n    } else {\n      this.directions[i].checked = !this.directions[i].checked;\n      this.directions[0].checked = this.directions.slice(1).every(direction => direction.checked);\n    }\n    const value: string[] = this.directions.slice(1).filter(direction => direction.checked).map(r => r.value);\n    this.onChangeFn(value);\n  }\n\n}\n","<div class=\"form-item-layout padd sep\">\n    :\n  <span class=\"req\"></span>\n  <label *ngFor=\"let direction of directions; let i=index\">\n    <input type=\"checkbox\" [checked]=\"direction.checked\" (change)=\"onChange(i)\">\n    <i></i>\n    <span>{{ direction.label }}</span>\n  </label>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { ContractorComponent } from '../../components/contractor/contractor.component';\nimport { ContractorEditorComponent } from '../../components/contractor-editor/contractor-editor.component';\nimport { ContactEditorComponent } from '../../components/contact-editor/contact-editor.component';\nimport { RatingComponent } from '../../components/rating/rating.component';\nimport { TradeDirectionComponent } from '../../components/trade-direction/trade-direction.component';\nimport { ResponsibilityComponent } from '../../components/responsibility/responsibility.component';\nimport { ResponsibilityMatrixComponent } from '../../components/responsibility-matrix/responsibility-matrix.component';\nimport { ResponsibilityRowComponent } from '../../components/responsibility-row/responsibility-row.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ContractorComponent,\n    title: ''\n  },\n  {\n    path: 'add',\n    component: ContractorEditorComponent,\n    title: ' '\n  },\n  {\n    path: 'edit/:id',\n    component: ContractorEditorComponent,\n    title: ' '\n  },\n];\n\n@NgModule({\n  declarations: [\n    ContractorComponent,\n    ContractorEditorComponent,\n    RatingComponent,\n    ContactEditorComponent,\n    TradeDirectionComponent,\n    ResponsibilityMatrixComponent,\n    ResponsibilityRowComponent,\n    ResponsibilityComponent,\n  ],\n  imports: [\n    RouterModule.forChild(routes),\n    SharedModule,\n  ],\n  // exports: [\n  //   ContractorComponent,\n  // ]\n})\nexport class ContractorModule { }\n"],"names":["TransportSubKinds","Validators","NG_VALUE_ACCESSOR","NG_VALIDATORS","Subject","takeUntil","unknownCountry","ContactEditorComponent","constructor","fb","countries","homeCountry","showResponsibilities","onChange","value","onTouched","destroy$","touched","contactForm","group","id","contractor_id","name","required","position","phone","mobile_phone","email","skype","whatsapp","telegram","wechat","place","direction","writeValue","contact","patchValue","registerOnChange","fn","registerOnTouched","ngOnInit","valueChanges","pipe","subscribe","statusChanges","ngOnDestroy","next","complete","ngOnChanges","changes","homeCountryId","find","country","validate","control","valid","i0","directiveInject","i1","FormBuilder","selectors","inputs","features","ProvidersFeature","provide","multi","useExisting","NgOnChangesFeature","decls","vars","consts","template","ContactEditorComponent_Template","rf","ctx","elementStart","element","text","elementEnd","listener","ContactEditorComponent_Template_div_click_68_listener","property","advance","textInterpolate","pureFunction1","_c0","environment","catchError","debounceTime","distinctUntilChanged","forkJoin","lastValueFrom","tap","throwError","FormControl","elementContainer","format_r45","template","ContractorEditorComponent_div_112_ng_container_2_Template","ContractorEditorComponent_div_112_label_3_Template","ContractorEditorComponent_div_112_ng_container_4_Template","_r36","pureFunction0","ctx_r28","requestFormats","_r34","ContractorEditorComponent_div_171_Template_span_click_3_listener","restoredCtx","restoreView","_r49","i_r47","index","ctx_r48","nextContext","resetView","removeContact","textInterpolate1","ctx_r31","contractorForm","controls","ContractorEditorComponent_button_184_Template_button_click_0_listener","_r51","ctx_r50","remove","ContractorEditorComponent_ng_template_188_mat_error_0_Template","ctx_r35","field_r52","hasError","ContractorEditorComponent_ng_template_190_span_0_Template","ctx_r37","isRequiredField","field_r54","ContractorEditorComponent","route","contractorService","countryService","cityService","snackBar","router","location","systemService","transportService","directionService","carrierFilterCtrl","isNavigateAfterSave","contractor","isEditMode","associations","contractorTypes","filteredContractorTypes","transportCarrier","filteredTransportCarrier","filteredCountries","cities","filteredCitys","counterpartys","filteredCounterpartys","snackBarWithShortDuration","duration","snackBarWithLongDuration","production","title","taxSystems","filteredTaxs","_destroy$","address","ind","web","rating_nps","disabled","user_rating_nps","contacts","array","association_id","tax_id","undefined","type_id","language_id","country_id","city_id","request_format_id","allow_trade","counterparty_id","carrier_id","currency","test","i","c","console","log","field","get","hasValidator","onSearchChange","event","searchText","target","toLowerCase","filter","carrier","full_name","includes","displayName","item","initialization_chooseModeForm","initialization_getDatas","getFormParam","segments","snapshot","url","map","s","path","_this","_asyncToGenerator","getContractorTypes","getTransportCarrier","getCountries","getCities","getCounterparty","getTaxSystems","getAssociations","getRequestFormats","getCurrency","getContractor","error","displayFn_TaxId","obj","displayFn_CounterpartyId","displayFn_CityId","displayFn_CountryId","displayFn_CarrierId","displayFn_TypeId","goBack","back","goToContractor","navigate","removeAt","markAsTouched","addContact","push","save","open","body","updateContractor","createContractor","afterDismissed","res","dismissedByAction","removeContractor","assocAsText","ids","a","join","onContractorTypeChange","e","contact_required","setValidators","onCountryChange","reset","updateFilteredCityList","onCityChange","city","patchCountryControl","countryId","canSave","contractorUpdate","err","error_message","contractorCreate","contractorDelete","systemCounterparty","systemAssociation","contractorType","systemTaxSystem","directionCity","contractorRequestFormat","formats","Number","paramMap","contractorInfo","contactsControls","forEach","nameForHeader","systemCurrency","currencyList","current","contractorParam","formParams","applyRequiredValidators","subscribeDependentFields","required_item","updateValueAndValidity","dependent_fields","dependent_field","ActivatedRoute","i2","ContractorService","i3","CountryService","i4","CityService","i5","i6","MatSnackBar","Router","i7","Location","i8","SystemService","TransportService","DirectionService","ContractorEditorComponent_Template","ContractorEditorComponent_Template_app_editor_header_save_0_listener","ContractorEditorComponent_Template_app_editor_header_remove_0_listener","ContractorEditorComponent_ng_container_17_Template","ContractorEditorComponent_Template_ng_select_change_19_listener","$event","ContractorEditorComponent_ng_container_20_Template","ContractorEditorComponent_ng_container_24_Template","ContractorEditorComponent_ng_container_27_Template","ContractorEditorComponent_ng_container_34_Template","ContractorEditorComponent_ng_container_37_Template","ContractorEditorComponent_ng_container_41_Template","ContractorEditorComponent_ng_container_44_Template","ContractorEditorComponent_ng_container_48_Template","ContractorEditorComponent_Template_ng_select_change_50_listener","ContractorEditorComponent_ng_container_51_Template","ContractorEditorComponent_ng_container_55_Template","ContractorEditorComponent_Template_ng_select_change_57_listener","ContractorEditorComponent_ng_container_58_Template","ContractorEditorComponent_ng_container_63_Template","ContractorEditorComponent_ng_container_66_Template","ContractorEditorComponent_ng_container_70_Template","ContractorEditorComponent_ng_container_73_Template","ContractorEditorComponent_ng_container_77_Template","ContractorEditorComponent_ng_container_80_Template","ContractorEditorComponent_ng_container_85_Template","ContractorEditorComponent_ng_container_88_Template","ContractorEditorComponent_ng_container_92_Template","ContractorEditorComponent_ng_template_95_Template","ContractorEditorComponent_ng_container_96_Template","ContractorEditorComponent_ng_container_100_Template","ContractorEditorComponent_ng_template_103_Template","ContractorEditorComponent_ng_container_104_Template","ContractorEditorComponent_ng_container_108_Template","ContractorEditorComponent_ng_container_111_Template","ContractorEditorComponent_div_112_Template","ContractorEditorComponent_ng_container_117_Template","ContractorEditorComponent_ng_container_120_Template","ContractorEditorComponent_div_171_Template","ContractorEditorComponent_Template_span_click_175_listener","ContractorEditorComponent_mat_error_177_Template","ContractorEditorComponent_Template_button_click_181_listener","ContractorEditorComponent_button_184_Template","ContractorEditorComponent_Template_button_click_185_listener","ContractorEditorComponent_ng_template_188_Template","templateRefExtractor","ContractorEditorComponent_ng_template_190_Template","_c1","_c2","pureFunction2","_c5","_c3","_c4","_c6","_c7","_c8","_c9","_c10","_c11","_c12","_c13","_c14","length","_c15","_c16","_c17","review_positive_count","review_negative_count","review_neutral_count","order_count","trade_success_count","trade_fail_count","errors","dirty","RatingComponent_span_3_Template_span_click_0_listener","_r4","i_r2","ctx_r3","setScore","star_r1","RatingComponent","total","units","score","stars","Array","fill","isDisabled","fillStars","setDisabledState","getAsText","RatingComponent_Template","RatingComponent_span_3_Template","textInterpolate3","transportSubKindTable","ctx_r10","targetCountries","ctx_r11","ctx_r12","ResponsibilityMatrixComponent_table_0_div_4_ng_template_3_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_4_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_5_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_6_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_7_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_8_Template","ctx_r1","name_from","ctx_r16","ctx_r17","ctx_r18","ResponsibilityMatrixComponent_table_0_div_5_ng_template_3_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_4_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_5_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_6_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_7_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_8_Template","ctx_r2","name_to","country_r19","ResponsibilityMatrixComponent_table_0_th_16_Template_mat_checkbox_change_6_listener","_r22","kind_r20","$implicit","ctx_r21","allChangeForKind","kind","classes","type","ctx_r5","allCheckedForKind","allCompleteForKind","ResponsibilityMatrixComponent_table_0_tr_17_td_10_Template_mat_checkbox_change_2_listener","_r29","kind_r26","country_r23","ctx_r27","changeForCountryAndKind","ctx_r25","checkedForCountryAndKind","ResponsibilityMatrixComponent_table_0_tr_17_Template_span_click_5_listener","_r32","removeCountry","ResponsibilityMatrixComponent_table_0_tr_17_Template_mat_checkbox_change_8_listener","ctx_r33","allChangeForCountry","ResponsibilityMatrixComponent_table_0_tr_17_td_10_Template","ctx_r6","allCheckedForCountry","allCompleteForCountry","kinds","ResponsibilityMatrixComponent_table_0_div_4_Template","ResponsibilityMatrixComponent_table_0_div_5_Template","ResponsibilityMatrixComponent_table_0_Template_input_ngModelChange_6_listener","_r35","ctx_r34","ctx_r36","doFilter","ResponsibilityMatrixComponent_table_0_Template_mat_autocomplete_optionSelected_7_listener","addCountry","ResponsibilityMatrixComponent_table_0_mat_option_9_Template","ResponsibilityMatrixComponent_table_0_Template_mat_checkbox_change_14_listener","ctx_r38","allChange","ResponsibilityMatrixComponent_table_0_th_16_Template","ResponsibilityMatrixComponent_table_0_tr_17_Template","ctx_r0","_r3","displayFn","allChecked","allComplete","ResponsibilityMatrixComponent","responsibilities","homeCountryChange","responsibilityParam","Object","keys","getCountryById","sort","byName","valueChanged","findIndex","splice","countChecked","getCountChecked","reduce","sum","count","checked","getCheckedForKind","aKind","ResponsibilityMatrixComponent_Template","ResponsibilityMatrixComponent_table_0_Template","b","localeCompare","ResponsibilityRowComponent_table_0_th_12_Template_mat_checkbox_change_6_listener","kind_r2","onKindChange","isKindChecked","ResponsibilityRowComponent_table_0_Template_mat_checkbox_change_10_listener","_r6","onAllChange","ResponsibilityRowComponent_table_0_th_12_Template","ResponsibilityRowComponent","local","ResponsibilityRowComponent_Template","ResponsibilityRowComponent_table_0_Template","ResponsibilityComponent_th_18_Template_mat_checkbox_change_6_listener","setClassIcon","ResponsibilityComponent_tr_19_td_10_Template_mat_checkbox_change_2_listener","_r11","kind_r8","i_r6","ctx_r9","ctx_r7","ResponsibilityComponent_tr_19_Template_ng_select_ngModelChange_3_listener","_r14","direction_r5","direction_departure","ResponsibilityComponent_tr_19_Template_ng_select_ngModelChange_4_listener","direction_arrival","ResponsibilityComponent_tr_19_Template_span_click_5_listener","removeDirection","ResponsibilityComponent_tr_19_Template_mat_checkbox_change_8_listener","ResponsibilityComponent_tr_19_td_10_Template","ResponsibilityComponent","transportSubKindsLength","directions","getTransportSubKind","addDirection","classIcon","kind_id","direction_items","allTransportSubKinds","transportSubKind","sorted","user1","user2","ResponsibilityComponent_Template","ResponsibilityComponent_Template_mat_checkbox_change_16_listener","ResponsibilityComponent_th_18_Template","ResponsibilityComponent_tr_19_Template","ResponsibilityComponent_Template_span_click_22_listener","TradeDirectionComponent_label_4_Template_input_change_1_listener","direction_r1","label","TradeDirectionComponent","onChangeFn","onTouchedFn","isArray","slice","every","r","TradeDirectionComponent_Template","TradeDirectionComponent_label_4_Template","RouterModule","SharedModule","ContractorComponent","routes","component","ContractorModule","forChild","declarations","imports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}