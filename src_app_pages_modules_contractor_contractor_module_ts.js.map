{"version":3,"file":"src_app_pages_modules_contractor_contractor_module_ts.js","mappings":"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","sources":["./src/app/api/custom_models/transport.ts","./src/app/pages/components/contact-editor/contact-editor.component.ts","./src/app/pages/components/contact-editor/contact-editor.component.html","./src/app/pages/components/contractor-editor/contractor-editor.component.ts","./src/app/pages/components/contractor-editor/contractor-editor.component.html","./src/app/pages/components/rating/rating.component.ts","./src/app/pages/components/rating/rating.component.html","./src/app/pages/components/responsibility-matrix/responsibility-matrix.component.ts","./src/app/pages/components/responsibility-matrix/responsibility-matrix.component.html","./src/app/pages/components/responsibility-row/responsibility-row.component.ts","./src/app/pages/components/responsibility-row/responsibility-row.component.html","./src/app/pages/components/responsibility/responsibility.component.ts","./src/app/pages/components/responsibility/responsibility.component.html","./src/app/pages/components/trade-direction/trade-direction.component.ts","./src/app/pages/components/trade-direction/trade-direction.component.html","./src/app/pages/modules/contractor/contractor.module.ts"],"sourcesContent":["export const TransportSubKinds = ['avia_lcl', 'avia_fcl', 'road_lcl', 'road_fcl', 'road_adr', 'road_ref', 'sea_teus', 'sea_lcl', 'sea_sp', 'rw_teus', 'rw_lcl', 'rw_sp'] as const;\nexport type TransportSubKind = typeof TransportSubKinds[number];\n\n// \nexport interface TransportKind {\n  id: number;\n  key:string;\n  name: string;\n}\n// \nexport interface TransportType {\n  id: number;\n  name: string;\n}\n\n//\nexport interface TransportCarrier {\n  id?: number;\n  kind_id?: number;\n  name?: string;\n  iata?: string;\n}\n\nexport interface TransportRoute {\n  id?: number,\n  kind_id?: number,\n  carrier_id?: number,\n  country_id_departure?: number,\n  country_id_arrival?: number,\n  city_id_departure?: number,\n  city_id_arrival?: number,\n  point_id_departure?: number,\n  point_id_arrival?: number,\n  name?: string,\n}\n\n","import { Country } from './../../../api/custom_models/country';\nimport { Contact, responsibilityDirections } from './../../../api/custom_models';\nimport { FormBuilder, FormGroup, Validators, ControlValueAccessor, NG_VALUE_ACCESSOR, AbstractControl, ValidationErrors, Validator, NG_VALIDATORS } from '@angular/forms';\nimport { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { unknownCountry } from 'src/app/shared/constants';\nimport { responsibilityValidator } from './responsibility.validator';\n\n@Component({\n  selector: 'app-contact-editor',\n  templateUrl: './contact-editor.component.html',\n  styleUrls: ['./contact-editor.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ContactEditorComponent\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: ContactEditorComponent,\n      multi: true,\n    },\n  ]\n})\nexport class ContactEditorComponent implements OnInit, OnDestroy, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() countries: Country[] = [];\n  @Input() homeCountryId?: number;\n  @Input() requiredFields: string[]=[];\n  @Input() requiredDirection: boolean=false;\n  readonly unknownCountry = unknownCountry;\n  homeCountry: Country = unknownCountry;\n  contactForm: FormGroup;\n  showResponsibilities = false;\n\n  onChange = (value: Partial<Contact>) => { };\n  onTouched = () => { };\n  destroy$ = new Subject<void>();\n\n  private touched = false;\n\n  constructor(\n    private fb: FormBuilder,\n  ) {\n    this.contactForm = this.fb.group({\n      id: [],\n      contractor_id: [],\n      name: [''],\n      // name_f: ['', [Validators.required]],\n      // name_i: ['', [Validators.required]],\n      // name_o: ['', [Validators.required]],\n      position: [''],\n      phone: [''],\n      mobile_phone: ['', []],\n      email: [''],\n      skype: ['', []],\n      whatsapp: ['', []],\n      telegram: ['', []],\n      wechat: ['', []],\n      // responsible_direction: [{}],\n      place: [''],\n      // responsible_param: fb.group({\n      //   import: [{}, []],\n      //   export: [{}, []],\n      //   local: [[], []],\n      //   responsible_param1:[[],[]]\n\n      // }),\n\n      direction:[[]]\n\n    });\n  }\n\n  writeValue(contact: Partial<Contact>): void {\n    this.contactForm.patchValue(contact);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  ngOnInit(): void {\n    this.contactForm.valueChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(value => this.onChange(value));\n\n    this.contactForm.statusChanges\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        if (!this.touched) {\n          this.onTouched();\n          this.touched = true;\n        }\n      });\n    this.applyRequiredValidators();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['homeCountryId']) {\n      if (typeof this.homeCountryId === 'number') {\n        this.homeCountry = this.countries.find(country => country.id === this.homeCountryId) || unknownCountry;\n      }\n    }\n    //    requiredFields\n    if (changes['requiredFields'] && !changes['requiredFields'].firstChange) {\n      this.clearAllRequiredValidators();\n      this.applyRequiredValidators();\n    }\n  }\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    return control.value && this.contactForm.valid ? null : { contact: true };\n  }\n\n  private clearAllRequiredValidators() {\n    //   required   \n    Object.keys(this.contactForm.controls).forEach(key => {\n      const control = this.contactForm.get(key);\n      if (control?.hasValidator(Validators.required)) {\n        control.clearValidators();\n        control.updateValueAndValidity();\n      }\n    });\n  }\n\n  private applyRequiredValidators() {\n    //  required    \n    console.log('this.requiredFields',this.requiredFields);\n\n    this.requiredFields?.forEach(fieldName => {\n      const control = this.contactForm.get(fieldName);\n      if (control) {\n        control.setValidators(Validators.required);\n        control.updateValueAndValidity();\n      } else {\n        console.warn(` ${fieldName}    `);\n      }\n    });\n    // const directionControl = this.contactForm.get('direction');\n    // if(directionControl && this.requiredDirection){\n    //   directionControl.setValidators([responsibilityValidator()]);\n    //   directionControl.updateValueAndValidity();\n    //   console.log(this.contactForm.get('direction'));\n\n    // }\n  }\n\n  isRequiredField(field: string): boolean {\n    const control = this.contactForm.get(field);\n    return control?.hasValidator(Validators.required) ?? false;\n  }\n}\n","<form class=\"form-block\" [formGroup]=\"contactForm\">\n  <input type=\"hidden\" formControlName=\"id\">\n  <input type=\"hidden\" formControlName=\"contractor_id\">\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\">:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'name'}\"></ng-container>\n      </div>\n      <div class=\"form-data\">\n        <input type=\"text\" name=\"name\" formControlName=\"name\" placeholder=\"\">\n      </div>\n    </div>\n    <!--<div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\" name=\"name_f\" formControlName=\"name_f\" placeholder=\"\" required></div>\n    </div>\n     <div class=\"form-item\">\n      <div class=\"form-label\">:</div>\n      <div class=\"form-data\"><input type=\"text\"  name=\"name_i\" formControlName=\"name_i\" placeholder=\"\" required></div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"form-label\">: <span class=\"req\"></span></div>\n      <div class=\"form-data\"><input type=\"text\"  name=\"name_o\" formControlName=\"name_o\" placeholder=\"\" required></div>\n    </div> -->\n    <div class=\"form-item\">\n      <div class=\"form-label\">:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'position'}\"></ng-container>\n      </div>\n      <div class=\"form-data\">\n        <input type=\"text\" name=\"position\" formControlName=\"position\" placeholder=\"\" >\n      </div>\n    </div>\n  </div>\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'place'}\"></ng-container>\n      </div>\n      <div class=\"form-data\">\n        <input type=\"text\" name=\"place\" formControlName=\"place\" placeholder=\"\">\n      </div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'phone'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"phone\" formControlName=\"phone\" placeholder=\"\"  appPhoneMask></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\"> :\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'mobile_phone'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"mobile_phone\" formControlName=\"mobile_phone\" placeholder=\"\" appPhoneMask></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">e-mail:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'email'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"email\" formControlName=\"email\" placeholder=\"\" required></div>\n    </div>\n  </div>\n  <div class=\"form-item-layout\">\n    <div class=\"form-item\">\n      <div class=\"form-label\">skype:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'skype'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"skype\" formControlName=\"skype\" placeholder=\"\"></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">telegram:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'telegram'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"telegram\" formControlName=\"telegram\" placeholder=\"\"></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">whatsapp:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'whatsapp'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"whatsapp\" formControlName=\"whatsapp\" placeholder=\"\"></div>\n    </div>\n\n    <div class=\"form-item\">\n      <div class=\"form-label\">WeChat:\n        <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'wechat'}\"></ng-container>\n      </div>\n      <div class=\"form-data\"><input type=\"text\" name=\"wechat\" formControlName=\"wechat\" placeholder=\"\"></div>\n    </div>\n  </div>\n  <!-- <app-trade-direction formControlName=\"responsible_direction\" (ngModelChange)=\"onResponsibleDirectionChange($event)\"></app-trade-direction> -->\n  <div class=\"options\">\n    <div class=\"lnk\">\n      <div class=\"ttl\"> </div>\n      <div class=\"link show\" [ngClass]=\"showResponsibilities ? 'hide' : 'show'\" (click)=\"showResponsibilities = !showResponsibilities\">\n        <span>{{ showResponsibilities ? '' : '' }}</span>\n      </div>\n    </div>\n\n    <div class=\"lnk-data\" [ngStyle]=\"{'display': showResponsibilities ? 'block' : 'none' }\">\n      <!-- <app-responsibility-matrix formControlName=\"export\" [homeCountry]=\"homeCountry\" [countries]=\"countries\" type=\"export\"></app-responsibility-matrix> -->\n      <!-- <app-responsibility-matrix formControlName=\"import\" [homeCountry]=\"homeCountry\" [countries]=\"countries\" type=\"import\"></app-responsibility-matrix>\n      <app-responsibility-row formControlName=\"local\" [homeCountry]=\"homeCountry\"></app-responsibility-row> -->\n      <app-responsibility formControlName=\"direction\" [countries]=\"countries\" [requiredDirection]=\"requiredDirection\"></app-responsibility>\n    </div>\n  </div>\n</form>\n\n<ng-template #inputError let-field=\"field\">\n  <mat-error *ngIf=\"contactForm.controls[field].hasError('required') && contactForm.controls[field].touched\">\n      \n  </mat-error>\n</ng-template>\n\n<ng-template #inputLabelReq let-field=\"field\">\n  <span *ngIf=\"isRequiredField(field)\" class=\"req\"></span>\n</ng-template>\n","import { CountryService } from './../../services/country.service';\nimport { environment } from './../../../../environments/environment';\nimport { catchError, debounceTime, distinctUntilChanged, forkJoin, fromEvent, lastValueFrom, merge, Subject, takeUntil, tap, throwError } from 'rxjs';\nimport { City } from './../../../api/custom_models/city';\nimport { Association } from './../../../api/custom_models/association';\nimport { Country } from './../../../api/custom_models/country';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Contractor, ContractorRequestFormat, ContractorType } from './../../../api/custom_models/contractor';\nimport { ContractorService } from './../../../api/services/contractor.service';\nimport { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {  MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { CityService } from '../../services/city.service';\nimport { Location } from '@angular/common';\nimport { TaxSystem } from 'src/app/api/custom_models';\nimport { DirectionService, SystemService, TransportService } from 'src/app/api/services';\nimport { Counterparty } from 'src/app/api/custom_models/counterparty';\n\n\n@Component({\n  selector: 'app-contractor-editor',\n  templateUrl: './contractor-editor.component.html',\n  styleUrls: ['./contractor-editor.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ContractorEditorComponent implements OnInit {\n  carrierFilterCtrl = new FormControl();\n  isNavigateAfterSave:boolean=true;\n\n  contractor: Partial<Contractor> = {};\n  isEditMode: boolean = false;\n  contractorForm: FormGroup;\n  associations: Association[] = [];\n\n  contractorTypes: ContractorType[] = []; filteredContractorTypes: ContractorType[] = [];\n  transportCarrier:any[]=[]; filteredTransportCarrier:any[]=[];\n  countries: Country[] = []; filteredCountries: Country[] = [];\n  cities: any[] = []; filteredCitys: any[] = [];\n  directionPoint: any[] = []; filteredDirectionPoint: any[] = [];\n\n  counterpartys:Counterparty[]=[]; filteredCounterpartys:Counterparty[]=[];\n  currencyList:any;\n\n  snackBarWithShortDuration: MatSnackBarConfig = { duration: 1000 };\n  snackBarWithLongDuration: MatSnackBarConfig = { duration: 3000 };\n  requestFormats: ContractorRequestFormat[] = [];\n  production = environment.production;\n  title = '';\n  taxSystems: TaxSystem[] = []; filteredTaxs: TaxSystem[] = [];\n  nameForHeader?: string;\n  // counterpartys:Counterparty[]=[];\n  formParams:any;\n\n  requiredContactFields:string[]=[];\n  requiredDirection:boolean=false;\n\n  private _destroy$ = new Subject();\n\n\n  // change$ = new Subject<string|undefined>();\n\n\n\n  constructor(\n    private route: ActivatedRoute,\n    private contractorService: ContractorService,\n    private countryService: CountryService,\n    private cityService: CityService,\n    private fb: FormBuilder,\n    private snackBar: MatSnackBar,\n    private router: Router,\n    private location: Location,\n    private systemService: SystemService,\n    private transportService: TransportService,\n    private directionService: DirectionService,\n  ) {\n    this.contractorForm = this.fb.group({\n      id: [''],\n      address: [''],\n      name: [''],\n      ind: [''],\n      phone: [''],\n      web: [''],\n      rating_nps: [{ value: 0, disabled: true }],\n      user_rating_nps: [{ value: 0, disabled: true }],\n      contacts: fb.array([], []),\n      association_id: [[]],\n      tax_id: [undefined],\n      // type_id: [undefined, [Validators.required]],\n      type_id: [],\n      language_id: [undefined],\n      country_id: [],\n      city_id: [],\n      svh_id: [],\n      request_format_id: [''],\n      // exclude_from_trade: [false]\n      allow_trade:[false],\n      counterparty_id: [],\n      // carrier_name:[,[]],\n      carrier_id:[[],[]],\n      currency:[,[]]\n    });\n\n    // this.change$\n    // .pipe(\n    //   debounceTime(1000),\n    //   distinctUntilChanged(),\n    // )\n    // .subscribe((e) => {\n    //   this.getTransportCarrier(e)\n    // });\n  }\n  test(i:any,c?:any){\n    console.log(i,c);\n\n  }\n\n  customSearchFn = (term: string, item: any): boolean => {\n    //      \n    const selectedCityId = this.contractorForm?.get('city_id')?.value;\n    const selectedCountryId = this.contractorForm?.get('country_id')?.value;\n\n    //     \n    let isValid = true;\n\n    // 1.     (name)\n    if (term) {\n      isValid = isValid && item.name.toLowerCase().includes(term.toLowerCase());\n    }\n\n    // 2.   city_id ( )\n    if (selectedCityId) {\n      isValid = isValid && item.city_id === selectedCityId;\n    }\n\n    // 3.   country_id ( )\n    if (selectedCountryId) {\n      isValid = isValid && item.country_id === selectedCountryId;\n    }\n\n    return isValid;\n  }\n\n  isRequiredField(field: string): boolean {\n    const control = this.contractorForm.get(field);\n    return control?.hasValidator(Validators.required) ?? false;\n  }\n\n  onSearchChange(event: any) {\n    const searchText = event.target.value.toLowerCase();\n    this.filteredTransportCarrier = this.transportCarrier.filter(carrier =>\n      carrier.full_name.toLowerCase().includes(searchText)\n    );\n  }\n  displayName(item: any): string {\n    return item ? item.full_name : '';\n  }\n\n  ngOnInit(): void {\n    this.initialization_chooseModeForm();\n    this.initialization_getDatas();\n    // this.initialization_subscribeForm();\n    this.getFormParam();\n  }\n\n  initialization_chooseModeForm(){\n    const segments = this.route.snapshot.url.map(s => s.path);\n    this.isEditMode = segments[0] !== 'add';\n    this.title = this.isEditMode ? '  ' : ' ';\n  }\n  async initialization_getDatas() {\n    try {\n      await lastValueFrom(forkJoin([\n        this.getContractorTypes(),\n        this.getTransportCarrier(),\n        this.getCountries(),\n        this.getCities(),\n        this.getDirectionPoint(),\n        this.getCounterparty(),\n        this.getTaxSystems(),\n        this.getAssociations(),\n        this.getRequestFormats(),\n        this.getCurrency(),\n      ]));\n      //       \n      if (this.isEditMode) {\n        await lastValueFrom(this.getContractor()); //  Observable  Promise\n      }\n    } catch (error) {\n      console.error('   :', error);\n    }\n\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n\n  // onChange(query: string|undefined) {\n  //   this.change$.next(query);\n  // }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  goToContractor(id: number): void {\n    this.router.navigate(['..', id]);\n  }\n\n  removeContact(i: number): void {\n    this.contacts.removeAt(i);\n    this.contractorForm.markAsTouched();\n  }\n\n  addContact() {\n    this.contacts.push(this.fb.control({\n      contractor_id: this.contractor.id\n    }));\n    this.contractorForm.markAsTouched();\n  }\n\n  get contacts() {\n    return <FormArray>this.contractorForm.get('contacts');\n  }\n\n  save(): void {\n    console.log(this.contractorForm);\n\n    if (!this.contractorForm.valid) {\n      this.snackBar.open('    ', undefined, this.snackBarWithLongDuration);\n\n\n      return;\n    }\n    const body = this.contractorForm.value;\n    if (typeof this.contractor.id === 'number') {\n      this.updateContractor(body);\n    } else {\n      this.createContractor(body);\n    }\n  }\n\n  remove(): void {\n    this.snackBar.open(\" ...\", \"\", this.snackBarWithLongDuration)\n      .afterDismissed().subscribe(res => {\n        if (!res.dismissedByAction) {\n          this.removeContractor();\n        }\n      });\n  }\n\n  get assocAsText(): string {\n    const ids: string[] = this.contractorForm.controls['association_id'].value || [];\n    return ids.map(id => this.associations.find(a => a.id === id)?.name).join(', ');\n  }\n\n\n\n  onContractorTypeChange(e:any){\n    console.log(e);\n\n    if(e?.contact_required){\n      this.contractorForm.get('type_id')!.setValidators([Validators.required]);\n    } else {\n      this.contractorForm.get('type_id')!.setValidators([]);\n      // this.contractorForm.get('type_id')!.clearValidators;\n    }\n  }\n\n  onCountryChange(country:any) {\n    if(country){\n      this.contractorForm.controls['city_id'].reset();\n      this.updateFilteredCityList();\n      this.updateDirectionPointList();\n    }\n  }\n  onCityChange(city:any) {\n    if(city ){\n      this.patchCountryControl(city?.country_id);\n      this.updateDirectionPointList();\n    }\n  }\n  onSvhChange(svh:any){\n    console.log(svh);\n\n    if(svh){\n      this.contractorForm.patchValue({ country_id: svh.country_id, city_id: svh.city_id })\n      this.updateFilteredCityList();\n    }\n  }\n\n  updateFilteredCityList(){\n    const countryId = this.contractorForm.value.country_id;\n    this.filteredCitys = countryId\n    ? this.cities.filter(item => item.country_id == countryId)\n    : this.cities\n  }\n  updateDirectionPointList(){\n    const countryId = this.contractorForm.value.country_id;\n    const cityId = this.contractorForm.value.city_id;\n    if(cityId){\n      this.filteredDirectionPoint=this.directionPoint.filter(item => item.city_id == cityId )\n    } else if (countryId) {\n      this.filteredDirectionPoint=this.directionPoint.filter(item => item.country_id == countryId )\n    } else {\n      // this.filteredDirectionPoint=this.directionPoint;\n    }\n    // this.filteredDirectionPoint = countryId || cityId\n    // ? this.directionPoint.filter(item =>\n    //   item.country_id == countryId || countryId\n    //   &&\n    //   item.city_id == cityId || cityId)\n    // : this.directionPoint\n  }\n\n  patchCountryControl(country_id:any){\n    this.contractorForm.patchValue({\n      country_id: country_id\n    });\n  }\n\n  onCounterpartyChange(counterparty:any){\n    if(counterparty.id==12 && this.filteredDirectionPoint.length<1) {\n      this.snackBar.open(` ,      `, undefined, this.snackBarWithLongDuration)\n      this.filteredDirectionPoint=this.directionPoint;\n    }\n  }\n\n  canSave(): boolean {\n    return this.contractorForm.valid;\n  }\n\n  private updateContractor(body: any) {\n    console.log(body);\n\n    this.contractorService.contractorUpdate({ body }).pipe().subscribe({\n      next: () => {\n        if(this.isNavigateAfterSave){\n          this.goBack();\n        }\n        this.snackBar.open(` `, undefined, this.snackBarWithShortDuration);\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n  private createContractor(body: any) {\n    console.log(body);\n    this.contractorService.contractorCreate({ body }).pipe().subscribe({\n      next: ({ id }) => {\n        if(this.isNavigateAfterSave){\n          this.goBack();\n        } else {\n          this.goToContractor(id);\n        }\n        this.snackBar.open(` `, undefined, this.snackBarWithShortDuration)\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n  private removeContractor() {\n    const body = { id: this.contractor.id! };\n    this.contractorService.contractorDelete({ body }).subscribe({\n      next: () => {\n        this.snackBar.open(' ', undefined, this.snackBarWithShortDuration);\n        this.goBack();\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)\n    });\n  }\n\n\n  // onTransportCarrierChange(i:any){\n  //   this.contractorForm.patchValue({\n  //     carrier_id:i.id\n  //   })\n  // }\n\n  private getTransportCarrier() {\n    return this.transportService.transportCarrier()\n      .pipe(\n        tap((transportCarrier) =>{\n          this.transportCarrier = transportCarrier;\n          this.filteredTransportCarrier = transportCarrier;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getCounterparty() {\n    return this.systemService.systemCounterparty()\n      .pipe(\n        tap((counterpartys) =>{\n          this.filteredCounterpartys = counterpartys as Counterparty[];\n          this.counterpartys = counterpartys as Counterparty[];\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getAssociations() {\n    return this.systemService.systemAssociation()\n      .pipe(\n        tap((associations) =>{\n          this.associations = associations as Association[]\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  private getContractorTypes() {\n    return  this.contractorService.contractorType()\n      .pipe(\n        tap((contractorTypes) =>{\n          this.contractorTypes = contractorTypes as unknown as ContractorType[];\n          this.filteredContractorTypes = contractorTypes as unknown as ContractorType[];\n        } ),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getTaxSystems() {\n    return  this.systemService.systemTaxSystem()\n      .pipe(\n        tap((taxSystems) =>{\n          this.filteredTaxs = taxSystems ? taxSystems as TaxSystem[] : [];\n          this.taxSystems = taxSystems ? taxSystems as TaxSystem[] : [];\n        } ),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  private getCountries() {\n    return this.countryService.getCountries()\n      .pipe(\n        tap((countries) =>{\n          this.filteredCountries = countries;\n          this.countries = countries;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getCities() {\n    return this.directionService.directionCity()\n      .pipe(\n        tap((cities) =>{\n          this.cities = cities;\n          this.filteredCitys = cities;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getDirectionPoint() {\n    return this.directionService.directionPoint({transport_kind_id:1,})\n      .pipe(\n        tap((directionPoint) =>{\n          this.directionPoint = directionPoint;\n          this.filteredDirectionPoint = directionPoint;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  private getRequestFormats() {\n    return this.contractorService.contractorRequestFormat()\n      .pipe(\n        tap((formats) =>{\n          this.requestFormats = formats as unknown as ContractorRequestFormat[];\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n\n  // private getCities(countryId: number) {\n  //   this.cityService.getCities(countryId)\n  //     .subscribe(cities => {\n  //       this.filteredCitys = cities;\n  //       this.cities = cities;\n  //     } );\n  // }\n\n  private getContractor() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    return this.contractorService.contractorInfo({ id }).pipe(\n      tap((contractor) => {\n        console.log(' ', contractor);\n        if (!contractor) {\n          throw { error: { error_message: `  ` } };\n        }\n      }),\n      tap((contractor) => {\n        this.contractor = contractor as unknown as Contractor;\n        const contactsControls = this.contacts;\n\n        //  contractor_id   \n        this.contractor.contacts?.forEach((contact) => {\n          contact.contractor_id = contractor.id;\n          contactsControls.push(this.fb.control(contact));\n        });\n\n        //    \n        this.contractorForm.patchValue(this.contractor);\n\n        //   country_id,  \n        // if (typeof contractor.country_id === 'number') {\n        //   this.getCities(contractor.country_id);\n        // }\n        this.updateFilteredCityList();\n        this.updateDirectionPointList();\n\n\n        //    \n        this.nameForHeader = contractor.name;\n      }),\n      catchError((err) => {\n        this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n        this.goBack();\n        return throwError(() => err); //   \n      })\n    );\n  }\n\n  getCurrency(){\n    return this.systemService.systemCurrency()\n      .pipe(\n        tap((currencyList) =>{\n          this.currencyList=currencyList.current;\n        }),\n        takeUntil(this._destroy$)\n      );\n  }\n  getFormParam(body?:any){\n    this.contractorService.contractorParam({body:body})\n      .pipe(\n        tap((formParams) =>{\n          this.formParams=formParams;\n          console.log('getFormParam body',body);\n          console.log('getFormParam formParams',formParams.required);\n\n        }),\n        takeUntil(this._destroy$)\n      ).subscribe({\n      next: () => {\n        this.applyRequiredValidators();\n        if(!body)this.subscribeDependentFields();\n\n\n      },\n      error: (err) => this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration)});\n  }\n\n  applyRequiredValidators() {\n    console.log('valid', this.formParams, this.contractorForm);\n    this.requiredContactFields=[];\n    this.requiredDirection=false;\n    this.formParams.required?.forEach((required_item:any) => {\n      const control = this.contractorForm.get(required_item.field);\n\n      if (required_item.parent=='contacts') {\n        this.requiredContactFields.push(required_item.field);\n      } else if (required_item.parent=='contacts/direction') {\n        this.requiredDirection=true;\n      } else if (control && !required_item.parent) {\n        control.setValidators(Validators.required);\n        control.updateValueAndValidity();\n      }\n    });\n  }\n\n  subscribeDependentFields(){\n    this.formParams.dependent_fields?.forEach((dependent_field:string) => {\n      this.contractorForm.get(dependent_field)?.valueChanges\n      .pipe(\n        debounceTime(1500),\n        distinctUntilChanged(),\n        takeUntil(this._destroy$),)\n      .subscribe((value: any) => {\n        const body = {\n          dependent_fields: this.formParams.dependent_fields?.map((dependent_field:any) =>\n            ({field: dependent_field, value: this.contractorForm.value[dependent_field]})\n          )\n        }\n        // const body = this.formParams.dependent_fields?.map((dependent_field:any) => ({dependent_fields: [{field: dependent_field, value: this.contractorForm.value[dependent_field]}]}));\n        this.getFormParam(body);\n\n\n      })\n    })\n  }\n\n\n  // private getContractor() {\n  //   const id = Number(this.route.snapshot.paramMap.get('id'));\n  //   return this.contractorService.contractorInfo({ id })\n  //     .pipe(\n  //       tap(contractor => {\n  //       console.log(' ',contractor);\n  //       if (!contractor) {\n  //         throw ({ error: { error_message: `  ` } });\n  //       }\n  //     }))\n  //     .subscribe({\n  //       next: contractor => {\n  //         this.contractor = contractor as unknown as Contractor;\n  //         const contactsControls = this.contacts;\n  //         this.contractor.contacts?.forEach(contact => contact.contractor_id = contractor.id);\n  //         this.contractor.contacts?.forEach(contact => contactsControls.push(this.fb.control(contact)));\n  //         this.contractorForm.patchValue(this.contractor);\n  //         if (typeof contractor.country_id === 'number') {\n  //           this.getCities(contractor.country_id);\n  //         }\n  //         this.nameForHeader = contractor.name;\n  //       },\n  //       error: (err: any) => {\n  //         this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n  //         this.goBack();\n  //       }\n  //     });\n  // }\n\n\n\n\n\n}\n\n// initialization_subscribeForm(){\n  //   // this.subscribeControl_ContractorType();\n  //   this.subscribeControl_CarrierId();\n  //   this.subscribeControl_CountryId();\n  //   this.subscribeControl_CityId();\n  //   this.subscribeControl_CounterpartyId();\n  //   this.subscribeControl_TaxId();\n  // }\n\n  // subscribeControl_ContractorType(){\n  //   this.contractorForm.get('type_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredContractorTypes = this.contractorTypes.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredContractorTypes.length==1){\n  //         if(this.filteredContractorTypes[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             type_id:this.filteredContractorTypes[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CarrierId(){\n  //   this.contractorForm.get('carrier_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredTransportCarrier = this.transportCarrier.filter((item: any) => {\n  //         return item.full_name && item.full_name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredTransportCarrier.length==1){\n  //         if(this.filteredTransportCarrier[0].full_name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             carrier_id: this.filteredTransportCarrier[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CountryId(){\n  //   this.contractorForm.get('country_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCountries = this.countries.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCountries.length==1){\n  //         if(this.filteredCountries[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             country_id: this.filteredCountries[0].id,\n  //           });\n  //           this.onCountryChange(this.filteredCountries[0].id);\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CityId(){\n  //   this.contractorForm.get('city_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCitys = this.cities.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCitys.length==1){\n  //         if(this.filteredCitys[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             city_id: this.filteredCitys[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_CounterpartyId(){\n  //   this.contractorForm.get('counterparty_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredCounterpartys = this.counterpartys.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredCounterpartys.length==1){\n  //         if(this.filteredCounterpartys[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             counterparty_id: this.filteredCounterpartys[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n  // subscribeControl_TaxId(){\n  //   this.contractorForm.get('tax_id')?.valueChanges\n  //   .pipe(\n  //     debounceTime(1000),\n  //     distinctUntilChanged(),\n  //     takeUntil(this._destroy$),\n  //   )\n  //   .subscribe((value: any) => {\n  //     if(typeof value==='string'){\n  //       this.filteredTaxs = this.taxSystems.filter((item: any) => {\n  //         return item.name && item.name.toLowerCase().includes(value.toLowerCase());\n  //       });\n  //       if(this.filteredTaxs.length==1){\n  //         if(this.filteredTaxs[0].name?.toLowerCase()===value.toLowerCase()){\n  //           this.contractorForm.patchValue({\n  //             tax_id: this.filteredTaxs[0].id,\n  //           });\n  //         };\n  //       };\n  //     }\n  //   });\n  // }\n\n  //   displayFn_TaxId(id: any): string {\n  //   if (!this.taxSystems) {\n  //     return '';\n  //   }\n  //   const obj = this.taxSystems.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CounterpartyId(id: any): string {\n  //   if (!this.counterpartys) {\n  //     return '';\n  //   }\n  //   const obj = this.counterpartys.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CityId(id: any): string {\n  //   if (!this.cities) {\n  //     return '';\n  //   }\n  //   const obj = this.cities.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CountryId(id: any): string {\n  //   if (!this.countries) {\n  //     return '';\n  //   }\n  //   const obj = this.countries.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n  // displayFn_CarrierId(id: any): string {\n  //   if (!this.transportCarrier) {\n  //     return '';\n  //   }\n  //   const obj = this.transportCarrier.find(obj => obj.id === id);\n  //   return obj?.full_name || '';\n  // }\n  // displayFn_TypeId(id: any): string {\n  //   if (!this.contractorTypes) {\n  //     return '';\n  //   }\n  //   const obj = this.contractorTypes.find(obj => obj.id === id);\n  //   return obj?.name || '';\n  // }\n\n\n\n","<app-editor-header [title]=\"title\" (save)=\"save()\" (remove)=\"remove()\" [isEditMode]=\"isEditMode\"  [name]=\"nameForHeader\" [backLink]=\"'contractor'\"></app-editor-header>\n\n<form class=\"edit-form\" [formGroup]=\"contractorForm\" (submit)=\"save()\" focusFirstInvalid>\n  <div class=\"form-block\">\n    <div class=\"form-row\">\n      <div class=\"form-item-layout\">\n\n        <div class=\"form-data form-item torg\">\n          <label>\n            <input type=\"checkbox\" formControlName=\"allow_trade\">\n            <i> </i>\n            <span> </span>\n          </label>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\"></div>\n          <div class=\"form-data\">\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'type_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"type_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"contractorTypes\" (change)=\"onContractorTypeChange($event)\"></ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'type_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\"> : <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n            <input matInput type=\"text\" formControlName=\"type_id\" [matAutocomplete]=\"type_id\">\n            <mat-autocomplete #type_id=\"matAutocomplete\" [displayWith]=\"displayFn_TypeId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredContractorTypes\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n            </mat-autocomplete>\n            <mat-error *ngIf=\"contractorForm.controls['type_id'].hasError('required')\">\n                \n            </mat-error>\n          </div>\n        </div> -->\n\n        <div class=\"form-item\">\n           <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'language_id'}\"></ng-container>\n          </div>\n           <div class=\"form-data\">\n            <ng-select formControlName=\"language_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"[{name:'',id:'en'},{name:'',id:'ru'}]\"></ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'language_id'}\"></ng-container>\n            <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"language_id\" panelClass=\"panel-class-name\">\n                <mat-option value=\"en\"></mat-option>\n                <mat-option value=\"ru\"></mat-option>\n              </mat-select>\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'language_id'}\"></ng-container>\n            </mat-form-field> -->\n           </div>\n         </div>\n\n\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: </div>\n          <div class=\"form-data\">\n            <input appearance=\"outline\" class=\"ui-select\"\n              type=\"text\"\n              formControlName=\"carrier_name\"\n              [matAutocomplete]=\"auto\"\n              (ngModelChange)=\"onChange($event)\"\n              placeholder=\"\" >\n            <mat-autocomplete  #auto=\"matAutocomplete\">\n              <mat-option class=\"\" *ngFor=\"let customer of transportCarrier;\" [value]=\"customer.name\" (click)=\"onTransportCarrierChange(customer)\">{{ customer.name }}</mat-option>\n            </mat-autocomplete>\n          </div>\n        </div> -->\n\n      </div>\n\n    </div>\n    <div class=\"form-row\">\n      <input type=\"hidden\" formControlName=\"id\">\n\n      <div class=\"form-item-layout\">\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               :\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'name'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <input type=\"text\" name=\"name\" formControlName=\"name\" placeholder=\"\">\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'name'}\"></ng-container>\n            </div>\n          </div>\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               (, Rec   .):\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'ind'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <input type=\"text\" name=\"ind\" formControlName=\"ind\" placeholder=\"\">\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'ind'}\"></ng-container>\n            </div>\n          </div>\n\n          <div class=\"form-item\">\n            <div class=\"form-label\">\n               :\n              <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'country_id'}\"></ng-container>\n            </div>\n            <div class=\"form-data\">\n              <ng-select formControlName=\"country_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"countries\" (change)=\"onCountryChange($event)\"></ng-select>\n              <!-- <input matInput type=\"text\" formControlName=\"country_id\" [matAutocomplete]=\"country_id\" >\n              <mat-autocomplete #country_id=\"matAutocomplete\" [displayWith]=\"displayFn_CountryId.bind(this)\">\n                <mat-option *ngFor=\"let option of filteredCountries\" [value]=\"option.id\" (click)=\"onCountryChange(option.id)\">\n                  {{option.name}}\n                </mat-option>\n                <mat-option *ngIf=\"filteredCountries.length==0\" disabled > </mat-option>\n              </mat-autocomplete> -->\n              <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'country_id'}\"></ng-container>\n            </div>\n          </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n             <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"country_id\" (valueChange)=\"onCountryChange($event)\">\n                <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['country_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n         </div> -->\n\n        <div class=\"form-item\">\n        <div class=\"form-label\">\n          :\n          <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'city_id'}\"></ng-container>\n        </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"city_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"filteredCitys\" (change)=\"onCityChange($event)\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"city_id\" [matAutocomplete]=\"city_id\" >\n            <mat-autocomplete #city_id=\"matAutocomplete\" [displayWith]=\"displayFn_CityId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredCitys\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredCitys.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'city_id'}\"></ng-container>\n          </div>\n        </div>\n\n         <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: <span class=\"req\"></span></div>\n           <mat-form-field appearance=\"outline\" class=\"ui-select\">\n             <mat-select formControlName=\"city_id\">\n               <mat-option *ngFor=\"let city of cities;\" [value]=\"city.id\">{{ city.name }}</mat-option>\n             </mat-select>\n             <mat-error *ngIf=\"contractorForm.controls['city_id'].hasError('required')\">\n                 \n             </mat-error>\n           </mat-form-field>\n         </div> -->\n\n      </div>\n\n\n\n      <div class=\"form-item-layout\">\n        <div class=\"form-item w50\">\n          <div class=\"form-label\">\n            :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'address'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"address\" formControlName=\"address\" placeholder=\"\">\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'address'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'phone'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"phone\" formControlName=\"phone\" placeholder=\"\" appPhoneMask>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'phone'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'web'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <input type=\"text\" name=\"web\" formControlName=\"web\" placeholder=\"\">\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'web'}\"></ng-container>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"form-item-layout\">\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'counterparty_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"counterparty_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"counterpartys\" (change)=\"onCounterpartyChange($event)\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"counterparty_id\" [matAutocomplete]=\"counterparty_id\" >\n            <mat-autocomplete #counterparty_id=\"matAutocomplete\" [displayWith]=\"displayFn_CounterpartyId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredCounterpartys\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredCounterpartys.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'counterparty_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\">: <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n            <input matInput type=\"text\" formControlName=\"carrier_id\" [matAutocomplete]=\"carrier_id\">\n            <mat-autocomplete #carrier_id=\"matAutocomplete\" [displayWith]=\"displayFn_CarrierId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredTransportCarrier\" [value]=\"option.id\">\n                {{ option.full_name }}\n              </mat-option>\n            </mat-autocomplete>\n          </div>\n        </div> -->\n\n        <div class=\"form-item\" *ngIf=\"contractorForm.value.counterparty_id!=12\">\n          <div class=\"form-label\">\n            :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'carrier_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"carrier_id\" class=\"custom\" bindLabel=\"full_name\" bindValue=\"id\"\n              [closeOnSelect]=\"false\"\n              [multiple]=\"true\"\n              [items]=\"transportCarrier\"\n              [placeholder]=\"contractorForm.value.carrier_id?.length>0\n                ? ' .: ' + contractorForm.value.carrier_id.length\n                : '' \"\n            >\n              <ng-template ng-multi-label-tmp let-items=\"items\" let-clear=\"clear\">\n\n              </ng-template>\n            </ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'carrier_id'}\"></ng-container>\n          </div>\n        </div>\n\n        <div class=\"form-item\" *ngIf=\"contractorForm.value.counterparty_id==12\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'svh_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"svh_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"filteredDirectionPoint\" (change)=\"onSvhChange($event)\"></ng-select>\n            <!-- <ng-select formControlName=\"svh_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"directionPoint\"></ng-select> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'svh_id'}\"></ng-container>\n          </div>\n        </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n            <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"type_id\">\n                <mat-option *ngFor=\"let type of contractorTypes; let i=index\" [value]=\"i+1\">{{ type.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['type_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n         </div> -->\n\n\n\n\n        <!-- <div class=\"form-item\">\n          <div class=\"form-label\"> : <span class=\"req\"></span></div>\n          <div class=\"form-data\">\n           <mat-form-field appearance=\"outline\" class=\"ui-select\">\n             <mat-select formControlName=\"counterparty_id\">\n               <mat-option *ngFor=\"let type of counterpartys;\"  [value]=\"type.id\">{{ type.name }}</mat-option>\n             </mat-select>\n             <mat-error *ngIf=\"contractorForm.controls['counterparty_id'].hasError('required')\">\n\n                 \n             </mat-error>\n           </mat-form-field>\n          </div>\n        </div> -->\n\n         <div class=\"form-item\">\n           <div class=\"form-label\">\n              :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'association_id'}\"></ng-container>\n          </div>\n           <div class=\"form-data\">\n            <ng-select formControlName=\"association_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"associations\" [multiple]=\"true\"\n              [placeholder]=\"contractorForm.value.association_id?.length>0\n                ? ' .: ' + contractorForm.value.association_id.length\n                : '' \"\n                [closeOnSelect]=\"false\"\n              >\n              <ng-template ng-multi-label-tmp let-items=\"items\" let-clear=\"clear\"></ng-template>\n            </ng-select>\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'association_id'}\"></ng-container>\n            <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"association_id\" multiple>\n                <mat-select-trigger>\n                  {{ assocAsText }}\n                </mat-select-trigger>\n                <mat-option *ngFor=\"let assoc of associations\" [value]=\"assoc.id\">{{assoc.name}}</mat-option>\n              </mat-select>\n\n            </mat-form-field> -->\n           </div>\n         </div>\n\n        <div class=\"form-item\">\n          <div class=\"form-label\">\n             :\n            <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'tax_id'}\"></ng-container>\n          </div>\n          <div class=\"form-data\">\n            <ng-select formControlName=\"tax_id\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"taxSystems\"></ng-select>\n            <!-- <input matInput type=\"text\" formControlName=\"tax_id\" [matAutocomplete]=\"tax_id\" >\n            <mat-autocomplete #tax_id=\"matAutocomplete\" [displayWith]=\"displayFn_TaxId.bind(this)\">\n              <mat-option *ngFor=\"let option of filteredTaxs\" [value]=\"option.id\">\n                {{option.name}}\n              </mat-option>\n              <mat-option *ngIf=\"filteredTaxs.length==0\" disabled > </mat-option>\n            </mat-autocomplete> -->\n            <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'tax_id'}\"></ng-container>\n          </div>\n        </div>\n      </div>\n\n         <!-- <div class=\"form-item\">\n           <div class=\"form-label\"> : <span class=\"req\"></span></div>\n           <div class=\"form-data\">\n            <mat-form-field appearance=\"outline\" class=\"ui-select\">\n              <mat-select formControlName=\"tax_id\">\n                <mat-option *ngFor=\"let taxSystem of taxSystems\" [value]=\"taxSystem.id\">{{ taxSystem.name }}</mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"contractorForm.controls['tax_id'].hasError('required')\">\n                  \n              </mat-error>\n            </mat-form-field>\n           </div>\n        </div>\n       </div> -->\n\n    </div>\n\n    <div class=\"form-row sep\" *ngIf=\"contractorForm.value.allow_trade\">\n        :\n      <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'request_format_id'}\"></ng-container>\n      <label *ngFor=\"let format of requestFormats\">\n        <input type=\"radio\" formControlName=\"request_format_id\" [value]=\"format.id\">\n        <i></i>\n        <span>{{ format.name }}</span>\n      </label>\n      <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'request_format_id'}\"></ng-container>\n    </div>\n\n    <div class=\"form-row\" >\n      <div class=\"form-item\" style=\"width: 100px;\">\n        <div class=\"form-label\">\n            \n          <ng-container *ngTemplateOutlet=\"inputLabelReq; context: { field: 'currency'}\"></ng-container>\n        </div>\n        <div class=\"form-data\">\n        <ng-select formControlName=\"currency\" class=\"custom\" bindLabel=\"code\" bindValue=\"id\" [items]=\"currencyList\"></ng-select>\n        <ng-container *ngTemplateOutlet=\"inputError; context: { field: 'currency'}\"></ng-container>\n        <!-- <mat-form-field appearance=\"outline\" class=\"ui-select\">\n          <mat-select formControlName=\"currency\">\n            <mat-option *ngFor=\"let currency of currencyList\" [value]=\"currency.id\">{{currency.code}}</mat-option>\n          </mat-select>\n        </mat-form-field> -->\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"form-block-title\"></div>\n  <div class=\"form-block\">\n\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <app-rating name=\"rating_nps\" formControlName=\"rating_nps\"></app-rating>\n      <div class=\"link\">\n        <a href=\"#\"></a>\n      </div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <app-rating name=\"user_rating_nps\" formControlName=\"user_rating_nps\"></app-rating>\n      <div class=\"link\">\n        <a href=\"#\"></a>\n      </div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">    :</div>\n      <div class=\"data flags\">\n        <span class=\"plus\">{{ contractor.review_positive_count }}</span>\n        <span class=\"minus\">{{ contractor.review_negative_count }}</span>\n        <span class=\"neutral\">{{ contractor.review_neutral_count }}</span>\n      </div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\">  :</div>\n      <div class=\"data\">{{contractor.order_count}}</div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n    <div class=\"form-row-sm\">\n      <div class=\"title\"> %  :</div>\n      <div class=\"data flags\">\n        <span class=\"win\">{{contractor.trade_success_count}}</span>\n        <span class=\"fail\">{{contractor.trade_fail_count}}</span>\n      </div>\n      <div class=\"link\"><a href=\"#\"></a></div>\n    </div>\n  </div>\n\n\n  <div formArrayName=\"contacts\">\n  <div class=\"user-item\" *ngFor=\"let contact of contacts.controls; let i=index\">\n    <div class=\"form-block-title\">  {{i + 1}}<span class=\"btn v del\" (click)=\"removeContact(i)\"></span></div>\n    <app-contact-editor [homeCountryId]=\"contractorForm.controls['country_id'].value\" [countries]=\"countries\" [formControlName]=\"i\" [requiredFields]=\"requiredContactFields\" [requiredDirection]=\"requiredDirection\"></app-contact-editor>\n  </div>\n\n  <div class=\"user-item\">\n    <div class=\"form-block-title\">  {{contacts.length + 1}}<span class=\"btn v add\" (click)=addContact()></span></div>\n  </div>\n  <mat-error *ngIf=\"contacts.errors?.['required'] && (contractorForm.touched || contractorForm.dirty)\">\n         .\n  </mat-error>\n  </div>\n\n  <div class=\"hdr ftr\">\n    <div class=\"title\">\n    </div>\n    <div class=\"fn\">\n      <button class=\"btn v save\" type=\"submit\" ><span></span></button>\n      <button class=\"btn v del\" *ngIf=\"isEditMode\" (click)=\"remove()\"><span></span></button>\n      <button class=\"btn v cancel\" (click)=\"goBack()\"><span></span></button>\n    </div>\n  </div>\n\n</form>\n\n\n<ng-template #inputError let-field=\"field\">\n  <mat-error *ngIf=\"contractorForm.controls[field].hasError('required') && contractorForm.controls[field].touched\">\n      \n  </mat-error>\n</ng-template>\n\n<ng-template #inputLabelReq let-field=\"field\">\n  <span *ngIf=\"isRequiredField(field)\" class=\"req\"></span>\n</ng-template>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'app-rating',\n  templateUrl: './rating.component.html',\n  styleUrls: ['./rating.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: RatingComponent\n    }\n  ]\n})\nexport class RatingComponent implements OnInit, ControlValueAccessor {\n  @Input() total: number = 10;\n  @Input() units: string = 'NPS';\n\n  score: number = 0;\n  stars = new Array<boolean>(this.total).fill(false);\n  isDisabled = false;\n  private touched = false;\n\n  onChange = (value: number) => {};\n  onTouched = () => {};\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  writeValue(score: number): void {\n    this.score = +score;\n    this.fillStars();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n  \n  setDisabledState(isDisabled: boolean): void {\n    this.isDisabled = isDisabled; \n  }\n\n  getAsText(): string {\n    return `${this.score}/${this.total} ${this.units}`;\n  }\n  \n  setScore(score: number): void {\n    if (this.isDisabled) {\n      return;\n    }\n    this.score = score;\n    this.fillStars();\n    this.onChange(this.score);\n    if (!this.touched) {\n      this.touched = true;\n      this.onTouched();\n    }\n  }\n  \n  fillStars(): void {\n    for (let i = 0; i < this.total; i++) {\n      this.stars[i] = i < this.score;\n    }\n  }\n\n}\n","<div class=\"data\">\n  {{score}}/{{total}} {{units}}\n  <span class=\"stars\" [ngClass]=\"{'disabled': isDisabled}\">\n    <span *ngFor=\"let star of stars; let i=index\" [ngClass]=\"{'sel': star}\" (click)=\"setScore(i + 1)\"></span>\n  </span>\n</div>","import { Component, Input, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country, Responsibilities } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\nimport { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\n\n@Component({\n  selector: 'app-responsibility-matrix',\n  templateUrl: './responsibility-matrix.component.html',\n  styleUrls: ['./responsibility-matrix.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityMatrixComponent\n    }\n  ]\n})\nexport class ResponsibilityMatrixComponent implements ControlValueAccessor {\n  @Input() countries: Country[] = [];\n  @Input() homeCountry: Country = unknownCountry;\n  @Input() type: 'import' | 'export' = 'export';\n  onChange = (value: any) => { };\n  onTouched = () => { };\n\n  // New country\n  country?: Country;\n  filteredCountries: Country[] = [];\n\n  kinds = transportSubKindTable;\n  responsibilities: Responsibilities = {};\n\n  targetCountries: Country[] = [];\n  disabled: boolean = false;\n  constructor() { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const homeCountryChange = changes['homeCountry'];\n    if (homeCountryChange) {\n      if (this.homeCountry) {\n        const homeCountryId = this.homeCountry.id;\n        delete this.responsibilities[homeCountryId];\n        this.targetCountries = this.targetCountries.filter(({ id }) => id !== homeCountryId);\n      }\n    }\n  }\n\n  writeValue(responsibilityParam: Responsibilities): void {\n    this.responsibilities = responsibilityParam || {};\n    this.targetCountries = Object.keys(this.responsibilities)\n      .filter(countryId => Number(countryId) !== this.homeCountry.id)\n      .map(countryId => this.getCountryById(countryId)!)\n      .sort(byName);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  doFilter(country: Country | string): void {\n    this.filteredCountries = this.countries.filter(c => {\n      const value = typeof country === 'string' ? country : country.name!;\n      return c.name!.toLowerCase().includes(value.toLowerCase()) && !(c.id in this.responsibilities && c.id === this.homeCountry.id);\n    });\n  }\n\n  displayFn(country: Country): string {\n    return country && country.name ? country.name : '';\n  }\n\n  addCountry(): void {\n    this.targetCountries.push(this.country!);\n    console.log(this.targetCountries);\n\n    this.targetCountries.sort(byName);\n    this.responsibilities[this.country!.id] = [];\n    this.country = undefined;\n    this.valueChanged();\n  }\n\n  getCountryById(id: string | number): Country | undefined {\n    return this.countries.find(country => country.id === Number(id));\n  }\n\n  removeCountry(countryId: number | string): void {\n    const index = this.targetCountries.findIndex(({ id }) => id === Number(countryId))\n    if (index >= 0) {\n      this.targetCountries.splice(index, 1);\n    }\n    delete this.responsibilities[countryId];\n    this.valueChanged();\n  }\n\n\n  allChecked(): boolean {\n    const countChecked = this.getCountChecked();\n    return this.targetCountries.length > 0 && countChecked === this.targetCountries.length * TransportSubKinds.length;\n  }\n\n  allComplete(): boolean {\n    const countChecked = this.getCountChecked();\n    return countChecked === 0 || countChecked === this.targetCountries.length * TransportSubKinds.length;\n  }\n\n  private getCountChecked(): number {\n    return this.targetCountries.map(({ id }) => this.responsibilities[id].length).reduce((sum, count) => sum + count, 0);\n  }\n\n  allChange({ checked }: MatCheckboxChange): void {\n    this.targetCountries.forEach(({ id }) => this.responsibilities[id] = checked ? [...TransportSubKinds] : []);\n    this.valueChanged();\n  }\n\n  allCheckedForKind(kind: TransportSubKind): boolean {\n    return this.targetCountries.length > 0 && this.getCheckedForKind(kind) === this.targetCountries.length;\n  }\n\n  allCompleteForKind(kind: TransportSubKind): boolean {\n    const checked = this.getCheckedForKind(kind);\n    return checked === 0 || checked === this.targetCountries.length;\n  }\n\n  private getCheckedForKind(kind: TransportSubKind): number {\n    return this.targetCountries.map(({ id }) => this.responsibilities[id].includes(kind)).reduce((sum, checked) => checked ? sum + 1 : sum, 0)\n  }\n\n  allChangeForKind(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    this.targetCountries.forEach(({ id }) => {\n      const kinds = this.responsibilities[id];\n      if (checked) {\n        if (!kinds.includes(kind)) {\n          kinds.push(kind);\n        }\n      } else {\n        this.responsibilities[id] = kinds.filter(aKind => aKind !== kind);\n      }\n    });\n    this.valueChanged();\n  }\n\n  allCheckedForCountry(countryId: number | string): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.length === TransportSubKinds.length;\n  }\n\n  allCompleteForCountry(countryId: number | string): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.length === TransportSubKinds.length || kinds.length === 0;\n  }\n\n  allChangeForCountry(countryId: number | string, { checked }: MatCheckboxChange): void {\n    if (checked) {\n      this.responsibilities[countryId] = [...TransportSubKinds];\n    } else {\n      this.responsibilities[countryId] = [];\n    }\n    this.valueChanged();\n  }\n\n  checkedForCountryAndKind(countryId: number | string, kind: TransportSubKind): boolean {\n    const kinds = this.responsibilities[countryId];\n    return kinds.includes(kind);\n  }\n\n  changeForCountryAndKind(countryId: number | string, kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.responsibilities[countryId];\n    if (checked) {\n      kinds.push(kind);\n    } else {\n      this.responsibilities[countryId] = kinds.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    const value = { ...this.responsibilities };\n    delete value[this.homeCountry.id];\n    this.onChange(value);\n    this.onTouched();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n\nconst byName = (a: Country, b: Country) => a.name!.localeCompare(b.name!);\n","<table class=\"t1\" *ngIf=\"!disabled\">\n  <tbody>\n    <tr>\n      <th class=\"name\">\n        <div *ngIf=\"type === 'export'\">  {{homeCountry.name_from}}\n          <span [ngPlural]=\"targetCountries.length\">\n            <ng-template ngPluralCase=\"=0\"></ng-template>\n            <ng-template ngPluralCase=\"=1\">  </ng-template>\n            <ng-template ngPluralCase=\"=2\">  </ng-template>\n            <ng-template ngPluralCase=\"few\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"many\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"other\"> {{targetCountries.length}} </ng-template>\n          </span>:\n        </div>\n        <div *ngIf=\"type === 'import'\">  {{homeCountry.name_to}}\n          <span [ngPlural]=\"targetCountries.length\">\n            <ng-template ngPluralCase=\"=0\"></ng-template>\n            <ng-template ngPluralCase=\"=1\">  </ng-template>\n            <ng-template ngPluralCase=\"=2\">  </ng-template>\n            <ng-template ngPluralCase=\"few\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"many\"> {{targetCountries.length}} </ng-template>\n            <ng-template ngPluralCase=\"other\"> {{targetCountries.length}} </ng-template>\n          </span>:\n        </div>\n        <input type=\"text\" placeholder=\"   ...\" matInput [(ngModel)]=\"country\" (ngModelChange)=\"doFilter($event)\"\n          [matAutocomplete]=\"auto\">\n        <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\" (optionSelected)=\"addCountry()\">\n          <mat-option *ngFor=\"let country of filteredCountries\" [value]=\"country\">\n            {{country.name}}\n          </mat-option>\n        </mat-autocomplete>\n      </th>\n      <th class=\"all bg s e\">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allChecked()\" [indeterminate]=\"!allComplete()\" (change)=\"allChange($event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <div class=\"l\"><span class=\"ico\" [ngClass]=\"kind.type\"></span><span>{{kind.name}}</span></div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allCheckedForKind(kind.kind)\" [indeterminate]=\"!allCompleteForKind(kind.kind)\"\n            (change)=\"allChangeForKind(kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n    </tr>\n\n    <tr class=\"row\" *ngFor=\"let country of targetCountries; let i = index\">\n      <td class=\"name\">\n        <div>\n          <span>{{ country.name }}</span>\n          <span class=\"del\" (click)=\"removeCountry(country.id)\"></span>\n        </div>\n      </td>\n      <td class=\"bg s e\">\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allCheckedForCountry(country.id)\" [indeterminate]=\"!allCompleteForCountry(country.id)\"\n            (change)=\"allChangeForCountry(country.id, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n      <td *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"checkedForCountryAndKind(country.id, kind.kind)\"\n            (change)=\"changeForCountryAndKind(country.id, kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n    </tr>\n  </tbody>\n</table>\n","import { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\nimport { Component, Input, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\n\n@Component({\n  selector: 'app-responsibility-row',\n  templateUrl: './responsibility-row.component.html',\n  styleUrls: ['./responsibility-row.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityRowComponent\n    }\n  ]\n})\nexport class ResponsibilityRowComponent implements ControlValueAccessor {\n\n  @Input() homeCountry: Country = unknownCountry;\n  onChange = (value: any) => { };\n  onTouched = () => { };\n\n  kinds = transportSubKindTable;\n  local: TransportSubKind[] = [];\n  disabled: boolean = false;\n\n  constructor(\n  ) {\n  }\n\n  writeValue(local?: TransportSubKind[]): void {\n    this.local = local || [];\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  allChecked(): boolean {\n    return this.local.length === TransportSubKinds.length;\n  }\n\n  allComplete(): boolean {\n    const kinds = this.local;\n    return kinds.length === TransportSubKinds.length || kinds.length === 0;\n  }\n\n  onAllChange({ checked }: MatCheckboxChange): void {\n    if (checked) {\n      this.local = [...TransportSubKinds];\n    } else {\n      this.local = [];\n    }\n    this.valueChanged();\n  }\n\n  isKindChecked(kind: TransportSubKind): boolean {\n    const kinds = this.local;\n    return kinds.includes(kind);\n  }\n\n  onKindChange(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.local;\n    if (checked) {\n      kinds.push(kind);\n    } else {\n      this.local = kinds.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    this.onChange(this.local);\n    this.onTouched();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n\n\n","<table class=\"t1\" *ngIf=\"!disabled\">\n  <tbody>\n    <tr>\n      <th class=\"name\">\n        <div>  {{ homeCountry.name_from }}:</div>\n      </th>\n      <th class=\"all bg s e\">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"allChecked()\" [indeterminate]=\"!allComplete()\" (change)=\"onAllChange($event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\">\n        <div class=\"l\"><span class=\"ico\" [ngClass]=\"kind.type\"></span><span>{{kind.name}}</span></div>\n        <label>\n          <mat-checkbox class=\"show-all\" [checked]=\"isKindChecked(kind.kind)\" (change)=\"onKindChange(kind.kind, $event)\"></mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n    </tr>\n  </tbody>\n</table>","import { Component, Input, OnInit, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {  MatCheckboxChange } from '@angular/material/checkbox';\nimport { Country, AreaOfResponsibility } from 'src/app/api/custom_models';\nimport { TransportSubKind, TransportSubKinds } from 'src/app/api/custom_models/transport';\nimport { transportSubKindTable, unknownCountry } from 'src/app/shared/constants';\nimport { TransportService } from 'src/app/api/services/transport.service';\nimport { Subject, takeUntil, tap } from 'rxjs';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\n\n\n@Component({\n  selector: 'app-responsibility',\n  templateUrl: './responsibility.component.html',\n  styleUrls: ['./responsibility.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ResponsibilityComponent\n    }\n  ]\n})\nexport class ResponsibilityComponent implements ControlValueAccessor, OnInit {\n  @Input() countries: Country[] = [];\n  @Input() homeCountry: Country = unknownCountry;\n  @Input() type: 'import' | 'export' = 'export';\n  @Input() requiredDirection: boolean=false;\n  onChange = (value: any) => { };\n  onTouched = () => { };\n  private _destroy$ = new Subject();\n\n  allCountry: Country[]=[];\n  filteredCountries: Country[] = [];\n  // kinds = transportSubKindTable;\n  kinds:any\n  transportSubKindsLength:number=0;\n  allTransportSubKinds:any;\n  directions: AreaOfResponsibility[]=[];\n\n  snackBarWithShortDuration: MatSnackBarConfig = { duration: 1000 };\n  snackBarWithLongDuration: MatSnackBarConfig = { duration: 3000 };\n\n  constructor(\n    private transportService: TransportService,\n    private snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit(): void {\n    this.getTransportSubKind()\n    this.allCountry=[...this.countries,{id:0,name:''}];\n    this.directions.forEach((dir:any)=>{\n      if(!dir.direction_arrival){ dir.direction_arrival=0 }\n      if(!dir.direction_departure){ dir.direction_departure=0 }\n\n    })\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n\n\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n\n  writeValue(responsibilityParam: AreaOfResponsibility[]): void {\n    console.log('writeValue',responsibilityParam);\n    this.directions.push(...responsibilityParam);\n    if(this.directions.length===0){\n      this.addDirection();\n    }\n\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setClassIcon(kind:any){\n    let classIcon='';\n    if(kind.kind_id===1) classIcon='air';\n    if(kind.kind_id===2) classIcon='road';\n    if(kind.kind_id===3) classIcon='rail';\n    if(kind.kind_id===4) classIcon='sea';\n    return classIcon;\n  }\n\n  // setClassTh(){\n\n  // }\n\n  addDirection(){\n    this.directions.push({\n      direction_departure: 0,\n      direction_arrival: 0,\n      direction_items:[]\n    });\n\n    console.log(this.directions);\n    this.valueChanged();\n  }\n\n  removeDirection(countryId: number ): void {\n    this.directions.splice(countryId, 1);\n    this.valueChanged();\n  }\n\n  allChecked(): boolean {\n    const countChecked = this.getCountChecked();\n    // return this.directions.length > 0 && countChecked === this.directions.length * TransportSubKinds.length;\n    return this.directions.length > 0 && countChecked === this.directions.length * this.transportSubKindsLength;\n  }\n\n  allComplete(): boolean {\n    const countChecked = this.getCountChecked();\n    // return countChecked === 0 || countChecked === this.directions.length * TransportSubKinds.length;\n    return countChecked === 0 || countChecked === this.directions.length * this.transportSubKindsLength;\n  }\n\n  private getCountChecked(): number {\n    return this.directions.map((e) => e.direction_items!.length).reduce((sum, count) => sum + count, 0);\n  }\n\n  allChange({ checked }: any): void {\n    // this.directions.forEach(( e) => e.direction_items = checked ? [...TransportSubKinds] : []);\n    this.directions.forEach(( e) => e.direction_items = checked ? this.allTransportSubKinds : []);\n    this.valueChanged();\n  }\n\n  allCheckedForKind(kind: TransportSubKind): boolean {\n    return this.directions.length > 0 && this.getCheckedForKind(kind) === this.directions.length;\n  }\n\n  allCompleteForKind(kind: TransportSubKind): boolean {\n    const checked = this.getCheckedForKind(kind);\n    return checked === 0 || checked === this.directions.length;\n  }\n\n  private getCheckedForKind(kind: TransportSubKind): number {\n    return this.directions.map(( e ) => e.direction_items?.includes(kind)).reduce((sum, checked) => checked ? sum + 1 : sum, 0)\n  }\n\n  allChangeForKind(kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    this.directions.forEach((e) => {\n      const kinds = e.direction_items;\n      if (checked) {\n        if (!kinds?.includes(kind)) {\n          kinds?.push(kind);\n        }\n      } else {\n        e.direction_items = kinds?.filter(aKind => aKind !== kind);\n      }\n    });\n    this.valueChanged();\n  }\n\n  allCheckedForCountry(i: number ): boolean {\n    const kinds = this.directions[i].direction_items;\n    // return kinds?.length === TransportSubKinds.length;\n    return this.transportSubKindsLength === kinds?.length  ;\n  }\n\n  allCompleteForCountry(i: number): boolean {\n    const kinds = this.directions[i].direction_items;\n    // return kinds?.length === TransportSubKinds.length || kinds?.length === 0;\n    return kinds?.length === this.transportSubKindsLength || kinds?.length === 0;\n  }\n\n  allChangeForCountry(i: number , { checked }: MatCheckboxChange): void {\n    if (checked) {\n      // this.directions[i].direction_items = [...TransportSubKinds];\n      this.directions[i].direction_items = this.allTransportSubKinds;\n\n\n\n    } else {\n      this.directions[i].direction_items = [];\n    }\n    this.valueChanged();\n  }\n\n  checkedForCountryAndKind(i: number, kind: TransportSubKind): boolean {\n    const kinds = this.directions[i].direction_items;\n    return kinds? kinds.includes(kind) : false;\n  }\n\n  changeForCountryAndKind(i: number, kind: TransportSubKind, { checked }: MatCheckboxChange): void {\n    const kinds = this.directions[i].direction_items;\n    if (checked) {\n      kinds?.push(kind);\n    } else {\n      this.directions[i].direction_items = kinds?.filter(aKind => kind !== aKind);\n    }\n    this.valueChanged();\n  }\n\n  valueChanged(): void {\n    const value = [ ...this.directions ];\n    this.onChange(value);\n    this.onTouched();\n    console.log(123123123);\n\n  }\n\n  //  \n  //  (airline and airline iata)\n  private getTransportSubKind():void{\n    this.transportService.transportSubKind()\n      .pipe(\n        tap((transportCarrier:any) => {\n          console.log(transportCarrier);\n\n          if (!transportCarrier) {\n            throw ({ error: { error_message: `  ` } });\n          }\n        }),\n        takeUntil(this._destroy$),\n      )\n      .subscribe({\n        next: (transportCarrier) => {\n          const sorted = transportCarrier.sort((user1:any, user2:any) => user1['kind_id'] > user2['kind_id'] ? 1 : -1);\n          this.kinds=sorted;\n          this.transportSubKindsLength=this.kinds.length;\n          let test:any=[];\n          sorted.forEach((i:any)=>{\n            test.push(i.id)\n          })\n          this.allTransportSubKinds=test\n          console.log(this.allTransportSubKinds);\n\n        },\n        error: (err: any) => {\n          this.snackBar.open(`  : ` + err.error.error_message, undefined, this.snackBarWithShortDuration);\n        }\n      });\n  }\n}\n\n","<table class=\"t1\">\n  <tbody>\n    <tr>\n\n      <th class=\"name pm0\">\n        <div class=\"table-header\">\n          <div class=\"tab-title\"> :</div>\n\n          <label class=\"tab-subtitles\">\n            <div class=\"subtitle\"> </div>\n            <div class=\"subtitle\"> </div>\n\n          </label>\n        </div>\n      </th>\n\n      <th class=\"all bg \">\n        <div class=\"l\"> </div>\n        <label>\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allChecked()\"\n            [indeterminate]=\"!allComplete()\"\n            (change)=\"allChange($event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n\n      <!-- <th *ngFor=\"let kind of kinds\" [ngClass]=\"kind.classes\"> -->\n      <th *ngFor=\"let kind of kinds\" [ngClass]=\"setClassIcon(kind)\">\n        <div class=\"l\">\n          <span class=\"ico\" [ngClass]=\"setClassIcon(kind)\"></span>\n          <span>{{kind.name}}</span>\n        </div>\n        <label>\n          <!-- <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allCheckedForKind(kind.kind)\"\n            [indeterminate]=\"!allCompleteForKind(kind.kind)\"\n            (change)=\"allChangeForKind(kind.kind, $event)\">\n          </mat-checkbox> -->\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"allCheckedForKind(kind.id)\"\n            [indeterminate]=\"!allCompleteForKind(kind.id)\"\n            (change)=\"allChangeForKind(kind.id, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </th>\n\n    </tr>\n\n    <tr class=\"row\" *ngFor=\"let direction of directions; let i = index\">\n      <td>\n\n        <div class=\"dir-block\">\n          <!-- <mat-form-field appearance=\"outline\" class=\"ui-select mw50 \"> -->\n            <ng-select style=\"width: 100%; margin-right: 10px;\" required (change)=\"valueChanged()\" [(ngModel)]=\"direction.direction_departure\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"allCountry\"></ng-select>\n            <!-- <mat-select [(ngModel)]=\"direction.direction_departure\" class=\"border-none\">\n              <mat-option [value]=\"0\">--   --</mat-option>\n              <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n            </mat-select> -->\n          <!-- </mat-form-field> -->\n           <ng-select style=\"width: 100%; margin-right: 10px;\" required (change)=\"valueChanged()\" [(ngModel)]=\"direction.direction_arrival\" class=\"custom\" bindLabel=\"name\" bindValue=\"id\" [items]=\"allCountry\"></ng-select>\n\n          <!-- <mat-form-field appearance=\"outline\" class=\"ui-select mw50\">\n            <mat-select [(ngModel)]=\"direction.direction_arrival\">\n              <mat-option [value]=\"0\">--   --</mat-option>\n              <mat-option *ngFor=\"let country of countries;\" [value]=\"country.id\">{{ country.name }}</mat-option>\n            </mat-select>\n          </mat-form-field> -->\n\n          <span class=\"btn-del\" (click)=\"removeDirection(i)\"></span>\n        </div>\n\n      </td>\n\n      <td class=\"bg s e\">\n        <label>\n          <mat-checkbox class=\"show-all testclass\"\n            [checked]=\"allCheckedForCountry(i)\"\n            [indeterminate]=\"!allCompleteForCountry(i)\"\n            (change)=\"allChangeForCountry(i, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n\n      <td *ngFor=\"let kind of kinds\" [ngClass]=\"setClassIcon(kind)\">\n        <label>\n          <!-- <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"checkedForCountryAndKind(i, kind.kind)\"\n            (change)=\"changeForCountryAndKind(i, kind.kind, $event)\">\n          </mat-checkbox> -->\n          <mat-checkbox\n            class=\"show-all testclass\"\n            [checked]=\"checkedForCountryAndKind(i, kind.id)\"\n            (change)=\"changeForCountryAndKind(i, kind.id, $event)\">\n          </mat-checkbox>\n          <i></i>\n        </label>\n      </td>\n\n    </tr>\n  </tbody>\n</table>\n\n<div class=\"user-item\">\n  <div class=\"form-block-title\">\n    <span class=\"btn v add\" (click)=addDirection()></span>\n  </div>\n</div>\n","import { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-trade-direction',\n  templateUrl: './trade-direction.component.html',\n  styleUrls: ['./trade-direction.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: TradeDirectionComponent\n    }\n  ]\n})\nexport class TradeDirectionComponent implements OnInit, ControlValueAccessor {\n  readonly directions = [\n    { value: 'all', label: '', checked: false },\n    { value: 'import', label: '', checked: false },\n    { value: 'export', label: '', checked: false },\n    { value: 'local', label: '  ', checked: false },\n  ];\n\n  onChangeFn = (value: string[]) => { };\n  onTouchedFn = () => { };\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  writeValue(value: string[]): void {\n    if (!Array.isArray(value)) {\n      return;\n    }\n    this.directions.forEach((direction) => {\n      direction.checked = value.includes(direction.value);\n    });\n    this.directions[0].checked = this.directions.slice(1).every(r => r.checked);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouchedFn = fn;\n  }\n\n  onChange(i: number) {\n    if (i === 0) {\n      const checked = !this.directions[0].checked;\n      this.directions.forEach(r => r.checked = checked);\n    } else {\n      this.directions[i].checked = !this.directions[i].checked;\n      this.directions[0].checked = this.directions.slice(1).every(direction => direction.checked);\n    }\n    const value: string[] = this.directions.slice(1).filter(direction => direction.checked).map(r => r.value);\n    this.onChangeFn(value);\n  }\n\n}\n","<div class=\"form-item-layout padd sep\">\n    :\n  <span class=\"req\"></span>\n  <label *ngFor=\"let direction of directions; let i=index\">\n    <input type=\"checkbox\" [checked]=\"direction.checked\" (change)=\"onChange(i)\">\n    <i></i>\n    <span>{{ direction.label }}</span>\n  </label>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { ContractorComponent } from '../../components/contractor/contractor.component';\nimport { ContractorEditorComponent } from '../../components/contractor-editor/contractor-editor.component';\nimport { ContactEditorComponent } from '../../components/contact-editor/contact-editor.component';\nimport { RatingComponent } from '../../components/rating/rating.component';\nimport { TradeDirectionComponent } from '../../components/trade-direction/trade-direction.component';\nimport { ResponsibilityComponent } from '../../components/responsibility/responsibility.component';\nimport { ResponsibilityMatrixComponent } from '../../components/responsibility-matrix/responsibility-matrix.component';\nimport { ResponsibilityRowComponent } from '../../components/responsibility-row/responsibility-row.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ContractorComponent,\n    title: ''\n  },\n  {\n    path: 'add',\n    component: ContractorEditorComponent,\n    title: ' '\n  },\n  {\n    path: 'edit/:id',\n    component: ContractorEditorComponent,\n    title: ' '\n  },\n];\n\n@NgModule({\n  declarations: [\n    ContractorComponent,\n    ContractorEditorComponent,\n    RatingComponent,\n    ContactEditorComponent,\n    TradeDirectionComponent,\n    ResponsibilityMatrixComponent,\n    ResponsibilityRowComponent,\n    ResponsibilityComponent,\n  ],\n  imports: [\n    RouterModule.forChild(routes),\n    SharedModule,\n  ],\n  // exports: [\n  //   ContractorComponent,\n  // ]\n})\nexport class ContractorModule { }\n"],"names":["TransportSubKinds","Validators","NG_VALUE_ACCESSOR","NG_VALIDATORS","Subject","takeUntil","unknownCountry","i0","elementContainer","elementStart","text","elementEnd","template","ContactEditorComponent_ng_template_75_mat_error_0_Template","property","ctx_r11","contactForm","controls","field_r14","hasError","touched","ContactEditorComponent_ng_template_77_span_0_Template","ctx_r13","isRequiredField","field_r16","ContactEditorComponent","constructor","fb","countries","requiredFields","requiredDirection","homeCountry","showResponsibilities","onChange","value","onTouched","destroy$","group","id","contractor_id","name","position","phone","mobile_phone","email","skype","whatsapp","telegram","wechat","place","direction","writeValue","contact","patchValue","registerOnChange","fn","registerOnTouched","ngOnInit","valueChanges","pipe","subscribe","statusChanges","applyRequiredValidators","ngOnDestroy","next","complete","ngOnChanges","changes","homeCountryId","find","country","firstChange","clearAllRequiredValidators","validate","control","valid","Object","keys","forEach","key","get","hasValidator","required","clearValidators","updateValueAndValidity","console","log","fieldName","setValidators","warn","field","directiveInject","i1","FormBuilder","selectors","inputs","features","ProvidersFeature","provide","multi","useExisting","NgOnChangesFeature","decls","vars","consts","template","ContactEditorComponent_Template","rf","ctx","element","ContactEditorComponent_ng_container_7_Template","ContactEditorComponent_ng_container_13_Template","ContactEditorComponent_ng_container_20_Template","ContactEditorComponent_ng_container_26_Template","ContactEditorComponent_ng_container_32_Template","ContactEditorComponent_ng_container_38_Template","ContactEditorComponent_ng_container_45_Template","ContactEditorComponent_ng_container_51_Template","ContactEditorComponent_ng_container_57_Template","ContactEditorComponent_ng_container_63_Template","listener","ContactEditorComponent_Template_div_click_70_listener","ContactEditorComponent_ng_template_75_Template","templateRefExtractor","ContactEditorComponent_ng_template_77_Template","advance","_r12","pureFunction0","_c0","_c1","_c2","_c3","_c4","_c5","_c6","_c7","_c8","_c9","textInterpolate","pureFunction1","_c10","environment","catchError","debounceTime","distinctUntilChanged","forkJoin","lastValueFrom","tap","throwError","FormControl","ContractorEditorComponent_div_89_ng_container_3_Template","ContractorEditorComponent_div_89_ng_template_6_Template","ContractorEditorComponent_div_89_ng_container_7_Template","_r35","ctx_r20","transportCarrier","contractorForm","carrier_id","length","_r33","ContractorEditorComponent_div_90_ng_container_3_Template","ContractorEditorComponent_div_90_Template_ng_select_change_5_listener","$event","restoreView","_r45","ctx_r44","nextContext","resetView","onSvhChange","ContractorEditorComponent_div_90_ng_container_6_Template","ctx_r21","filteredDirectionPoint","format_r51","ContractorEditorComponent_div_106_ng_container_2_Template","ContractorEditorComponent_div_106_label_3_Template","ContractorEditorComponent_div_106_ng_container_4_Template","ctx_r27","requestFormats","ContractorEditorComponent_div_165_Template_span_click_3_listener","restoredCtx","_r55","i_r53","index","ctx_r54","removeContact","textInterpolate1","ctx_r30","requiredContactFields","ContractorEditorComponent_button_178_Template_button_click_0_listener","_r57","ctx_r56","remove","ContractorEditorComponent_ng_template_182_mat_error_0_Template","ctx_r34","field_r58","ContractorEditorComponent_ng_template_184_span_0_Template","ctx_r36","field_r60","ContractorEditorComponent","route","contractorService","countryService","cityService","snackBar","router","location","systemService","transportService","directionService","carrierFilterCtrl","isNavigateAfterSave","contractor","isEditMode","associations","contractorTypes","filteredContractorTypes","filteredTransportCarrier","filteredCountries","cities","filteredCitys","directionPoint","counterpartys","filteredCounterpartys","snackBarWithShortDuration","duration","snackBarWithLongDuration","production","title","taxSystems","filteredTaxs","_destroy$","customSearchFn","term","item","selectedCityId","selectedCountryId","isValid","toLowerCase","includes","city_id","country_id","address","ind","web","rating_nps","disabled","user_rating_nps","contacts","array","association_id","tax_id","undefined","type_id","language_id","svh_id","request_format_id","allow_trade","counterparty_id","currency","test","i","c","onSearchChange","event","searchText","target","filter","carrier","full_name","displayName","initialization_chooseModeForm","initialization_getDatas","getFormParam","segments","snapshot","url","map","s","path","_this","_asyncToGenerator","getContractorTypes","getTransportCarrier","getCountries","getCities","getDirectionPoint","getCounterparty","getTaxSystems","getAssociations","getRequestFormats","getCurrency","getContractor","error","goBack","back","goToContractor","navigate","removeAt","markAsTouched","addContact","push","save","open","body","updateContractor","createContractor","afterDismissed","res","dismissedByAction","removeContractor","assocAsText","ids","a","join","onContractorTypeChange","e","contact_required","onCountryChange","reset","updateFilteredCityList","updateDirectionPointList","onCityChange","city","patchCountryControl","svh","countryId","cityId","onCounterpartyChange","counterparty","canSave","contractorUpdate","err","error_message","contractorCreate","contractorDelete","systemCounterparty","systemAssociation","contractorType","systemTaxSystem","directionCity","transport_kind_id","contractorRequestFormat","formats","Number","paramMap","contractorInfo","contactsControls","nameForHeader","systemCurrency","currencyList","current","contractorParam","formParams","subscribeDependentFields","required_item","parent","dependent_fields","dependent_field","ActivatedRoute","i2","ContractorService","i3","CountryService","i4","CityService","i5","i6","MatSnackBar","Router","i7","Location","i8","SystemService","TransportService","DirectionService","ContractorEditorComponent_Template","ContractorEditorComponent_Template_app_editor_header_save_0_listener","ContractorEditorComponent_Template_app_editor_header_remove_0_listener","ContractorEditorComponent_Template_form_submit_1_listener","ContractorEditorComponent_ng_container_17_Template","ContractorEditorComponent_Template_ng_select_change_19_listener","ContractorEditorComponent_ng_container_20_Template","ContractorEditorComponent_ng_container_24_Template","ContractorEditorComponent_ng_container_27_Template","ContractorEditorComponent_ng_container_34_Template","ContractorEditorComponent_ng_container_37_Template","ContractorEditorComponent_ng_container_41_Template","ContractorEditorComponent_ng_container_44_Template","ContractorEditorComponent_ng_container_48_Template","ContractorEditorComponent_Template_ng_select_change_50_listener","ContractorEditorComponent_ng_container_51_Template","ContractorEditorComponent_ng_container_55_Template","ContractorEditorComponent_Template_ng_select_change_57_listener","ContractorEditorComponent_ng_container_58_Template","ContractorEditorComponent_ng_container_63_Template","ContractorEditorComponent_ng_container_66_Template","ContractorEditorComponent_ng_container_70_Template","ContractorEditorComponent_ng_container_73_Template","ContractorEditorComponent_ng_container_77_Template","ContractorEditorComponent_ng_container_80_Template","ContractorEditorComponent_ng_container_85_Template","ContractorEditorComponent_Template_ng_select_change_87_listener","ContractorEditorComponent_ng_container_88_Template","ContractorEditorComponent_div_89_Template","ContractorEditorComponent_div_90_Template","ContractorEditorComponent_ng_container_94_Template","ContractorEditorComponent_ng_template_97_Template","ContractorEditorComponent_ng_container_98_Template","ContractorEditorComponent_ng_container_102_Template","ContractorEditorComponent_ng_container_105_Template","ContractorEditorComponent_div_106_Template","ContractorEditorComponent_ng_container_111_Template","ContractorEditorComponent_ng_container_114_Template","ContractorEditorComponent_div_165_Template","ContractorEditorComponent_Template_span_click_169_listener","ContractorEditorComponent_mat_error_171_Template","ContractorEditorComponent_button_178_Template","ContractorEditorComponent_Template_button_click_179_listener","ContractorEditorComponent_ng_template_182_Template","ContractorEditorComponent_ng_template_184_Template","pureFunction2","_c11","_c12","_c13","_c14","_c15","_c16","_c17","_c18","review_positive_count","review_negative_count","review_neutral_count","order_count","trade_success_count","trade_fail_count","errors","dirty","RatingComponent_span_3_Template_span_click_0_listener","_r4","i_r2","ctx_r3","setScore","star_r1","RatingComponent","total","units","score","stars","Array","fill","isDisabled","fillStars","setDisabledState","getAsText","RatingComponent_Template","RatingComponent_span_3_Template","textInterpolate3","transportSubKindTable","ctx_r10","targetCountries","ctx_r12","ResponsibilityMatrixComponent_table_0_div_4_ng_template_3_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_4_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_5_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_6_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_7_Template","ResponsibilityMatrixComponent_table_0_div_4_ng_template_8_Template","ctx_r1","name_from","ctx_r16","ctx_r17","ctx_r18","ResponsibilityMatrixComponent_table_0_div_5_ng_template_3_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_4_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_5_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_6_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_7_Template","ResponsibilityMatrixComponent_table_0_div_5_ng_template_8_Template","ctx_r2","name_to","country_r19","ResponsibilityMatrixComponent_table_0_th_16_Template_mat_checkbox_change_6_listener","_r22","kind_r20","$implicit","allChangeForKind","kind","classes","type","ctx_r5","allCheckedForKind","allCompleteForKind","ResponsibilityMatrixComponent_table_0_tr_17_td_10_Template_mat_checkbox_change_2_listener","_r29","kind_r26","country_r23","changeForCountryAndKind","ctx_r25","checkedForCountryAndKind","ResponsibilityMatrixComponent_table_0_tr_17_Template_span_click_5_listener","_r32","ctx_r31","removeCountry","ResponsibilityMatrixComponent_table_0_tr_17_Template_mat_checkbox_change_8_listener","ctx_r33","allChangeForCountry","ResponsibilityMatrixComponent_table_0_tr_17_td_10_Template","ctx_r6","allCheckedForCountry","allCompleteForCountry","kinds","ResponsibilityMatrixComponent_table_0_div_4_Template","ResponsibilityMatrixComponent_table_0_div_5_Template","ResponsibilityMatrixComponent_table_0_Template_input_ngModelChange_6_listener","doFilter","ResponsibilityMatrixComponent_table_0_Template_mat_autocomplete_optionSelected_7_listener","ctx_r37","addCountry","ResponsibilityMatrixComponent_table_0_mat_option_9_Template","ResponsibilityMatrixComponent_table_0_Template_mat_checkbox_change_14_listener","ctx_r38","allChange","ResponsibilityMatrixComponent_table_0_th_16_Template","ResponsibilityMatrixComponent_table_0_tr_17_Template","ctx_r0","_r3","displayFn","allChecked","allComplete","ResponsibilityMatrixComponent","responsibilities","homeCountryChange","responsibilityParam","getCountryById","sort","byName","valueChanged","findIndex","splice","countChecked","getCountChecked","reduce","sum","count","checked","getCheckedForKind","aKind","ResponsibilityMatrixComponent_Template","ResponsibilityMatrixComponent_table_0_Template","b","localeCompare","ResponsibilityRowComponent_table_0_th_12_Template_mat_checkbox_change_6_listener","kind_r2","onKindChange","isKindChecked","ResponsibilityRowComponent_table_0_Template_mat_checkbox_change_10_listener","_r6","onAllChange","ResponsibilityRowComponent_table_0_th_12_Template","ResponsibilityRowComponent","local","ResponsibilityRowComponent_Template","ResponsibilityRowComponent_table_0_Template","ResponsibilityComponent_th_18_Template_mat_checkbox_change_6_listener","setClassIcon","ResponsibilityComponent_tr_19_td_10_Template_mat_checkbox_change_2_listener","_r11","kind_r8","i_r6","ctx_r9","ctx_r7","ResponsibilityComponent_tr_19_Template_ng_select_change_3_listener","_r14","ResponsibilityComponent_tr_19_Template_ng_select_ngModelChange_3_listener","direction_r5","direction_departure","ResponsibilityComponent_tr_19_Template_ng_select_change_4_listener","ResponsibilityComponent_tr_19_Template_ng_select_ngModelChange_4_listener","direction_arrival","ResponsibilityComponent_tr_19_Template_span_click_5_listener","removeDirection","ResponsibilityComponent_tr_19_Template_mat_checkbox_change_8_listener","ctx_r19","ResponsibilityComponent_tr_19_td_10_Template","allCountry","ResponsibilityComponent","transportSubKindsLength","directions","getTransportSubKind","dir","addDirection","classIcon","kind_id","direction_items","allTransportSubKinds","transportSubKind","sorted","user1","user2","ResponsibilityComponent_Template","ResponsibilityComponent_Template_mat_checkbox_change_16_listener","ResponsibilityComponent_th_18_Template","ResponsibilityComponent_tr_19_Template","ResponsibilityComponent_Template_span_click_22_listener","TradeDirectionComponent_label_4_Template_input_change_1_listener","direction_r1","label","TradeDirectionComponent","onChangeFn","onTouchedFn","isArray","slice","every","r","TradeDirectionComponent_Template","TradeDirectionComponent_label_4_Template","RouterModule","SharedModule","ContractorComponent","routes","component","ContractorModule","forChild","declarations","imports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}