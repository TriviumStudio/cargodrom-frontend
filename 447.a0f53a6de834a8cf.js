"use strict";(self.webpackChunkcargodrom_frontend=self.webpackChunkcargodrom_frontend||[]).push([[447],{447:(jt,E,m)=>{m.r(E),m.d(E,{SettingsModule:()=>Jt});var u=m(433),F=m(6782),d=m(6895),l=m(5142),Z=m(8505),t=m(1571),c=m(529),T=m(1352),g=m(8637),_=m(9300),s=m(4004),U=m(297);let b=(()=>{class i extends T.b{constructor(e,n){super(e,n)}companyList$Response(e){const n=new g.c(this.rootUrl,i.CompanyListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyList(e){return this.companyList$Response(e).pipe((0,s.U)(n=>n.body))}companyInfo$Response(e){const n=new g.c(this.rootUrl,i.CompanyInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyInfo(e){return this.companyInfo$Response(e).pipe((0,s.U)(n=>n.body))}companyCreate$Response(e){const n=new g.c(this.rootUrl,i.CompanyCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyCreate(e){return this.companyCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyUpdate$Response(e){const n=new g.c(this.rootUrl,i.CompanyUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyUpdate(e){return this.companyUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyDelete$Response(e){const n=new g.c(this.rootUrl,i.CompanyDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyDelete(e){return this.companyDelete$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentList$Response(e){const n=new g.c(this.rootUrl,i.CompanyDepartmentListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyDepartmentList(e){return this.companyDepartmentList$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentInfo$Response(e){const n=new g.c(this.rootUrl,i.CompanyDepartmentInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyDepartmentInfo(e){return this.companyDepartmentInfo$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentCreate$Response(e){const n=new g.c(this.rootUrl,i.CompanyDepartmentCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyDepartmentCreate(e){return this.companyDepartmentCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentUpdate$Response(e){const n=new g.c(this.rootUrl,i.CompanyDepartmentUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyDepartmentUpdate(e){return this.companyDepartmentUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyDepartmentDelete$Response(e){const n=new g.c(this.rootUrl,i.CompanyDepartmentDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyDepartmentDelete(e){return this.companyDepartmentDelete$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionList$Response(e){const n=new g.c(this.rootUrl,i.CompanyPositionListPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyPositionList(e){return this.companyPositionList$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionInfo$Response(e){const n=new g.c(this.rootUrl,i.CompanyPositionInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyPositionInfo(e){return this.companyPositionInfo$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionCreate$Response(e){const n=new g.c(this.rootUrl,i.CompanyPositionCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyPositionCreate(e){return this.companyPositionCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionUpdate$Response(e){const n=new g.c(this.rootUrl,i.CompanyPositionUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyPositionUpdate(e){return this.companyPositionUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyPositionDelete$Response(e){const n=new g.c(this.rootUrl,i.CompanyPositionDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyPositionDelete(e){return this.companyPositionDelete$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeList$Response(e){const n=new g.c(this.rootUrl,i.CompanyEmployeeListPath,"get");return e&&(n.query("department_id",e.department_id,{}),n.query("position_id",e.position_id,{}),n.query("page",e.page,{}),n.query("limit",e.limit,{})),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyEmployeeList(e){return this.companyEmployeeList$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeInfo$Response(e){const n=new g.c(this.rootUrl,i.CompanyEmployeeInfoPath,"get");return e&&n.query("id",e.id,{}),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyEmployeeInfo(e){return this.companyEmployeeInfo$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeCreate$Response(e){const n=new g.c(this.rootUrl,i.CompanyEmployeeCreatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyEmployeeCreate(e){return this.companyEmployeeCreate$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeUpdate$Response(e){const n=new g.c(this.rootUrl,i.CompanyEmployeeUpdatePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyEmployeeUpdate(e){return this.companyEmployeeUpdate$Response(e).pipe((0,s.U)(n=>n.body))}companyEmployeeDelete$Response(e){const n=new g.c(this.rootUrl,i.CompanyEmployeeDeletePath,"post");return e&&n.body(e.body,"application/json"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}companyEmployeeDelete(e){return this.companyEmployeeDelete$Response(e).pipe((0,s.U)(n=>n.body))}}return i.CompanyListPath="/company_list",i.CompanyInfoPath="/company_info",i.CompanyCreatePath="/company_create",i.CompanyUpdatePath="/company_update",i.CompanyDeletePath="/company_delete",i.CompanyDepartmentListPath="/company_department_list",i.CompanyDepartmentInfoPath="/company_department_info",i.CompanyDepartmentCreatePath="/company_department_create",i.CompanyDepartmentUpdatePath="/company_department_update",i.CompanyDepartmentDeletePath="/company_department_delete",i.CompanyPositionListPath="/company_position_list",i.CompanyPositionInfoPath="/company_position_info",i.CompanyPositionCreatePath="/company_position_create",i.CompanyPositionUpdatePath="/company_position_update",i.CompanyPositionDeletePath="/company_position_delete",i.CompanyEmployeeListPath="/company_employee_list",i.CompanyEmployeeInfoPath="/company_employee_info",i.CompanyEmployeeCreatePath="/company_employee_create",i.CompanyEmployeeUpdatePath="/company_employee_update",i.CompanyEmployeeDeletePath="/company_employee_delete",i.\u0275fac=function(e){return new(e||i)(t.LFG(U.p),t.LFG(c.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),I=(()=>{class i extends T.b{constructor(e,n){super(e,n)}settingsGet$Response(e){const n=new g.c(this.rootUrl,i.SettingsGetPath,"get");return this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}settingsGet(e){return this.settingsGet$Response(e).pipe((0,s.U)(n=>n.body))}settingsUpdate$Response(e){const n=new g.c(this.rootUrl,i.SettingsUpdatePath,"post");return e&&n.body(e.body,"multipart/form-data"),this.http.request(n.build({responseType:"json",accept:"application/json"})).pipe((0,_.h)(o=>o instanceof c.Zn),(0,s.U)(o=>o))}settingsUpdate(e){return this.settingsUpdate$Response(e).pipe((0,s.U)(n=>n.body))}}return i.SettingsGetPath="/settings_get",i.SettingsUpdatePath="/settings_update",i.\u0275fac=function(e){return new(e||i)(t.LFG(U.p),t.LFG(c.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var v=m(7009),q=m(9549),P=m(5113),A=m(3238),y=m(288);function N(i,a){if(1&i&&(t.TgZ(0,"mat-option",125),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.lnq(" ",e.name_f," ",e.name_i," ",e.name_o," ")}}function J(i,a){if(1&i&&(t.TgZ(0,"mat-option",125),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function S(i,a){if(1&i&&(t.TgZ(0,"mat-option",125),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.lnq(" ",e.name_f," ",e.name_i," ",e.name_o," ")}}function j(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"span",126),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.remove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}let D=(()=>{class i{constructor(e,n,o,r,p,h,St){this.fb=e,this.companyService=n,this.settingsService=o,this.route=r,this.snackBar=p,this.router=h,this.location=St,this.isEditMode=!1,this.company={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.employees=[],this.taxSystems=[],this.form=this.fb.group({id:["",[u.kI.required]],tax_system:["",[u.kI.required]],name:["",[u.kI.required]],name_short:["",[u.kI.required]],jur_address:["",[u.kI.required]],post_address:["",[u.kI.required]],inn:["",[u.kI.required]],kpp:["",[u.kI.required]],ogrn:["",[u.kI.required]],okpo:["",[u.kI.required]],email:["",[u.kI.required]],phone:["",[u.kI.required]],website:["",[u.kI.required]],skype:["",[u.kI.required]],responsible_person_id:["",[u.kI.required]],responsible_person_position:["",[u.kI.required]],responsible_person_base:["",[u.kI.required]],responsible_person_fio:["",[u.kI.required]],chief_accountant_fio:["",[u.kI.required]],bank_name:["",[u.kI.required]],bank_rs:["",[u.kI.required]],bank_ks:["",[u.kI.required]],bank_bik:["",[u.kI.required]],bank_kpp:["",[u.kI.required]],bank_currency:["",[u.kI.required]],noresident_name:["",[u.kI.required]],noresident_address:["",[u.kI.required]],noresident_phone:["",[u.kI.required]],noresident_email:["",[u.kI.required]],noresident_skype:["",[u.kI.required]],noresident_website:["",[u.kI.required]],noresident_signatory_id:["",[u.kI.required]],noresident_signatory_position:["",[u.kI.required]],noresident_signatory_fio:["",[u.kI.required]],noresident_bank_name:["",[u.kI.required]],noresident_bank_address:["",[u.kI.required]],noresident_bank_currency:["",[u.kI.required]],noresident_bank_rs:["",[u.kI.required]],noresident_bank_rs_name:["",[u.kI.required]],noresident_bank_swift:["",[u.kI.required]],noresident_bank_im:["",[u.kI.required]]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);this.isEditMode="edit"===e[1],this.getTaxSystems(),this.isEditMode&&this.getCompany(),this.loadEmployees(),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}getCompany(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyInfo({id:e}).pipe((0,Z.b)(n=>{if(!n)throw{error:{error_message:"\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.company=n,this.form.patchValue(this.company)},error:n=>{this.snackBar.open("\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goBack()}})}goBack(){this.location.back()}save(){const e=this.form.value;"number"==typeof this.company.id?this.updateCompany(e):this.createCompany(e)}createCompany(e){this.companyService.companyCreate({body:e}).pipe().subscribe({next:()=>{this.goBack(),this.snackBar.open("\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438: "+n.error?.error_message+":"+n.error?.error_message_description,void 0,this.snackBarWithShortDuration)})}updateCompany(e){this.companyService.companyUpdate({body:e}).pipe().subscribe({next:()=>{this.snackBar.open("\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430",void 0,this.snackBarWithShortDuration),this.goBack()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438: "+n.error?.error_message+":"+n.error?.error_message_description,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyDelete({body:{id:this.company.id}}).subscribe({next:()=>{this.snackBar.open(`\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f ${this.company.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.goBack()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438: "+n.error.error_message,void 0,{duration:1e3})})}loadEmployees(){this.companyService.companyEmployeeList().subscribe(e=>{this.employees=e||[]})}getTaxSystems(){this.settingsService.settingsGet().subscribe(e=>{this.taxSystems=e.tax})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.qu),t.Y36(b),t.Y36(I),t.Y36(l.gz),t.Y36(v.ux),t.Y36(l.F0),t.Y36(d.Ye))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-company-editor"]],decls:497,vars:7,consts:[[3,"title","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],["data-id","group_0",1,"form-group"],[1,"form-group-title"],["data-id","title_0",1,"form-sub-title"],["data-id","group_inline_1",1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],["data-id","var_name",1,"form-item",2,"width","50%"],[1,"req"],[1,"form-input"],["type","hidden","formControlName","id",1,"text-control"],["type","text","formControlName","name","required","",1,"text-control"],["data-id","var_name_short",1,"form-item",2,"width","50%"],["type","text","formControlName","name_short","required","",1,"text-control"],["data-id","group_inline_2",1,"form-item","form-inline-group"],["data-id","var_jur_address",1,"form-item",2,"width","50%"],["type","text","formControlName","jur_address",1,"text-control"],["data-id","var_post_address",1,"form-item",2,"width","50%"],["type","text","formControlName","post_address",1,"text-control"],["data-id","group_inline_3",1,"form-item","form-inline-group"],["data-id","var_inn",1,"form-item",2,"width","25%"],["type","text","formControlName","inn",1,"text-control"],["data-id","var_kpp",1,"form-item",2,"width","25%"],["type","text","formControlName","kpp",1,"text-control"],["data-id","var_ogrn",1,"form-item",2,"width","25%"],["type","text","formControlName","ogrn",1,"text-control"],["data-id","var_okpo",1,"form-item",2,"width","25%"],["type","text","formControlName","okpo",1,"text-control"],["data-id","group_inline_4",1,"form-item","form-inline-group"],["data-id","var_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","phone",1,"text-control"],["data-id","var_email",1,"form-item",2,"width","25%"],["type","text","formControlName","email",1,"text-control"],["data-id","var_website",1,"form-item",2,"width","25%"],["type","text","formControlName","website",1,"text-control"],["data-id","var_skype",1,"form-item",2,"width","25%"],["type","text","formControlName","skype",1,"text-control"],["data-id","line_0",1,"form-line"],["data-id","title_1",1,"form-sub-title"],["data-id","group_inline_5",1,"form-item","form-inline-group"],["data-id","var_responsible_person_fio",1,"form-item",2,"width","50%"],["appearance","outline",1,"ui-select",2,"margin-bottom","0px","margin-top","0px","margin-right","0px","width","100%"],["formControlName","responsible_person_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data-id","var_responsible_person_position",1,"form-item",2,"width","50%"],["type","text","formControlName","responsible_person_position",1,"text-control"],["data-id","group_inline_6",1,"form-item","form-inline-group"],["data-id","var_responsible_person_base",1,"form-item",2,"width","100%"],["type","text","formControlName","responsible_person_base",1,"text-control"],["data-id","line_1",1,"form-line"],["data-id","title_2",1,"form-sub-title"],["data-id","group_inline_7",1,"form-item","form-inline-group"],["data-id","var_chief_accountant_fio",1,"form-item",2,"width","100%"],["type","text","formControlName","chief_accountant_fio",1,"text-control"],["appearance","outline",1,"ui-select",2,"width","100%"],["formControlName","tax_system"],["data-id","line_2",1,"form-line"],["data-id","title_3",1,"form-sub-title"],["data-id","group_inline_8",1,"form-item","form-inline-group"],["data-id","var_bank_name",1,"form-item",2,"width","50%"],["type","text","formControlName","bank_name",1,"text-control"],["data-id","var_bank_rs",1,"form-item",2,"width","25%"],["type","text","formControlName","bank_rs",1,"text-control"],["data-id","var_bank_currency",1,"form-item",2,"width","25%"],["type","text","formControlName","bank_currency",1,"text-control"],["data-id","group_inline_9",1,"form-item","form-inline-group"],["data-id","var_bank_ks",1,"form-item",2,"width","50%"],["type","text","formControlName","bank_ks",1,"text-control"],["data-id","var_bank_bik",1,"form-item",2,"width","25%"],["type","text","formControlName","bank_bik",1,"text-control"],["data-id","var_bank_kpp",1,"form-item",2,"width","25%"],["type","text","formControlName","bank_kpp",1,"text-control"],["data-id","group_10",1,"form-group"],["data-id","title_4",1,"form-sub-title"],["data-id","group_inline_11",1,"form-item","form-inline-group"],["data-id","var_noresident_name",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_name",1,"text-control"],["data-id","var_noresident_address",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_address",1,"text-control"],["data-id","group_inline_12",1,"form-item","form-inline-group"],["data-id","var_noresident_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_phone",1,"text-control"],["data-id","var_noresident_email",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_email",1,"text-control"],["data-id","var_noresident_website",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_website",1,"text-control"],["data-id","var_noresident_skype",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_skype",1,"text-control"],["data-id","line_3",1,"form-line"],["data-id","title_5",1,"form-sub-title"],["data-id","group_inline_13",1,"form-item","form-inline-group"],["data-id","var_noresident_signatory_fio",1,"form-item",2,"width","50%"],["formControlName","noresident_signatory_id"],["data-id","var_noresident_signatory_position",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_signatory_position",1,"text-control"],["data-id","line_4",1,"form-line"],["data-id","title_6",1,"form-sub-title"],["data-id","group_inline_14",1,"form-item","form-inline-group"],["data-id","var_noresident_bank_name",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_name",1,"text-control"],["data-id","var_noresident_bank_address",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_address",1,"text-control"],["data-id","group_inline_15",1,"form-item","form-inline-group"],[1,"width_50","form-group-row"],["data-id","var_noresident_bank_rs",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_bank_rs",1,"text-control"],["data-id","var_noresident_bank_currency",1,"form-item",2,"width","25%"],["type","text","formControlName","noresident_bank_currency",1,"text-control"],["data-id","var_noresident_bank_rs_name",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_rs_name",1,"text-control"],["data-id","group_inline_16",1,"form-item","form-inline-group"],["data-id","var_noresident_bank_swift",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_swift",1,"text-control"],["data-id","var_noresident_bank_im",1,"form-item",2,"width","50%"],["type","text","formControlName","noresident_bank_im",1,"text-control"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],[3,"value"],[1,"btn","v","del","button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u043e\u0432 \u0420\u0424"),t.qZA(),t.TgZ(8,"div")(9,"div",7),t._uU(10,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"div",9),t.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",9)(17,"div"),t._uU(18,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u0435:"),t.TgZ(19,"span",13),t._uU(20,"*"),t.qZA()()(),t.TgZ(21,"div",10)(22,"div")(23,"div",14),t._UZ(24,"input",15)(25,"input",16),t.qZA()()()(),t.TgZ(26,"div",17)(27,"div",9)(28,"div"),t._uU(29,"\u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435:"),t.TgZ(30,"span",13),t._uU(31,"*"),t.qZA()()(),t.TgZ(32,"div",10)(33,"div")(34,"div",14),t._UZ(35,"input",18),t.qZA()()()()()()(),t.TgZ(36,"div",19),t._UZ(37,"div",9),t.TgZ(38,"div",10)(39,"div",11)(40,"div",20)(41,"div",9)(42,"div"),t._uU(43,"\u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441:"),t.TgZ(44,"span",13),t._uU(45,"*"),t.qZA()()(),t.TgZ(46,"div",10)(47,"div")(48,"div",14),t._UZ(49,"input",21),t.qZA()()()(),t.TgZ(50,"div",22)(51,"div",9)(52,"div"),t._uU(53,"\u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441:"),t.TgZ(54,"span",13),t._uU(55,"*"),t.qZA()()(),t.TgZ(56,"div",10)(57,"div")(58,"div",14),t._UZ(59,"input",23),t.qZA()()()()()()(),t.TgZ(60,"div",24),t._UZ(61,"div",9),t.TgZ(62,"div",10)(63,"div",11)(64,"div",25)(65,"div",9)(66,"div"),t._uU(67,"\u0418\u041d\u041d:"),t.TgZ(68,"span",13),t._uU(69,"*"),t.qZA()()(),t.TgZ(70,"div",10)(71,"div")(72,"div",14),t._UZ(73,"input",26),t.qZA()()()(),t.TgZ(74,"div",27)(75,"div",9)(76,"div"),t._uU(77,"\u041a\u041f\u041f:"),t.TgZ(78,"span",13),t._uU(79,"*"),t.qZA()()(),t.TgZ(80,"div",10)(81,"div")(82,"div",14),t._UZ(83,"input",28),t.qZA()()()(),t.TgZ(84,"div",29)(85,"div",9)(86,"div"),t._uU(87,"\u041e\u0413\u0420\u041d:"),t.TgZ(88,"span",13),t._uU(89,"*"),t.qZA()()(),t.TgZ(90,"div",10)(91,"div")(92,"div",14),t._UZ(93,"input",30),t.qZA()()()(),t.TgZ(94,"div",31)(95,"div",9)(96,"div"),t._uU(97,"\u041e\u041a\u041f\u041e:"),t.TgZ(98,"span",13),t._uU(99,"*"),t.qZA()()(),t.TgZ(100,"div",10)(101,"div")(102,"div",14),t._UZ(103,"input",32),t.qZA()()()()()()(),t.TgZ(104,"div",33),t._UZ(105,"div",9),t.TgZ(106,"div",10)(107,"div",11)(108,"div",34)(109,"div",9)(110,"div"),t._uU(111,"\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"),t.TgZ(112,"span",13),t._uU(113,"*"),t.qZA()()(),t.TgZ(114,"div",10)(115,"div")(116,"div",14),t._UZ(117,"input",35),t.qZA()()()(),t.TgZ(118,"div",36)(119,"div",9)(120,"div"),t._uU(121,"e-mail:"),t.TgZ(122,"span",13),t._uU(123,"*"),t.qZA()()(),t.TgZ(124,"div",10)(125,"div")(126,"div",14),t._UZ(127,"input",37),t.qZA()()()(),t.TgZ(128,"div",38)(129,"div",9)(130,"div"),t._uU(131,"\u0432\u0435\u0431\u0441\u0430\u0439\u0442:"),t.TgZ(132,"span",13),t._uU(133,"*"),t.qZA()()(),t.TgZ(134,"div",10)(135,"div")(136,"div",14),t._UZ(137,"input",39),t.qZA()()()(),t.TgZ(138,"div",40)(139,"div",9)(140,"div"),t._uU(141,"Skype:"),t.TgZ(142,"span",13),t._uU(143,"*"),t.qZA()()(),t.TgZ(144,"div",10)(145,"div")(146,"div",14),t._UZ(147,"input",41),t.qZA()()()()()()(),t._UZ(148,"div",42),t.TgZ(149,"div",43),t._uU(150,"\u041b\u0438\u0446\u043e, \u0438\u043c\u0435\u044e\u0449\u0435\u0435 \u043f\u0440\u0430\u0432\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),t.qZA(),t.TgZ(151,"div",44),t._UZ(152,"div",9),t.TgZ(153,"div",10)(154,"div",11)(155,"div",45)(156,"div",9)(157,"div"),t._uU(158,"\u0424.\u0418.\u041e.:"),t.TgZ(159,"span",13),t._uU(160,"*"),t.qZA()()(),t.TgZ(161,"div",10)(162,"div")(163,"div",14)(164,"mat-form-field",46)(165,"mat-select",47)(166,"mat-option",48),t._uU(167,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(168,N,2,4,"mat-option",49),t.qZA()()()()()(),t.TgZ(169,"div",50)(170,"div",9)(171,"div"),t._uU(172,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c:"),t.TgZ(173,"span",13),t._uU(174,"*"),t.qZA()()(),t.TgZ(175,"div",10)(176,"div")(177,"div",14),t._UZ(178,"input",51),t.qZA()()()()()()(),t.TgZ(179,"div",52),t._UZ(180,"div",9),t.TgZ(181,"div",10)(182,"div",11)(183,"div",53)(184,"div",9)(185,"div"),t._uU(186,"\u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435:"),t.TgZ(187,"span",13),t._uU(188,"*"),t.qZA()()(),t.TgZ(189,"div",10)(190,"div")(191,"div",14),t._UZ(192,"input",54),t.qZA()()()()()()(),t._UZ(193,"div",55),t.TgZ(194,"div",56),t._uU(195,"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440"),t.qZA(),t.TgZ(196,"div",57),t._UZ(197,"div",9),t.TgZ(198,"div",10)(199,"div",11)(200,"div",58)(201,"div",9)(202,"div"),t._uU(203,"\u0424.\u0418.\u041e.:"),t.TgZ(204,"span",13),t._uU(205,"*"),t.qZA()()(),t.TgZ(206,"div",10)(207,"div")(208,"div",14),t._UZ(209,"input",59),t.qZA()()()()()()(),t._UZ(210,"div",55),t.TgZ(211,"div",56),t._uU(212,"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u043e\u0431\u043b\u0430\u0436\u0435\u043d\u0438\u044f"),t.qZA(),t.TgZ(213,"div",57),t._UZ(214,"div",9),t.TgZ(215,"div",10)(216,"div",11)(217,"div",58)(218,"div",9)(219,"div"),t._uU(220,"\u0432\u0438\u0434:"),t.TgZ(221,"span",13),t._uU(222,"*"),t.qZA()()(),t.TgZ(223,"div",10)(224,"mat-form-field",60)(225,"mat-select",61)(226,"mat-option",48),t._uU(227,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(228,J,2,2,"mat-option",49),t.qZA()()()()()()(),t._UZ(229,"div",62),t.TgZ(230,"div",63),t._uU(231,"\u0411\u0430\u043d\u043a"),t.qZA(),t.TgZ(232,"div",64),t._UZ(233,"div",9),t.TgZ(234,"div",10)(235,"div",11)(236,"div",65)(237,"div",9)(238,"div"),t._uU(239,"\u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430:"),t.TgZ(240,"span",13),t._uU(241,"*"),t.qZA()()(),t.TgZ(242,"div",10)(243,"div")(244,"div",14),t._UZ(245,"input",66),t.qZA()()()(),t.TgZ(246,"div",67)(247,"div",9)(248,"div"),t._uU(249,"\u0440\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442:"),t.TgZ(250,"span",13),t._uU(251,"*"),t.qZA()()(),t.TgZ(252,"div",10)(253,"div")(254,"div",14),t._UZ(255,"input",68),t.qZA()()()(),t.TgZ(256,"div",69)(257,"div",9)(258,"div"),t._uU(259,"\u0432\u0430\u043b\u044e\u0442\u0430 \u0441\u0447\u0435\u0442\u0430:"),t.TgZ(260,"span",13),t._uU(261,"*"),t.qZA()()(),t.TgZ(262,"div",10)(263,"div")(264,"div",14),t._UZ(265,"input",70),t.qZA()()()()()()(),t.TgZ(266,"div",71),t._UZ(267,"div",9),t.TgZ(268,"div",10)(269,"div",11)(270,"div",72)(271,"div",9)(272,"div"),t._uU(273,"\u041a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442:"),t.TgZ(274,"span",13),t._uU(275,"*"),t.qZA()()(),t.TgZ(276,"div",10)(277,"div")(278,"div",14),t._UZ(279,"input",73),t.qZA()()()(),t.TgZ(280,"div",74)(281,"div",9)(282,"div"),t._uU(283,"\u0431\u0438\u043a:"),t.TgZ(284,"span",13),t._uU(285,"*"),t.qZA()()(),t.TgZ(286,"div",10)(287,"div")(288,"div",14),t._UZ(289,"input",75),t.qZA()()()(),t.TgZ(290,"div",76)(291,"div",9)(292,"div"),t._uU(293,"\u041a\u041f\u041f:"),t.TgZ(294,"span",13),t._uU(295,"*"),t.qZA()()(),t.TgZ(296,"div",10)(297,"div")(298,"div",14),t._UZ(299,"input",77),t.qZA()()()()()()()()(),t.TgZ(300,"div",78)(301,"div",6),t._uU(302,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u041d\u0415\u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u043e\u0432 \u0420\u0424"),t.qZA(),t.TgZ(303,"div")(304,"div",79),t._uU(305,"Company"),t.qZA(),t.TgZ(306,"div",80),t._UZ(307,"div",9),t.TgZ(308,"div",10)(309,"div",11)(310,"div",81)(311,"div",9)(312,"div"),t._uU(313,"full name:"),t.TgZ(314,"span",13),t._uU(315,"*"),t.qZA()()(),t.TgZ(316,"div",10)(317,"div")(318,"div",14),t._UZ(319,"input",82),t.qZA()()()(),t.TgZ(320,"div",83)(321,"div",9)(322,"div"),t._uU(323,"address:"),t.TgZ(324,"span",13),t._uU(325,"*"),t.qZA()()(),t.TgZ(326,"div",10)(327,"div")(328,"div",14),t._UZ(329,"input",84),t.qZA()()()()()()(),t.TgZ(330,"div",85),t._UZ(331,"div",9),t.TgZ(332,"div",10)(333,"div",11)(334,"div",86)(335,"div",9)(336,"div"),t._uU(337,"phone / fax:"),t.TgZ(338,"span",13),t._uU(339,"*"),t.qZA()()(),t.TgZ(340,"div",10)(341,"div")(342,"div",14),t._UZ(343,"input",87),t.qZA()()()(),t.TgZ(344,"div",88)(345,"div",9)(346,"div"),t._uU(347,"e-mail:"),t.TgZ(348,"span",13),t._uU(349,"*"),t.qZA()()(),t.TgZ(350,"div",10)(351,"div")(352,"div",14),t._UZ(353,"input",89),t.qZA()()()(),t.TgZ(354,"div",90)(355,"div",9)(356,"div"),t._uU(357,"Website:"),t.TgZ(358,"span",13),t._uU(359,"*"),t.qZA()()(),t.TgZ(360,"div",10)(361,"div")(362,"div",14),t._UZ(363,"input",91),t.qZA()()()(),t.TgZ(364,"div",92)(365,"div",9)(366,"div"),t._uU(367,"Skype:"),t.TgZ(368,"span",13),t._uU(369,"*"),t.qZA()()(),t.TgZ(370,"div",10)(371,"div")(372,"div",14),t._UZ(373,"input",93),t.qZA()()()()()()(),t._UZ(374,"div",94),t.TgZ(375,"div",95),t._uU(376,"Signatory"),t.qZA(),t.TgZ(377,"div",96),t._UZ(378,"div",9),t.TgZ(379,"div",10)(380,"div",11)(381,"div",97)(382,"div",9)(383,"div"),t._uU(384,"full name:"),t.TgZ(385,"span",13),t._uU(386,"*"),t.qZA()()(),t.TgZ(387,"div",10)(388,"div")(389,"div",14)(390,"mat-form-field",46)(391,"mat-select",98)(392,"mat-option",48),t._uU(393,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(394,S,2,4,"mat-option",49),t.qZA()()()()()(),t.TgZ(395,"div",99)(396,"div",9)(397,"div"),t._uU(398,"position:"),t.TgZ(399,"span",13),t._uU(400,"*"),t.qZA()()(),t.TgZ(401,"div",10)(402,"div")(403,"div",14),t._UZ(404,"input",100),t.qZA()()()()()()(),t._UZ(405,"div",101),t.TgZ(406,"div",102),t._uU(407,"Banking Details"),t.qZA(),t.TgZ(408,"div",103),t._UZ(409,"div",9),t.TgZ(410,"div",10)(411,"div",11)(412,"div",104)(413,"div",9)(414,"div"),t._uU(415,"bank name:"),t.TgZ(416,"span",13),t._uU(417,"*"),t.qZA()()(),t.TgZ(418,"div",10)(419,"div")(420,"div",14),t._UZ(421,"input",105),t.qZA()()()(),t.TgZ(422,"div",106)(423,"div",9)(424,"div"),t._uU(425,"bank address:"),t.TgZ(426,"span",13),t._uU(427,"*"),t.qZA()()(),t.TgZ(428,"div",10)(429,"div")(430,"div",14),t._UZ(431,"input",107),t.qZA()()()()()()(),t.TgZ(432,"div",108),t._UZ(433,"div",9),t.TgZ(434,"div",10)(435,"div",11)(436,"div",109)(437,"div",110)(438,"div",9)(439,"div"),t._uU(440,"account Number:"),t.TgZ(441,"span",13),t._uU(442,"*"),t.qZA()()(),t.TgZ(443,"div",10)(444,"div")(445,"div",14),t._UZ(446,"input",111),t.qZA()()()(),t.TgZ(447,"div",112)(448,"div",9)(449,"div"),t._uU(450,"account currency:"),t.TgZ(451,"span",13),t._uU(452,"*"),t.qZA()()(),t.TgZ(453,"div",10)(454,"div")(455,"div",14),t._UZ(456,"input",113),t.qZA()()()()(),t.TgZ(457,"div",114)(458,"div",9)(459,"div"),t._uU(460,"account name:"),t.TgZ(461,"span",13),t._uU(462,"*"),t.qZA()()(),t.TgZ(463,"div",10)(464,"div")(465,"div",14),t._UZ(466,"input",115),t.qZA()()()()()()(),t.TgZ(467,"div",116),t._UZ(468,"div",9),t.TgZ(469,"div",10)(470,"div",11)(471,"div",117)(472,"div",9)(473,"div"),t._uU(474,"swift code:"),t.TgZ(475,"span",13),t._uU(476,"*"),t.qZA()()(),t.TgZ(477,"div",10)(478,"div")(479,"div",14),t._UZ(480,"input",118),t.qZA()()()(),t.TgZ(481,"div",119)(482,"div",9)(483,"div"),t._uU(484,"intermediary bank:"),t.qZA()(),t.TgZ(485,"div",10)(486,"div")(487,"div",14),t._UZ(488,"input",120),t.qZA()()()()()()()()()(),t.TgZ(489,"div",121)(490,"span",122),t.NdJ("click",function(){return n.save()}),t.TgZ(491,"span"),t._uU(492,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(493,j,3,0,"span",123),t.TgZ(494,"span",124),t.NdJ("click",function(){return n.goBack()}),t.TgZ(495,"span"),t._uU(496,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(166),t.Q6J("ngForOf",n.employees),t.xp6(60),t.Q6J("ngForOf",n.taxSystems),t.xp6(166),t.Q6J("ngForOf",n.employees),t.xp6(99),t.Q6J("ngIf",n.isEditMode))},dependencies:[d.sg,d.O5,q.KE,P.gD,A.ey,y.a,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u]}),i})();const C=(i,a,e)=>(n,o)=>{let r=0;if("numeric"===e)r=n[i]-o[i];else if("case-insensitive"===e){const p=n[i].toLocaleLowerCase(),h=o[i].toLocaleLowerCase();r=p.localeCompare(h)}else"case-sensitive"===e&&(r=n[i].localeCompare(o[i]));return"asc"===a?r:-r};var f=m(5412),k=m(918),x=m(4859);const L=["removeDialogRef"],Y=function(i){return{odd:i}},Q=function(i){return["edit",i]};function $(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr",12)(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._UZ(11,"td"),t.TgZ(12,"td")(13,"form",14)(14,"div",15)(15,"div",16)(16,"div",17),t._UZ(17,"div",18),t.TgZ(18,"div",19)(19,"div")(20,"div",20)(21,"label",21)(22,"input",22),t.NdJ("ngModelChange",function(o){const p=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.onGeneralChange(o,p))}),t.qZA(),t.TgZ(23,"div",23),t._UZ(24,"span",24)(25,"span",25),t.qZA(),t._UZ(26,"span",26),t.qZA()()()()()()()()(),t.TgZ(27,"td",27),t._UZ(28,"a",28)(29,"a",29),t.TgZ(30,"span",30),t._uU(31,"\u041d\u0435\u0442"),t.qZA(),t._UZ(32,"a",31),t.TgZ(33,"span",32),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.confirmRemove(r))}),t.qZA()()()}if(2&i){const e=a.$implicit;t.Q6J("ngClass",t.VKq(8,Y,a.odd)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.inn),t.xp6(2),t.Oqu(e.responsible_person_fio),t.xp6(12),t.Q6J("ngModel",1===e.general),t.xp6(10),t.Q6J("routerLink",t.VKq(10,Q,e.id))}}function R(i,a){if(1&i&&(t.TgZ(0,"h1",33),t._uU(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"),t.qZA(),t.TgZ(2,"div",34),t._uU(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e "),t.TgZ(4,"b"),t._uU(5),t.qZA(),t._uU(6," ? "),t.qZA(),t.TgZ(7,"div",35)(8,"button",36),t._uU(9,"\u0414\u0430"),t.qZA(),t.TgZ(10,"button",37),t._uU(11,"\u041d\u0435\u0442"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(3),t.Q6J("mat-dialog-close",!0)}}let z=(()=>{class i{constructor(e,n,o){this.companyService=e,this.dialog=n,this.snackBar=o,this.companies=[],this.total=0,this.start=0,this.limits=[10,25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadCompanies()}loadCompanies(){this.companyService.companyList().subscribe(e=>{const n=e||[];n.sort(C("name","asc","case-insensitive")),this.total=n.length,this.companies=n.slice(this.start,this.start+this.count)})}onStartChange(e){this.start=e,this.loadCompanies()}onCountChange(e){this.start=0,this.count=e,this.loadCompanies()}confirmRemove(e){this.dialog.open(this.removeDialogRef,{data:e}).afterClosed().subscribe(n=>{n&&this.removeCompany(e)})}removeCompany(e){this.companyService.companyDelete({body:{id:e.id}}).subscribe({next:()=>{this.snackBar.open(`\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f ${e.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.loadCompanies()},error:o=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438: "+o.error.error_message,void 0,{duration:1e3})})}onGeneralChange(e,n){const o={...n,general:e?1:0};this.companyService.companyUpdate({body:o}).subscribe({next:()=>this.loadCompanies(),error:r=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430: "+r.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b),t.Y36(f.uw),t.Y36(v.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-company"]],viewQuery:function(e,n){if(1&e&&t.Gf(L,5),2&e){let o;t.iGM(o=t.CRH())&&(n.removeDialogRef=o.first)}},decls:35,vars:5,consts:[[1,"main-table","fix-head","table-00bea6b89e723964a80f4b0d828e09b7"],["data-href","/erp/settings/company?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],["data-href","/erp/settings/company?sort_field=phone&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/company?sort_field=email&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/company?sort_field=inn&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/company?sort_field=director&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/company?sort_field=is_main&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[1,"right",2,"width","150px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[3,"ngClass"],[1,"col"],[1,"form"],[1,"form-placer"],[1,"form-items"],["data-id","main",1,"form-item"],[1,"form-title"],[1,"form-data"],[1,"form-input"],[1,"switch","outer"],["type","checkbox","name","general",3,"ngModel","ngModelChange"],[1,"switcher"],["data-on","\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439",1,"bg"],[1,"thumb"],["data-on","\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439",1,"switch-title"],[1,"col","min","right"],["data-href","/erp/settings/company?id=2&act=save_txt","title","TXT",1,"link-pic","ajax","link-txt","fn-link"],["data-href","/erp/settings/company?id=2&act=save_pdf","title","PDF",1,"link-pic","ajax","link-pdf","fn-link"],["data-href","/erp/settings/company?id=2&act=switch_show&show=1","title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3)(8,"span"),t._uU(9,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t._UZ(10,"span",2),t.qZA()(),t.TgZ(11,"th",4)(12,"span"),t._uU(13,"E-mail"),t._UZ(14,"span",2),t.qZA()(),t.TgZ(15,"th",5)(16,"span"),t._uU(17,"\u0418\u041d\u041d"),t._UZ(18,"span",2),t.qZA()(),t.TgZ(19,"th",6)(20,"span"),t._uU(21,"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),t._UZ(22,"span",2),t.qZA()(),t.TgZ(23,"th",7)(24,"span"),t._UZ(25,"span",2),t.qZA()(),t.TgZ(26,"th"),t._UZ(27,"span"),t.qZA(),t.TgZ(28,"th",8),t._UZ(29,"span"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,$,34,12,"tr",9),t.qZA()(),t.TgZ(32,"app-paginator",10),t.NdJ("startChange",function(r){return n.onStartChange(r)})("countChange",function(r){return n.onCountChange(r)}),t.qZA(),t.YNc(33,R,12,2,"ng-template",null,11,t.W1O)),2&e&&(t.xp6(31),t.Q6J("ngForOf",n.companies),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[d.mk,d.sg,f.ZT,f.uh,f.xY,f.H8,k.J,x.lW,u._Y,u.Wl,u.JJ,u.JL,u.On,u.F,l.yS],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']}),i})();const G=["removeDialogRef"],W=function(i){return{odd:i}},K=function(i){return["employee","edit",i]};function V(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr",20)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"div",21)(9,"div",22)(10,"div",23),t._UZ(11,"div",24),t.TgZ(12,"div",25)(13,"div")(14,"div",26)(15,"label",27)(16,"input",28),t.NdJ("ngModelChange",function(o){const p=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.onDepartmentLeaderChange(p,o))}),t.qZA(),t.TgZ(17,"div",29),t._UZ(18,"span",30)(19,"span",31),t.qZA(),t._UZ(20,"span",32),t.qZA()()()()()()()(),t.TgZ(21,"td",33),t._UZ(22,"a",34),t.TgZ(23,"span",35),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.confirmRemove(r))}),t.qZA()()()}if(2&i){const e=a.$implicit,n=a.odd,o=a.index,r=t.oxw();t.Q6J("ngClass",t.VKq(8,W,n)),t.xp6(2),t.Oqu(o+1),t.xp6(2),t.lnq("",e.name_f," ",e.name_i," ",e.name_o,""),t.xp6(2),t.Oqu(r.getPositionById(e.position_id)),t.xp6(10),t.Q6J("ngModel",1===e.department_leader),t.xp6(6),t.Q6J("routerLink",t.VKq(10,K,e.id))}}function X(i,a){if(1&i&&(t.TgZ(0,"h1",36),t._uU(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.qZA(),t.TgZ(2,"div",37),t._uU(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 "),t.TgZ(4,"b"),t._uU(5),t.qZA(),t._uU(6,"? "),t.qZA(),t.TgZ(7,"div",38)(8,"button",39),t._uU(9,"\u0414\u0430"),t.qZA(),t.TgZ(10,"button",40),t._uU(11,"\u041d\u0435\u0442"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(5),t.lnq("",e.name_f," ",e.name_i," ",e.name_o,""),t.xp6(3),t.Q6J("mat-dialog-close",!0)}}const H=function(){return["/pages","settings","employee","add"]},tt=function(i){return{department_id:i}};let et=(()=>{class i{constructor(e,n,o){this.companyService=e,this.dialog=n,this.snackBar=o,this.employees=[],this.positions=[]}ngOnInit(){this.loadEmployeesForDepartment(this.departmentId)}loadEmployeesForDepartment(e){this.companyService.companyEmployeeList({department_id:e}).subscribe(o=>{this.employees=o||[]})}loadPositions(){this.companyService.companyPositionList().subscribe(e=>{this.positions=e||[]})}getPositionById(e){return this.positions.find(n=>n.id===e)?.name}onDepartmentLeaderChange(e,n){const o={...e,department_leader:n?1:0};this.companyService.companyEmployeeUpdate({body:o}).subscribe(()=>this.loadEmployeesForDepartment(this.departmentId))}confirmRemove(e){this.dialog.open(this.removeDialogRef,{data:e}).afterClosed().subscribe(n=>{n&&this.removeEmployee(e)})}removeEmployee(e){this.companyService.companyEmployeeDelete({body:{id:e.id}}).subscribe({next:()=>{this.snackBar.open(`\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a ${e.name_f} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.loadEmployeesForDepartment(this.departmentId)},error:o=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+o.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b),t.Y36(f.uw),t.Y36(v.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-department-employee"]],viewQuery:function(e,n){if(1&e&&t.Gf(G,5),2&e){let o;t.iGM(o=t.CRH())&&(n.removeDialogRef=o.first)}},inputs:{departmentId:"departmentId"},decls:50,vars:6,consts:[[1,"form-group"],[1,"form-group-title"],["cellspacing","0",1,"main-table","fixed",2,"display","none","width","1144px","top","0px"],["data-href","/erp/settings/department?act=new&sort_field=nums&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","57.775px"],[1,"sorting-indicator"],["data-href","/erp/settings/department?act=new&sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","299px"],["data-href","/erp/settings/department?act=new&sort_field=position_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","323.725px"],[2,"width","349px"],[2,"width","114px"],[1,"main-table","fix-head","table-61c20c0f4c8ddffee3f3624545fe9ea4"],["data-href","/erp/settings/department?act=new&sort_field=nums&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","1px"],["data-href","/erp/settings/department?act=new&sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable",2,"width","250px"],["data-href","/erp/settings/department?act=new&sort_field=position_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[2,"width","300px"],[2,"width","65px"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"odd"],["colspan","5"],[1,"btn","add-item-text",3,"routerLink","queryParams"],["removeDialogRef",""],[3,"ngClass"],[1,"form-placer"],[1,"form-items"],["data-id","main",1,"form-item"],[1,"form-title"],[1,"form-data"],[1,"form-input"],[1,"switch","outer"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"switcher"],["data-on","\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c",1,"bg"],[1,"thumb"],["data-on","\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","data-off","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c",1,"switch-title"],[1,"col","min"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),t.qZA()(),t.TgZ(3,"table",2)(4,"tbody")(5,"tr")(6,"th",3)(7,"span"),t._UZ(8,"span",4),t.qZA()(),t.TgZ(9,"th",5)(10,"span"),t._uU(11,"\u0424.\u0418.\u041e."),t._UZ(12,"span",4),t.qZA()(),t.TgZ(13,"th",6)(14,"span"),t._uU(15,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t._UZ(16,"span",4),t.qZA()(),t.TgZ(17,"th",7),t._UZ(18,"span"),t.qZA(),t.TgZ(19,"th",8)(20,"span"),t._uU(21,"\u0420\u0435\u0434."),t.qZA()()()()(),t.TgZ(22,"table",9)(23,"thead")(24,"tr")(25,"th",10)(26,"span"),t._UZ(27,"span",4),t.qZA()(),t.TgZ(28,"th",11)(29,"span"),t._uU(30,"\u0424.\u0418.\u041e."),t._UZ(31,"span",4),t.qZA()(),t.TgZ(32,"th",12)(33,"span"),t._uU(34,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t._UZ(35,"span",4),t.qZA()(),t.TgZ(36,"th",13),t._UZ(37,"span"),t.qZA(),t.TgZ(38,"th",14)(39,"span"),t._uU(40,"\u0420\u0435\u0434."),t.qZA()()()(),t.TgZ(41,"tbody"),t.YNc(42,V,24,12,"tr",15),t.TgZ(43,"tr",16)(44,"td",17)(45,"a",18)(46,"span"),t._uU(47,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.qZA()()()()()(),t.YNc(48,X,12,4,"ng-template",null,19,t.W1O)),2&e&&(t.xp6(42),t.Q6J("ngForOf",n.employees),t.xp6(3),t.Q6J("routerLink",t.DdM(3,H))("queryParams",t.VKq(4,tt,n.departmentId)))},dependencies:[d.mk,d.sg,f.ZT,f.uh,f.xY,f.H8,x.lW,u.Wl,u.JJ,u.On,l.yS],styles:[".form-group[_ngcontent-%COMP%]{margin-top:25px}",'.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']}),i})();function nt(i,a){if(1&i&&t._UZ(0,"app-department-employee",21),2&i){const e=t.oxw();t.Q6J("departmentId",e.departmentId)}}function it(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"span",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.remove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}let M=(()=>{class i{constructor(e,n,o,r,p,h){this.fb=e,this.companyService=n,this.route=o,this.snackBar=r,this.router=p,this.location=h,this.isEditMode=!1,this.department={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.form=this.fb.group({id:[""],name:["",[u.kI.required]]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);this.isEditMode="edit"===e[1],this.isEditMode&&(this.departmentId=Number(this.route.snapshot.paramMap.get("id")),this.getDepartment()),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"}getDepartment(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyDepartmentInfo({id:e}).pipe((0,Z.b)(n=>{if(!n)throw{error:{error_message:"\u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.department=n,this.form.patchValue(this.department)},error:n=>{this.snackBar.open("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goBack()}})}goBack(){this.location.back()}save(){if(!this.form.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.form.value;"number"==typeof this.department.id?this.updateDepartment(e):this.createDepartment(e)}createDepartment(e){this.companyService.companyDepartmentCreate({body:e}).pipe().subscribe({next:({})=>{this.goBack(),this.snackBar.open("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}updateDepartment(e){this.companyService.companyDepartmentUpdate({body:e}).pipe().subscribe({next:()=>{this.snackBar.open("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",void 0,this.snackBarWithShortDuration),this.goBack()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyDepartmentDelete({body:{id:this.department.id}}).subscribe({next:()=>{this.snackBar.open(`\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 ${this.department.name} \u0443\u0434\u0430\u043b\u0435\u043d\u043e`,void 0,{duration:1e3}),this.goBack()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f: "+n.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.qu),t.Y36(b),t.Y36(l.gz),t.Y36(v.ux),t.Y36(l.F0),t.Y36(d.Ye))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-department-editor"]],decls:33,vars:5,consts:[[3,"title","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],[1,"form-group"],[1,"form-group-title"],["type","hidden","formControlName","id"],[1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","",1,"text-control"],[3,"departmentId",4,"ngIf"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],[3,"departmentId"],[1,"btn","v","del","button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"input",7),t.TgZ(10,"div",8),t._UZ(11,"div",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",9)(16,"div"),t._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f:"),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div")(22,"div",14),t._UZ(23,"input",15),t.qZA()()()()()()()()(),t.YNc(24,nt,1,1,"app-department-employee",16),t.qZA(),t.TgZ(25,"div",17)(26,"span",18),t.NdJ("click",function(){return n.save()}),t.TgZ(27,"span"),t._uU(28,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(29,it,3,0,"span",19),t.TgZ(30,"span",20),t.NdJ("click",function(){return n.goBack()}),t.TgZ(31,"span"),t._uU(32,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(22),t.Q6J("ngIf",n.departmentId),t.xp6(5),t.Q6J("ngIf",n.isEditMode))},dependencies:[d.O5,y.a,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,et],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']}),i})();const ot=function(i){return{col:i}};function ut(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"th",6),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.sort(r))}),t.TgZ(1,"span"),t._uU(2),t._UZ(3,"span",7),t.qZA()()}if(2&i){const e=a.$implicit,n=a.first,o=t.oxw();t.Q6J("ngClass",t.VKq(3,ot,n)),t.uIk("title",o.getColTitle(e)),t.xp6(2),t.Oqu(e.title)}}const at=function(i){return{odd:i}},rt=function(i){return["../employee",i]},st=function(){return["/pages","settings","employee","add"]},pt=function(i){return{department_id:i}},dt=function(){return["./department?id=1&act=switch_show&show=1"]},ct=function(i){return["edit",i]},lt=function(){return["./department?id=1&act=del"]};function mt(i,a){if(1&i&&(t.TgZ(0,"tr",8)(1,"td",9),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",10),t._uU(9,"\u041f\u043e\u043b\u0438\u043d\u0430 \u0417\u0430\u0439\u0446\u0435\u0432\u0430"),t.qZA()(),t.TgZ(10,"td")(11,"a",11)(12,"span"),t._uU(13,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),t.qZA()()(),t.TgZ(14,"td",12)(15,"span",13),t._uU(16,"\u041d\u0435\u0442"),t.qZA(),t._UZ(17,"a",14)(18,"span",15),t.qZA()()),2&i){const e=a.$implicit;t.Q6J("ngClass",t.VKq(10,at,a.odd)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.count_position),t.xp6(2),t.Oqu(e.count_user),t.xp6(2),t.Q6J("routerLink",t.VKq(12,rt,e.id)),t.xp6(3),t.Q6J("routerLink",t.DdM(14,st))("queryParams",t.VKq(15,pt,e.id)),t.xp6(4),t.Q6J("routerLink",t.DdM(17,dt)),t.xp6(2),t.Q6J("routerLink",t.VKq(18,ct,e.id)),t.xp6(1),t.Q6J("routerLink",t.DdM(20,lt))}}let gt=(()=>{class i{constructor(e,n){this.companyService=e,this.route=n,this.departments=[],this.total=0,this.start=0,this.limits=[10,25,50,100],this.count=this.limits[0],this.columns=[{name:"name",sortType:"case-insensitive",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",sortOrder:"asc"},{name:"count_position",sortType:"numeric",title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0435\u0439",sortOrder:"asc"},{name:"count_user",sortType:"numeric",title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432",sortOrder:"asc"},{name:"name",sortType:"case-insensitive",title:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",sortOrder:"asc"}],this.sortCol=this.columns[0]}ngOnInit(){this.loadDepartments()}loadDepartments(){this.companyService.companyDepartmentList().subscribe(e=>{const n=e=e||[];n.sort(this.getSortPredicate()),this.total=n.length,this.departments=n.slice(this.start,this.start+this.count)})}onStartChange(e){this.start=e,this.loadDepartments()}onCountChange(e){this.start=0,this.count=e,this.loadDepartments()}getSortPredicate(){return C(this.sortCol.name,this.sortCol.sortOrder,this.sortCol.sortType)}sort(e){this.start=0,this.sortCol===e?this.sortCol.sortOrder="asc"===e.sortOrder?"desc":"asc":(this.sortCol.sortOrder="asc",this.sortCol=e,this.sortCol.sortOrder="asc"),this.loadDepartments()}findColumnByName(e){return this.columns.find(n=>n.name===e)}getColTitle(e){return e===this.sortCol&&"asc"===e.sortOrder?"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e":"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b),t.Y36(l.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-department"]],decls:11,vars:6,consts:[[1,"main-table","fix-head","table-065dcf359d0addbf0d3ed4570559e2c1"],["class","column-sortable",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"width","134px"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],[1,"column-sortable",3,"ngClass","click"],[1,"sorting-indicator"],[3,"ngClass"],[1,"col"],[1,"link-view",3,"routerLink"],[1,"btn","add-item-text",3,"routerLink","queryParams"],[1,"col","min","right"],["title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide",3,"routerLink"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr"),t.YNc(3,ut,4,5,"th",1),t.TgZ(4,"th",2),t._UZ(5,"span"),t.qZA(),t.TgZ(6,"th",3),t._UZ(7,"span"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,mt,19,21,"tr",4),t.qZA()(),t.TgZ(10,"app-paginator",5),t.NdJ("startChange",function(r){return n.onStartChange(r)})("countChange",function(r){return n.onCountChange(r)}),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.columns),t.xp6(6),t.Q6J("ngForOf",n.departments),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[d.mk,d.sg,k.J,l.rH,l.yS],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2}),i})();function _t(i,a){if(1&i&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function ht(i,a){if(1&i&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ft(i,a){if(1&i&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function bt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.remove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}let O=(()=>{class i{constructor(e,n,o,r,p,h){this.fb=e,this.companyService=n,this.route=o,this.snackBar=r,this.router=p,this.location=h,this.isEditMode=!1,this.employee={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.companies=[],this.departments=[],this.positions=[],this.form=this.fb.group({id:[""],name_f:["",[u.kI.required]],name_i:["",[u.kI.required]],name_o:["",[u.kI.required]],birth_date:[""],company_id:["",[u.kI.required]],department_id:["",[u.kI.required]],position_id:["",[u.kI.required]],employment_date:[""],dismissal_date:[""],email:["",[u.kI.required,u.kI.email]],phone:[""],skype:[""]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);if(this.isEditMode="edit"===e[1],this.isEditMode)this.getEmployee();else{const n=this.route.snapshot.queryParamMap.get("department_id");n&&this.form.patchValue({department_id:Number(n)})}this.getCompanies(),this.getDepartments(),this.getPositions(),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}getEmployee(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyEmployeeInfo({id:e}).pipe((0,Z.b)(n=>{if(!n)throw{error:{error_message:"\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.employee=n,this.form.patchValue(this.employee)},error:n=>{this.snackBar.open("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goBack()}})}goBack(){this.location.back()}save(){if(!this.form.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.form.value;"number"==typeof this.employee.id?this.updateEmployee(e):this.createEmployee(e)}createEmployee(e){this.companyService.companyEmployeeCreate({body:e}).pipe().subscribe({next:({})=>{this.goBack(),this.snackBar.open("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0441\u043e\u0437\u0434\u0430\u043d",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}updateEmployee(e){this.companyService.companyEmployeeUpdate({body:e}).pipe().subscribe({next:()=>{this.goBack(),this.snackBar.open("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyEmployeeDelete({body:{id:this.employee.id}}).subscribe({next:()=>{this.snackBar.open(`\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a ${this.employee.name_f} \u0443\u0434\u0430\u043b\u0435\u043d`,void 0,{duration:1e3}),this.goBack()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+n.error.error_message,void 0,{duration:1e3})})}getCompanies(){this.companyService.companyList().subscribe(e=>this.companies=e)}getDepartments(){this.companyService.companyDepartmentList().subscribe(e=>this.departments=e)}getPositions(){this.companyService.companyPositionList().subscribe(e=>this.positions=e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.qu),t.Y36(b),t.Y36(l.gz),t.Y36(v.ux),t.Y36(l.F0),t.Y36(d.Ye))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-employee-editor"]],decls:152,vars:7,consts:[[3,"title","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],[1,"form-group"],[1,"form-group-title"],["type","hidden","formControlName","id"],[1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],[1,"form-item",2,"width","25%"],[1,"req"],[1,"form-input"],["type","text","formControlName","name_f","required","",1,"text-control"],["type","text","formControlName","name_i","required","",1,"text-control"],["data-id","var_name_o",1,"form-item",2,"width","25%"],["type","text","formControlName","name_o",1,"text-control"],["type","date","formControlName","birth_date",1,"text-control"],["data-id","group_inline_2",1,"form-item","form-inline-group"],["data-id","var_company_id",1,"form-item",2,"width","50%"],["appearance","outline",1,"ui-select"],["formControlName","company_id"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data-id","var_department_id",1,"form-item",2,"width","50%"],["appearance","outline",1,"full-width","ui-select"],["formControlName","department_id"],["data-id","group_inline_3",1,"form-item","form-inline-group"],[1,"form-item",2,"width","50%"],["formControlName","position_id"],[1,"width_50","form-group-row"],["type","date","formControlName","employment_date",1,"text-control"],["type","date","formControlName","dismissal_date",1,"text-control"],["data-id","group_inline_4",1,"form-item","form-inline-group"],["type","text","formControlName","email","required","",1,"text-control"],["data-id","var_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","phone",1,"text-control"],["data-id","var_skype",1,"form-item",2,"width","25%"],["type","text","formControlName","skype",1,"text-control"],[1,"width_25"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],[3,"value"],[1,"btn","v","del","button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0435"),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"input",7),t.TgZ(10,"div",8),t._UZ(11,"div",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",9)(16,"div"),t._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div")(22,"div",14),t._UZ(23,"input",15),t.qZA()()()(),t.TgZ(24,"div",12)(25,"div",9)(26,"div"),t._uU(27,"\u0418\u043c\u044f:"),t.TgZ(28,"span",13),t._uU(29,"*"),t.qZA()()(),t.TgZ(30,"div",10)(31,"div")(32,"div",14),t._UZ(33,"input",16),t.qZA()()()(),t.TgZ(34,"div",17)(35,"div",9)(36,"div"),t._uU(37,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e:"),t.TgZ(38,"span",13),t._uU(39,"*"),t.qZA()()(),t.TgZ(40,"div",10)(41,"div")(42,"div",14),t._UZ(43,"input",18),t.qZA()()()(),t.TgZ(44,"div",12)(45,"div",9)(46,"div"),t._uU(47,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"),t.qZA()(),t.TgZ(48,"div",10)(49,"div")(50,"div",14),t._UZ(51,"input",19),t.qZA()()()()()()(),t.TgZ(52,"div",20),t._UZ(53,"div",9),t.TgZ(54,"div",10)(55,"div",11)(56,"div",21)(57,"div",9)(58,"div"),t._uU(59,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:"),t.TgZ(60,"span",13),t._uU(61,"*"),t.qZA()()(),t.TgZ(62,"div",10)(63,"mat-form-field",22)(64,"mat-select",23)(65,"mat-option",24),t._uU(66,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(67,_t,2,2,"mat-option",25),t.qZA()()()(),t.TgZ(68,"div",26)(69,"div",9)(70,"div"),t._uU(71,"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:"),t.TgZ(72,"span",13),t._uU(73,"*"),t.qZA()()(),t.TgZ(74,"div",10)(75,"mat-form-field",27)(76,"mat-select",28)(77,"mat-option",24),t._uU(78,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(79,ht,2,2,"mat-option",25),t.qZA()()()()()()(),t.TgZ(80,"div",29),t._UZ(81,"div",9),t.TgZ(82,"div",10)(83,"div",11)(84,"div",30)(85,"div",9)(86,"div"),t._uU(87,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c:"),t.TgZ(88,"span",13),t._uU(89,"*"),t.qZA()()(),t.TgZ(90,"div",10)(91,"mat-form-field",27)(92,"mat-select",31)(93,"mat-option",24),t._uU(94,"-- \u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e --"),t.qZA(),t.YNc(95,ft,2,2,"mat-option",25),t.qZA()()()(),t.TgZ(96,"div",32)(97,"div",30)(98,"div",9)(99,"div"),t._uU(100,"\u0414\u0430\u0442\u0430 \u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:"),t.qZA()(),t.TgZ(101,"div",10)(102,"div")(103,"div",14),t._UZ(104,"input",33),t.qZA()()()(),t.TgZ(105,"div",30)(106,"div",9)(107,"div"),t._uU(108,"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f:"),t.qZA()(),t.TgZ(109,"div",10)(110,"div")(111,"div",14),t._UZ(112,"input",34),t.qZA()()()()()()()(),t.TgZ(113,"div",35),t._UZ(114,"div",9),t.TgZ(115,"div",10)(116,"div",11)(117,"div",12)(118,"div",9)(119,"div"),t._uU(120,"E-mail:"),t.TgZ(121,"span",13),t._uU(122,"*"),t.qZA()()(),t.TgZ(123,"div",10)(124,"div")(125,"div",14),t._UZ(126,"input",36),t.qZA()()()(),t.TgZ(127,"div",37)(128,"div",9)(129,"div"),t._uU(130,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"),t.qZA()(),t.TgZ(131,"div",10)(132,"div")(133,"div",14),t._UZ(134,"input",38),t.qZA()()()(),t.TgZ(135,"div",39)(136,"div",9)(137,"div"),t._uU(138,"Skype:"),t.qZA()(),t.TgZ(139,"div",10)(140,"div")(141,"div",14),t._UZ(142,"input",40),t.qZA()()()(),t._UZ(143,"div",41),t.qZA()()()()()(),t.TgZ(144,"div",42)(145,"span",43),t.NdJ("click",function(){return n.save()}),t.TgZ(146,"span"),t._uU(147,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(148,bt,3,0,"span",44),t.TgZ(149,"span",45),t.NdJ("click",function(){return n.goBack()}),t.TgZ(150,"span"),t._uU(151,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(65),t.Q6J("ngForOf",n.companies),t.xp6(12),t.Q6J("ngForOf",n.departments),t.xp6(16),t.Q6J("ngForOf",n.positions),t.xp6(53),t.Q6J("ngIf",n.isEditMode))},dependencies:[d.sg,d.O5,q.KE,P.gD,A.ey,y.a,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u],encapsulation:2}),i})();const vt=function(i){return{odd:i}},Zt=function(i){return["edit",i]};function yt(i,a){if(1&i&&(t.TgZ(0,"tr",12)(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td",14)(17,"span",15),t._uU(18,"\u041d\u0435\u0442"),t.qZA(),t._UZ(19,"a",16)(20,"span",17),t.qZA()()),2&i){const e=a.$implicit,n=a.odd,o=t.oxw();t.Q6J("ngClass",t.VKq(13,vt,n)),t.xp6(2),t.lnq("",e.name_f," ",e.name_i," ",e.name_o,""),t.xp6(2),t.Oqu(o.getCompanyById(e.company_id)),t.xp6(2),t.Oqu(o.getDepartmentById(e.department_id)),t.xp6(2),t.Oqu(o.getPositionById(e.position_id)),t.xp6(2),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(t.lcZ(15,11,e.birth_date)),t.xp6(5),t.Q6J("routerLink",t.VKq(15,Zt,e.id))}}let Ct=(()=>{class i{constructor(e){this.companyService=e,this.employees=[],this.departments=[],this.positions=[],this.companies=[],this.total=0,this.start=0,this.limits=[10,25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadEmployees(),this.loadPositions(),this.loadDepartments(),this.loadCompanies()}loadEmployees(){this.companyService.companyEmployeeList().subscribe(e=>{const n=e||[];n.sort(C("name_f","asc","case-insensitive")),this.total=n.length,this.employees=n.slice(this.start,this.start+this.count)})}loadDepartments(){this.companyService.companyDepartmentList().subscribe(e=>{this.departments=e||[]})}loadPositions(){this.companyService.companyPositionList().subscribe(e=>{this.positions=e||[]})}loadCompanies(){this.companyService.companyList().subscribe(e=>{this.companies=e||[]})}getPositionById(e){return this.positions.find(n=>n.id===e)?.name}getDepartmentById(e){return this.departments.find(n=>n.id===e)?.name}getCompanyById(e){return this.companies.find(n=>n.id===e)?.name}onStartChange(e){this.start=e,this.loadEmployees()}onCountChange(e){this.start=0,this.count=e,this.loadEmployees()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-employee"]],decls:36,vars:5,consts:[[1,"main-table","fix-head","table-98a02492513816a6438bbd36fc9458a2"],["data-href","/erp/settings/employee?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],["data-href","/erp/settings/employee?sort_field=count_position&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=department_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=position_id&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=phone&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=email&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],["data-href","/erp/settings/employee?sort_field=birth_date&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"column-sortable"],[1,"right",2,"width","80px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],[3,"ngClass"],[1,"col"],[1,"col","min","right"],["title","\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c",1,"link-pic","ajax","notext","fn-link","link-hide"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["onclick","return delConfirm(this, '\u0423\u0434\u0430\u043b\u0438\u0442\u044c?');","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u0424.\u0418.\u041e."),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3)(8,"span"),t._uU(9,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),t._UZ(10,"span",2),t.qZA()(),t.TgZ(11,"th",4)(12,"span"),t._uU(13,"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),t._UZ(14,"span",2),t.qZA()(),t.TgZ(15,"th",5)(16,"span"),t._uU(17,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t._UZ(18,"span",2),t.qZA()(),t.TgZ(19,"th",6)(20,"span"),t._uU(21,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t._UZ(22,"span",2),t.qZA()(),t.TgZ(23,"th",7)(24,"span"),t._uU(25,"E-mail"),t._UZ(26,"span",2),t.qZA()(),t.TgZ(27,"th",8)(28,"span"),t._uU(29,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434."),t._UZ(30,"span",2),t.qZA()(),t.TgZ(31,"th",9),t._UZ(32,"span"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,yt,21,17,"tr",10),t.qZA()(),t.TgZ(35,"app-paginator",11),t.NdJ("startChange",function(r){return n.onStartChange(r)})("countChange",function(r){return n.onCountChange(r)}),t.qZA()),2&e&&(t.xp6(34),t.Q6J("ngForOf",n.employees),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[d.mk,d.sg,k.J,l.yS,d.uU],styles:['.main-table{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header th{padding:0}.main-table.hide-header th *{display:none}.main-table th{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table td{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table td.col{border:1px solid #E0E5EB}.main-table td.min{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table td:first-child{border-left:1px solid #E0E5EB}.main-table td:last-child{border-right:1px solid #E0E5EB}.main-table td.right{text-align:right}.main-table td.center{text-align:center}.main-table .odd>td{background:#F7F9FC}.main-table .link-pic{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table .link-pic.no-text{font-size:0}.main-table .link-edit{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table .link-del{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table .link-txt:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-pdf:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table .link-show{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table .link-hide{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table .link-view{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}\n'],encapsulation:2}),i})(),kt=(()=>{class i{constructor(e,n){this.fb=e,this.snackBar=n,this.form=e.group({fio:[""],email:[""],phone:[""]})}ngOnInit(){this.loadPersonalSettings()}loadPersonalSettings(){this.sorry()}save(){this.sorry()}sorry(){this.snackBar.open("Sorry, No API for personal settings implemented yet")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.qu),t.Y36(v.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-personal-settings"]],decls:37,vars:1,consts:[[1,"form",3,"formGroup"],[1,"form-placer","simple"],[1,"form-items"],["data-id","title_0",1,"form-sub-title"],["data-id","group_inline_0",1,"form-item","form-inline-group"],[1,"form-title"],[1,"form-data"],[1,"form-group-row"],["data-id","var_fio",1,"form-item",2,"width","50%"],[1,"form-input"],["type","text","formControlName","fio",1,"text-control"],["data-id","var_phone",1,"form-item",2,"width","25%"],["type","text","formControlName","phone",1,"text-control"],["data-id","var_email",1,"form-item",2,"width","25%"],["type","text","formControlName","email",1,"text-control"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"div",5),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",5)(11,"div"),t._uU(12,"\u0424\u0418\u041e:"),t.qZA()(),t.TgZ(13,"div",6)(14,"div")(15,"div",9),t._UZ(16,"input",10),t.qZA()()()(),t.TgZ(17,"div",11)(18,"div",5)(19,"div"),t._uU(20,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"),t.qZA()(),t.TgZ(21,"div",6)(22,"div")(23,"div",9),t._UZ(24,"input",12),t.qZA()()()(),t.TgZ(25,"div",13)(26,"div",5)(27,"div"),t._uU(28,"E-mail:"),t.qZA()(),t.TgZ(29,"div",6)(30,"div")(31,"div",9),t._UZ(32,"input",14),t.qZA()()()()()()()(),t.TgZ(33,"div",15)(34,"span",16),t.NdJ("click",function(){return n.save()}),t.TgZ(35,"span"),t._uU(36,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),t.qZA()()()()()),2&e&&t.Q6J("formGroup",n.form)},dependencies:[u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u]}),i})();function xt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"span",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.remove())}),t.TgZ(1,"span"),t._uU(2,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}let B=(()=>{class i{constructor(e,n,o,r,p,h){this.fb=e,this.companyService=n,this.route=o,this.snackBar=r,this.router=p,this.location=h,this.isEditMode=!1,this.position={},this.snackBarWithShortDuration={duration:1e3},this.snackBarWithLongDuration={duration:5e3},this.title="",this.form=this.fb.group({id:[""],name:["",[u.kI.required]]})}ngOnInit(){const e=this.route.snapshot.url.map(n=>n.path);this.isEditMode="edit"===e[1],this.isEditMode&&this.getPosition(),this.title=this.isEditMode?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"}getPosition(){const e=Number(this.route.snapshot.paramMap.get("id"));this.companyService.companyPositionInfo({id:e}).pipe((0,Z.b)(n=>{if(!n)throw{error:{error_message:"\u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}}})).subscribe({next:n=>{this.position=n,this.form.patchValue(this.position)},error:n=>{this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430: "+n.error.error_message,void 0,this.snackBarWithShortDuration),this.goBack()}})}goBack(){this.location.back()}save(){if(!this.form.valid)return void this.snackBar.open("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",void 0,this.snackBarWithLongDuration);const e=this.form.value;"number"==typeof this.position.id?this.updatePosition(e):this.createPosition(e)}createPosition(e){this.companyService.companyPositionCreate({body:e}).pipe().subscribe({next:({})=>{this.goBack(),this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0430",void 0,this.snackBarWithShortDuration)},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}updatePosition(e){this.companyService.companyPositionUpdate({body:e}).pipe().subscribe({next:()=>{this.snackBar.open("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430",void 0,this.snackBarWithShortDuration),this.goBack()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,this.snackBarWithShortDuration)})}remove(){this.companyService.companyPositionDelete({body:{id:this.position.id}}).subscribe({next:()=>{this.snackBar.open(`\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c ${this.position.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.goBack()},error:n=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+n.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.qu),t.Y36(b),t.Y36(l.gz),t.Y36(v.ux),t.Y36(l.F0),t.Y36(d.Ye))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-position-editor"]],decls:32,vars:4,consts:[[3,"title","isEditMode","save","remove"],[1,"edit-form"],[1,"form",3,"formGroup"],[1,"form-placer"],[1,"form-items"],["data-id","group_0",1,"form-group"],[1,"form-group-title"],[1,"form-item","form-inline-group"],[1,"form-title"],["type","hidden","formControlName","id"],[1,"form-data"],[1,"form-group-row"],[1,"form-item"],[1,"req"],[1,"form-input"],["type","text","formControlName","name","required","",1,"text-control"],[1,"form-button-placer"],[1,"btn","v","save","button","ico","ico-floppy-disk2",3,"click"],["class","btn v del button",3,"click",4,"ngIf"],[1,"btn","v","cancel","button","gray",3,"click"],[1,"btn","v","del","button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-editor-header",0),t.NdJ("save",function(){return n.save()})("remove",function(){return n.remove()}),t.qZA(),t.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.qZA(),t.TgZ(8,"div")(9,"div",7),t._UZ(10,"div",8)(11,"input",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",8)(16,"div"),t._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438:"),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA()()(),t.TgZ(20,"div",10)(21,"div")(22,"div",14),t._UZ(23,"input",15),t.qZA()()()()()()()()()(),t.TgZ(24,"div",16)(25,"span",17),t.NdJ("click",function(){return n.save()}),t.TgZ(26,"span"),t._uU(27,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.YNc(28,xt,3,0,"span",18),t.TgZ(29,"span",19),t.NdJ("click",function(){return n.goBack()}),t.TgZ(30,"span"),t._uU(31,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()()()()()),2&e&&(t.Q6J("title",n.title)("isEditMode",n.isEditMode),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(26),t.Q6J("ngIf",n.isEditMode))},dependencies:[d.O5,y.a,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u]}),i})();const Et=["removeDialogRef"],Tt=function(i){return{odd:i}},Ut=function(i){return["./edit",i]};function qt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr",7)(1,"td",8),t._uU(2),t.qZA(),t.TgZ(3,"td",9),t._UZ(4,"a",10),t.TgZ(5,"span",11),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.confirmRemove(r))}),t.qZA()()()}if(2&i){const e=a.$implicit;t.Q6J("ngClass",t.VKq(3,Tt,a.odd)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("routerLink",t.VKq(5,Ut,e.id))}}function Pt(i,a){if(1&i&&(t.TgZ(0,"h1",12),t._uU(1,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(2,"div",13),t._uU(3," \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c "),t.TgZ(4,"b"),t._uU(5),t.qZA(),t._uU(6," ? "),t.qZA(),t.TgZ(7,"div",14)(8,"button",15),t._uU(9,"\u0414\u0430"),t.qZA(),t.TgZ(10,"button",16),t._uU(11,"\u041d\u0435\u0442"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(3),t.Q6J("mat-dialog-close",!0)}}let At=(()=>{class i{constructor(e,n,o){this.companyService=e,this.dialog=n,this.snackBar=o,this.positions=[],this.total=0,this.start=0,this.limits=[10,25,50,100],this.count=this.limits[0]}ngOnInit(){this.loadPositions()}loadPositions(){this.companyService.companyPositionList().subscribe(e=>{const n=e||[];n.sort(C("name","asc","case-insensitive")),this.total=n.length,this.positions=n.slice(this.start,this.start+this.count)})}onStartChange(e){this.start=e,this.loadPositions()}onCountChange(e){this.start=0,this.count=e,this.loadPositions()}confirmRemove(e){this.dialog.open(this.removeDialogRef,{data:e}).afterClosed().subscribe(n=>{n&&this.removePosition(e)})}removePosition(e){this.companyService.companyPositionDelete({body:{id:e.id}}).subscribe({next:()=>{this.snackBar.open(`\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c ${e.name} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,void 0,{duration:1e3}),this.loadPositions()},error:o=>this.snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438: "+o.error.error_message,void 0,{duration:1e3})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b),t.Y36(f.uw),t.Y36(v.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-position"]],viewQuery:function(e,n){if(1&e&&t.Gf(Et,5),2&e){let o;t.iGM(o=t.CRH())&&(n.removeDialogRef=o.first)}},decls:14,vars:5,consts:[[1,"main-table","fix-head","table-4e6cc9770d169fc6e17fab7fb0968f9b"],["data-href","/erp/settings/position?sort_field=name&sort_order=asc&ajax_load=table%2Ctable_function","title","\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",1,"col","column-sortable"],[1,"sorting-indicator"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"total","count","start","limits","startChange","countChange"],["removeDialogRef",""],[3,"ngClass"],[1,"col"],[1,"col","min"],["title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"link-pic","link-edit","ico","ico-pencil","fn-link",3,"routerLink"],["title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"link-pic","link-del","ico","ico-cross2","fn-link",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1)(4,"span"),t._uU(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t._UZ(6,"span",2),t.qZA()(),t.TgZ(7,"th",3),t._UZ(8,"span"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,qt,6,7,"tr",4),t.qZA()(),t.TgZ(11,"app-paginator",5),t.NdJ("startChange",function(r){return n.onStartChange(r)})("countChange",function(r){return n.onCountChange(r)}),t.qZA(),t.YNc(12,Pt,12,2,"ng-template",null,6,t.W1O)),2&e&&(t.xp6(10),t.Q6J("ngForOf",n.positions),t.xp6(1),t.Q6J("total",n.total)("count",n.count)("start",n.start)("limits",n.limits))},dependencies:[d.mk,d.sg,f.ZT,f.uh,f.xY,f.H8,k.J,x.lW,l.yS],styles:['.main-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;box-shadow:0 2px 8px #242d4314}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.main-table.hide-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.main-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#83909E;border-left:1px solid #83909E;text-align:left;color:#fff;font-weight:400;font-size:13px;line-height:13px;padding:18px 24px 16px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;border:1px solid #E0E5EB;padding:12px 24px 10px;border-right:0;border-left:0}.main-table[_ngcontent-%COMP%]   td.col[_ngcontent-%COMP%]{border:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.min[_ngcontent-%COMP%]{white-space:nowrap;padding-left:10px;padding-right:10px}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #E0E5EB}.main-table[_ngcontent-%COMP%]   td.right[_ngcontent-%COMP%]{text-align:right}.main-table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.main-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#F7F9FC}.main-table[_ngcontent-%COMP%]   .link-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;cursor:pointer;text-decoration:none;text-align:center;vertical-align:top}.main-table[_ngcontent-%COMP%]   .link-pic.no-text[_ngcontent-%COMP%]{font-size:0}.main-table[_ngcontent-%COMP%]   .link-edit[_ngcontent-%COMP%]{background:url(pic-btn-edit.f813160c8951e93e.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-del[_ngcontent-%COMP%]{background:url(pic-btn-del-gray.841cf291092986ee.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]:before{content:"TXT";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-pdf[_ngcontent-%COMP%]:before{content:"PDF";color:#db563b;font-size:11px;line-height:11px;margin-top:13px;display:inline-block}.main-table[_ngcontent-%COMP%]   .link-show[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center}.main-table[_ngcontent-%COMP%]   .link-hide[_ngcontent-%COMP%]{font-size:0;background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat center center;opacity:.2}.main-table[_ngcontent-%COMP%]   .link-view[_ngcontent-%COMP%]{background:url(pic-btn-show.55e9f521f75fbbd4.svg) no-repeat 0 2px;display:inline-block;padding-left:24px;text-decoration:none;color:#2c3640}']}),i})();const Dt=function(i){return[i,"add"]};function Mt(i,a){if(1&i&&(t.TgZ(0,"a",13)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.Q6J("routerLink",t.VKq(2,Dt,null==e.activeMenuItem?null:e.activeMenuItem.link)),t.xp6(2),t.Oqu(null==e.activeMenuItem?null:e.activeMenuItem.addButtonTitle)}}const w=function(i){return[i]};function Ot(i,a){if(1&i&&(t.TgZ(0,"a",21),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,w,e.link)),t.xp6(1),t.Oqu(e.title)}}const Bt=function(i){return{open:i}},wt=function(i){return{display:i}};function Ft(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.toggleGroup(r))}),t._UZ(2,"span",16),t.TgZ(3,"span",17),t._uU(4),t.qZA(),t._UZ(5,"span",18),t.qZA(),t.TgZ(6,"div",19),t.YNc(7,Ot,2,4,"a",20),t.qZA()()}if(2&i){const e=a.$implicit;t.Q6J("ngClass",t.VKq(5,Bt,e.expanded)),t.xp6(2),t.Q6J("ngClass",e.cssClass),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Q6J("ngStyle",t.VKq(7,wt,e.expanded?"":"none")),t.xp6(1),t.Q6J("ngForOf",e.items)}}const It=[{path:"",component:(()=>{class i{constructor(e,n){this.router=e,this.activatedRoute=n,this.settings=[{title:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",cssClass:"settings-common",expanded:!0,items:[{title:"\u041b\u0438\u0447\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",link:"./personal"},{title:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",link:"./company",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"}]},{title:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",cssClass:"settings-company-structure",expanded:!0,items:[{title:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",link:"./department",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"},{title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",link:"./position",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"},{title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",link:"./employee",canAdd:!0,addButtonTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}]}],this.routerEventSubscription=e.events.subscribe(o=>{o instanceof l.m2&&this.detectMenuItemAndGroup()})}ngOnInit(){}ngOnDestroy(){this.routerEventSubscription.unsubscribe()}toggleGroup(e){e.expanded=!e.expanded}detectMenuItemAndGroup(){for(const e of this.settings)for(const n of e.items){const o=this.router.createUrlTree([n.link],{relativeTo:this.activatedRoute});if(this.router.isActive(o,{paths:"subset",matrixParams:"ignored",queryParams:"ignored",fragment:"ignored"}))return this.activeMenuItem=n,void(this.activeMenuGroup=e)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.F0),t.Y36(l.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-settings"]],decls:23,vars:8,consts:[[1,"subheader"],[1,"placer"],[1,"title"],[1,"break-crumbs"],[1,"item-crumbs"],[1,"del-crumbs"],[3,"routerLink"],[1,"div"],["class","btn add",3,"routerLink",4,"ngIf"],[1,"settings"],[1,"left","side-menu"],["class","menu-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"settings-page"],[1,"btn","add",3,"routerLink"],[1,"menu-group",3,"ngClass"],[1,"group-name",3,"click"],[1,"ico",3,"ngClass"],[1,"name"],[1,"chevron"],[1,"group-items",3,"ngStyle"],["class","menu-item","routerLinkActive","open",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","open",1,"menu-item",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"span",4),t._uU(6,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),t.qZA(),t.TgZ(7,"span",5),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",4),t._uU(10),t.qZA(),t.TgZ(11,"span",5),t._uU(12,"/"),t.qZA(),t.TgZ(13,"span",4)(14,"a",6),t._uU(15),t.qZA()()(),t._UZ(16,"div",7),t.YNc(17,Mt,3,4,"a",8),t.qZA()(),t.TgZ(18,"div",9)(19,"div",10),t.YNc(20,Ft,8,9,"div",11),t.qZA(),t.TgZ(21,"div",12),t._UZ(22,"router-outlet"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(null==n.activeMenuItem?null:n.activeMenuItem.title),t.xp6(7),t.hij(" ",null==n.activeMenuGroup?null:n.activeMenuGroup.title,""),t.xp6(4),t.Q6J("routerLink",t.VKq(6,w,null==n.activeMenuItem?null:n.activeMenuItem.link)),t.xp6(1),t.hij(" ",null==n.activeMenuItem?null:n.activeMenuItem.title,""),t.xp6(2),t.Q6J("ngIf",null==n.activeMenuItem?null:n.activeMenuItem.canAdd),t.xp6(3),t.Q6J("ngForOf",n.settings))},dependencies:[d.mk,d.sg,d.O5,d.PC,l.lC,l.yS,l.Od],styles:[".settings{display:flex;flex-grow:1}.settings .left{width:320px;flex-shrink:0}.settings .settings-page{flex-grow:1;padding:20px}.settings .settings-page .table-footer{padding:20px 0 0}.side-menu{background:#4B66AD;color:#fff}.side-menu a{color:#fff;text-decoration:none}.side-menu .menu-group{border-bottom:1px solid #5B77C1}.side-menu .group-name{display:flex;align-items:center;cursor:pointer}.side-menu .group-name .ico{width:56px;height:56px;display:flex;justify-content:center;align-items:center;background-repeat:no-repeat;background-position:center}.settings-common{background-image:url(pic-settings-common.71a443c53900234c.svg)}.settings-company-structure{background-image:url(pic-settings-company-structure.3b7df5efe313f427.svg)}.side-menu .group-name .name{flex-grow:1}.side-menu .group-name .chevron{width:56px;height:56px;background:url(settings-arrow-down.b95565480e6df875.svg) no-repeat center center}.side-menu .menu-group.open{background:#5B77C1}.side-menu .menu-group.open .group-name .ico svg path{fill:#fff}.side-menu .menu-group.open .group-name .chevron{transform:rotate(180deg)}.side-menu .menu-group.open .group-name+.group-items{display:block}.side-menu .group-items{padding:0 0 7px 48px}.side-menu .menu-item{display:block;font-size:13px;line-height:16px;padding:8px 10px 7px 8px;border-radius:6px 0 0 6px;cursor:pointer}.side-menu .menu-item+.menu-item{margin-top:3px}.side-menu .menu-item.open{background:#fff;color:#4b66ad}\n"],encapsulation:2}),i})(),children:[{path:"",redirectTo:"department",pathMatch:"full"},{path:"department",component:gt,pathMatch:"full"},{path:"position",component:At,pathMatch:"full"},{path:"employee",component:Ct,pathMatch:"full"},{path:"company",component:z,pathMatch:"full"},{path:"personal",component:kt,pathMatch:"full"}]},{path:"position/add",component:B,pathMatch:"full"},{path:"position/edit/:id",component:B,pathMatch:"full"},{path:"department/add",component:M,pathMatch:"full"},{path:"department/edit/:id",component:M,pathMatch:"full"},{path:"employee/add",component:O,pathMatch:"full"},{path:"employee/edit/:id",component:O,pathMatch:"full"},{path:"company/add",component:D,pathMatch:"full"},{path:"company/edit/:id",component:D,pathMatch:"full"}];let Nt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.Bz.forChild(It),l.Bz]}),i})(),Jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,F.q,u.u5,u.UX,Nt]}),i})()}}]);